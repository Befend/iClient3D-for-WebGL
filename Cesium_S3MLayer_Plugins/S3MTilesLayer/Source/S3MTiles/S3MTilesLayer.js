const _0x1880=['_visibleViewport','queryFirstNode','bounds','isUseHypColorTable','_selectedColor','.s3m','_baseResource','RGBA','_multiChoose','RESET','url','roll','updateGeoBounds','constType','setLodRangeScale','region','clearCustomClipBox','_style3D','index','ArraySize','_totalMemoryUsageInBytes','updateAllObjsVisible','renderState','otherwise','remove','s3mblock','_selectEnabled','_basePath','BoundingBox','context','Version','firstChild','ALL','_removeObjsOperationType','isVisible','defined','clip_behind_all_plane','isUpdate','_imageBuffer','height','values','_objsVisibleList','_swipeRegion','EMPTY_OBJECT','updateGeometry','setObjsVisible','OSGFiles','_blockCache','_requestTiles','execute','set\x20Objs\x20Operation\x20ids','invModelMatrix','_setObjsOperationType','isRootTile','data/path/','Cartesian4','CategoryRange','unpack','cullingVolume','queryBooleanValue','isArray','Intersect','set\x20Objs\x20Operation\x20operationType','ColorTable','CenterZ','geoBounds','_position','getBaseUri','renderTexture','_selections','AverageHeight','Files','set\x20layer\x20lod\x20range\x20scale','_edgeCurrentCount','averageHeight','attachFiles','textContent','_updateObjsOperation','tiles','length','SELECTED','fetchXML','CenterY','56943CFewCx','brdfLutGenerator','update','AssociativeArray','ONLY_KEEP_LINE','command','addFlattenRegion','_clipMode','removeWaterPlane','WaterEffect','DeveloperError','position','heightRange','Position','computeVisibility','framebuffer','updateObjsOperation','hypsometric','heading','_selectedTiles','_isS3MB','276572TbqNCS','newFrame','unloadTiles','when','getSingleInstance','OSGBCacheFile_Water','_createRasterRegion','indexOf','positionCartographic','wDescript','timeVal','schedule','replace','min','Transforms','49658NUtkXD','PolygonGeometry','getVisibleInViewport','keys','then','planePos','the\x20index\x20is\x200~3','getSelection','Float','max\x20visible\x20altitude','setCustomClipBox','prototype','_visibleDistanceMax','width','_maxHeight','options.context','Index','ids','CLIP_NOTHING','_rootTiles','HeightRange','distance','MaxZ','GpuConstantDefinition','Texture','FData','_swipeEnabled','arraySize','fbo','style3D','1AAMAXp','_maximumMemoryUsage','heightOffset','maxVisibleDistance','setObjsColor\x20color','PixelFormat','FileType','createGuid','priority','uniformMap','_visible','arrayFloat','realspace','regions','range','_tranverseRenderEntity','clip','Framebuffer','dimensions\x20position\x20is\x20required\x20to\x20create\x20CustomClipBox','sort','removeAll','getExtensionFromUri','boundingVolume','multiple','_rectangle','PhysicalIndex','multiViewportIndex','_oriClipPlane','469267eYQvJa','_enableClipPlane','MinY','analysisMode','_minVisibleAltitude','96859fAXycR','radius','max','createGeometry','_objsColorList','hasOwnProperty','right','flatten','loadConfig','Bounds','queryStringValue','fromDegreesArrayHeights','setVisibleInViewport','isS3MBlock','426591KEUwaR','setOnlyObjsVisible','_maxVisibleAltitude','number','CLIP_BEHIND_ANY_PLANE','camera','_flattenPar','dot','lodRangeScale','Authentication\x20error','fetchJson','_edgeCurrentTotalLength','_waterParameters','_maxCategory','_clipPlane','dimensions','rss','AnalysisRegionMode','MAX_VALUE','clone','name','_enableClip','1RDBLpg','processRequests','MinX','inverseViewMatrix','texture','extensions','setSelection\x20ids','_updateAllObjsVisible','1rQhZbo','Cartesian2','clipMode','modelMatrix','_updateObjsColor','MinCategory','CenterX','setCustomClipPlane','updateObjsColor','releaseSelection','min\x20visible\x20altitude','generateBuffer','subtract','MaxX','fromElements','postPassesUpdate','object','BoundingSphere','free','queryNodes','renderEntityMap','queryNumericValue','paramType','AutoConstantEntry','Check','_minWValue','boundingbox','Matrix4','Left','abs','3bxSOdt','_hypsometric','physicalIndex','_subTextureManager','_url','hypsometricSetting','defaultValue','OUTSIDE','typeOf','_lodRangeScale','set','_edgeDistanceFalloffFactor','FileName','data','HIDE','_objsVisibleMap','createCommand','BoundingRectangle','_hash','requestContent','visible','MinZ','_objsHideList','_minCategory','textureHeight','atuoConstants','gpuProgramParameters','isS3MB','all','flattening','_materialManager','ArrayFloat','contains','_waterPlanes','Rectangle','removeObjsColor\x20ids','gpuConstants','bottom','_objsOperationList','fromDegrees','multiplyByVector','30462rEpfhf','removeObjsColor','setOnlyObjsVisible\x20isVisible','setting','Right','curDis','setSelection','destroy','IsReal','WGS84','push','Data','ready','positionWC','Radius','AutoConstants','_processTiles','maxVisibleAltitude','childNodes','inverse','_cache','isDestroyed','defer','MaxHeight','elementCount','_isS3MBlock','planeNormal','clip_behind_any_plane','pop','_schuduler','ClearCommand','isReal','_minHeight','_maximumPriority','ParamType','Color','_allObjsHide','s3m:FileType','Name','get','.water','ConstType','_visibleDistanceMin','reset','Ellipsoid','left','_readyPromise','Cartesian3','fileType','max\x20visible\x20distance','getDerivedResource','concat','_updateEdgeDistanceFalloffFactor','cross','add','textureWidth','CLIP_BEHIND_ALL_PLANE','GpuConstants','Top','children'];const _0x435a70=_0x4975;(function(_0x397b4c,_0x19a357){const _0x20c738=_0x4975;while(!![]){try{const _0x782f0c=-parseInt(_0x20c738(0x252))+-parseInt(_0x20c738(0x270))*parseInt(_0x20c738(0x152))+-parseInt(_0x20c738(0x244))+parseInt(_0x20c738(0x205))*parseInt(_0x20c738(0x28e))+-parseInt(_0x20c738(0x268))*-parseInt(_0x20c738(0x23f))+parseInt(_0x20c738(0x1e1))+parseInt(_0x20c738(0x1f6))*parseInt(_0x20c738(0x223));if(_0x782f0c===_0x19a357)break;else _0x397b4c['push'](_0x397b4c['shift']());}catch(_0x48d411){_0x397b4c['push'](_0x397b4c['shift']());}}}(_0x1880,0x61214));import _0x7725c4 from'./S3MTile.js';import _0x25176f from'./S3MLayerScheduler.js';import _0x483966 from'./S3MLayerCache.js';import _0x20db4e from'./Enum/OperationType.js';import _0x457455 from'./Enum/PLANECLIPMODE.js';import _0xee5482 from'./Hypsometric.js';import _0xa467ee from'./HypsometricSetting.js';import _0x1b2297 from'./Enum/HypsometricSettingEnum.js';function _0x4975(_0x37cf24,_0x24e2f7){_0x37cf24=_0x37cf24-0x134;let _0x1880a3=_0x1880[_0x37cf24];return _0x1880a3;}import _0x3e2ce8 from'./Parameter/Flatten.js';import _0x49b3f4 from'./RasterRegion.js';import _0x14fa12 from'../Ext/XmlParser.js';import _0x1859ef from'./Style3D.js';import _0x503bca from'./S3MBlockCache.js';function S3MTilesLayer(_0xe8c9f7){const _0x4e0d93=_0x4975;_0xe8c9f7=Cesium[_0x4e0d93(0x294)](_0xe8c9f7,Cesium[_0x4e0d93(0x294)][_0x4e0d93(0x1b9)]),Cesium['Check']['defined'](_0x4e0d93(0x214),_0xe8c9f7[_0x4e0d93(0x1ab)]),Cesium['Check'][_0x4e0d93(0x1b1)](_0x4e0d93(0x25b),_0xe8c9f7[_0x4e0d93(0x262)]),this['id']=Cesium[_0x4e0d93(0x22a)](),this[_0x4e0d93(0x266)]=_0xe8c9f7['name'],this[_0x4e0d93(0x1ab)]=_0xe8c9f7[_0x4e0d93(0x1ab)],this['_isS3MB']=Cesium[_0x4e0d93(0x294)](_0xe8c9f7[_0x4e0d93(0x144)],!![]),this[_0x4e0d93(0x16b)]=Cesium[_0x4e0d93(0x294)](_0xe8c9f7[_0x4e0d93(0x251)],![]),this[_0x4e0d93(0x292)]=undefined,this[_0x4e0d93(0x1a9)]=undefined,this[_0x4e0d93(0x194)]=undefined,this['modelMatrix']=new Cesium['Matrix4'](),this[_0x4e0d93(0x1c1)]=new Cesium[(_0x4e0d93(0x28b))](),this[_0x4e0d93(0x182)]=undefined,this['_position']=undefined,this['_rectangle']=undefined,this['_rootTiles']=[],this['_schuduler']=new _0x25176f(),this[_0x4e0d93(0x1be)]=[],this[_0x4e0d93(0x162)]=[],this[_0x4e0d93(0x1f4)]=[],this['_cache']=new _0x483966(),this[_0x4e0d93(0x224)]=-0x1,this['_totalMemoryUsageInBytes']=0x0,this[_0x4e0d93(0x173)]={'foveatedFactor':-Number[_0x4e0d93(0x264)],'depth':-Number[_0x4e0d93(0x264)],'distance':-Number[_0x4e0d93(0x264)],'pixel':-Number[_0x4e0d93(0x264)]},this['_minimumPriority']={'foveatedFactor':Number['MAX_VALUE'],'depth':Number[_0x4e0d93(0x264)],'distance':Number[_0x4e0d93(0x264)],'pixel':Number['MAX_VALUE']},this['_readyPromise']=Cesium[_0x4e0d93(0x1f9)][_0x4e0d93(0x168)](),this[_0x4e0d93(0x1a8)]=!![],this[_0x4e0d93(0x196)]=![],this[_0x4e0d93(0x1d3)]=[],this[_0x4e0d93(0x192)]=new Cesium[(_0x4e0d93(0x175))](0.7,0.7,0x1,0x1),this[_0x4e0d93(0x14f)]=new Cesium['AssociativeArray'](),this[_0x4e0d93(0x1b7)]=new Cesium[(_0x4e0d93(0x1e4))](),this['_objsHideList']=new Cesium[(_0x4e0d93(0x1e4))](),this[_0x4e0d93(0x138)]={},this[_0x4e0d93(0x248)]={},this['_allObjsHide']=![],this[_0x4e0d93(0x1e8)]=_0x457455[_0x4e0d93(0x217)],this[_0x4e0d93(0x267)]=![],this[_0x4e0d93(0x240)]=![],this[_0x4e0d93(0x260)]=[new Cesium[(_0x4e0d93(0x1c5))](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium[(_0x4e0d93(0x1c5))](0x0,0x0,0x0,0x0),new Cesium[(_0x4e0d93(0x1c5))](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium[(_0x4e0d93(0x1c5))](0x0,0x0,0x0,0x0)],this[_0x4e0d93(0x23e)]=[new Cesium[(_0x4e0d93(0x1c5))](0x0,0x0,0x0,0x0),new Cesium[(_0x4e0d93(0x1c5))](0x0,0x0,0x0,0x0),new Cesium[(_0x4e0d93(0x1c5))](0x0,0x0,0x0,0x0),new Cesium[(_0x4e0d93(0x1c5))](0x0,0x0,0x0,0x0),new Cesium[(_0x4e0d93(0x1c5))](0x0,0x0,0x0,0x0),new Cesium[(_0x4e0d93(0x1c5))](0x0,0x0,0x0,0x0)],this[_0x4e0d93(0x28f)]=new _0xee5482({}),this[_0x4e0d93(0x258)]=new _0x3e2ce8(),this['_minCategory']=0x0,this[_0x4e0d93(0x25f)]=0x0,this[_0x4e0d93(0x172)]=0x0,this[_0x4e0d93(0x213)]=0x0,this['_swipeRegion']=new Cesium[(_0x4e0d93(0x1c5))](0x0,0x0,0x1,0x1),this[_0x4e0d93(0x21f)]=![],this[_0x4e0d93(0x211)]=Cesium[_0x4e0d93(0x294)](_0xe8c9f7[_0x4e0d93(0x226)],Number[_0x4e0d93(0x264)]),this[_0x4e0d93(0x17c)]=Cesium[_0x4e0d93(0x294)](_0xe8c9f7['minVisibleDistance'],0x0),this[_0x4e0d93(0x243)]=Cesium['defaultValue'](_0xe8c9f7['minVisibleAltitude'],0x0),this[_0x4e0d93(0x254)]=Cesium[_0x4e0d93(0x294)](_0xe8c9f7[_0x4e0d93(0x163)],Number[_0x4e0d93(0x264)]),this[_0x4e0d93(0x297)]=Cesium[_0x4e0d93(0x294)](_0xe8c9f7[_0x4e0d93(0x25a)],0x1),this[_0x4e0d93(0x22d)]=Cesium[_0x4e0d93(0x294)](_0xe8c9f7[_0x4e0d93(0x13d)],!![]),this[_0x4e0d93(0x19f)]=Cesium[_0x4e0d93(0x294)](_0xe8c9f7[_0x4e0d93(0x222)],new _0x1859ef()),this[_0x4e0d93(0x18e)]=0xfff,this[_0x4e0d93(0x25e)]=undefined,this['_waterPlanes']=undefined,this[_0x4e0d93(0x134)]=0x0,this[_0x4e0d93(0x25d)]=0x0,this['_edgeCurrentCount']=0x0,this[_0x4e0d93(0x1bd)]=_0x503bca[_0x4e0d93(0x1fa)](),this[_0x4e0d93(0x147)]=undefined,this[_0x4e0d93(0x291)]=undefined,this[_0x4e0d93(0x24c)](_0xe8c9f7[_0x4e0d93(0x198)]);}Object['defineProperties'](S3MTilesLayer[_0x435a70(0x210)],{'ready':{'get':function(){const _0x181d30=_0x435a70;if(this[_0x181d30(0x182)]===_0x181d30(0x1fb))return this['_waterParameters']!==undefined&&this[_0x181d30(0x218)][_0x181d30(0x1dd)]>0x0;return this[_0x181d30(0x218)][_0x181d30(0x1dd)]>0x0;}},'readyPromise':{'get':function(){const _0x8f2c2=_0x435a70;return this[_0x8f2c2(0x180)];}},'visible':{'get':function(){const _0x2860e0=_0x435a70;return this[_0x2860e0(0x22d)];},'set':function(_0x2b692b){const _0x3737ea=_0x435a70;this[_0x3737ea(0x22d)]=_0x2b692b;}},'style3D':{'get':function(){return this['_style3D'];}},'rectangle':{'get':function(){const _0x3ef752=_0x435a70;return this[_0x3ef752(0x23b)];}},'totalMemoryUsageInBytes':{'get':function(){const _0x197d1d=_0x435a70;return this[_0x197d1d(0x1a2)];},'set':function(_0x48b31a){this['_totalMemoryUsageInBytes']=_0x48b31a;}},'maximumMemoryUsage':{'get':function(){const _0x27b145=_0x435a70;return this[_0x27b145(0x224)];},'set':function(_0x5f52a5){this['_maximumMemoryUsage']=_0x5f52a5;}},'lodRangeScale':{'get':function(){const _0x5d5c73=_0x435a70;return this[_0x5d5c73(0x297)];},'set':function(_0x1eb777){const _0x4c38e6=_0x435a70;Cesium[_0x4c38e6(0x288)]['typeOf']['number'](_0x4c38e6(0x1d6),_0x1eb777),this[_0x4c38e6(0x297)]=_0x1eb777;}},'selectedColor':{'get':function(){const _0x1f7a10=_0x435a70;return this[_0x1f7a10(0x192)];},'set':function(_0x3604a7){const _0x11f3d2=_0x435a70;Cesium[_0x11f3d2(0x175)]['clone'](_0x3604a7,this[_0x11f3d2(0x192)]);}},'dataMinValue':{'get':function(){const _0x3e39ba=_0x435a70;return Cesium[_0x3e39ba(0x294)](this[_0x3e39ba(0x140)],this[_0x3e39ba(0x172)]);}},'dataMaxValue':{'get':function(){const _0x215f42=_0x435a70;return Cesium['defaultValue'](this[_0x215f42(0x25f)],this['_maxHeight']);}},'swipeRegion':{'get':function(){const _0x42147d=_0x435a70;return new Cesium[(_0x42147d(0x13a))](this[_0x42147d(0x1b8)]['x'],this[_0x42147d(0x1b8)]['y'],this[_0x42147d(0x1b8)]['z']-this[_0x42147d(0x1b8)]['x'],this[_0x42147d(0x1b8)]['w']-this[_0x42147d(0x1b8)]['y']);},'set':function(_0x1bd04a){const _0x1ef757=_0x435a70;if(!_0x1bd04a)return;if(!(_0x1bd04a instanceof Cesium[_0x1ef757(0x13a)]))throw new Cesium[(_0x1ef757(0x1eb))]('swipeRegion\x20must\x20be\x20a\x20instance\x20of\x20BoundingRectangle.');Cesium[_0x1ef757(0x1c5)][_0x1ef757(0x27e)](_0x1bd04a['x'],_0x1bd04a['y'],_0x1bd04a['x']+_0x1bd04a[_0x1ef757(0x212)],_0x1bd04a['y']+_0x1bd04a[_0x1ef757(0x1b5)],this[_0x1ef757(0x1b8)]);}},'swipeEnabled':{'get':function(){const _0x20cd90=_0x435a70;return this[_0x20cd90(0x21f)];},'set':function(_0x56493){const _0x5430c3=_0x435a70;if(_0x56493===this[_0x5430c3(0x21f)])return;!_0x56493&&Cesium['Cartesian4'][_0x5430c3(0x27e)](0x0,0x0,0x1,0x1,this[_0x5430c3(0x1b8)]),this[_0x5430c3(0x21f)]=_0x56493,this['_tranverseRenderEntity']({'enable':_0x56493},swipeCallback);}},'visibleDistanceMax':{'get':function(){const _0xfff793=_0x435a70;return this[_0xfff793(0x211)];},'set':function(_0x227068){const _0x3e7b36=_0x435a70;Cesium[_0x3e7b36(0x288)][_0x3e7b36(0x296)][_0x3e7b36(0x255)](_0x3e7b36(0x183),_0x227068),this[_0x3e7b36(0x211)]=_0x227068;}},'visibleDistanceMin':{'get':function(){const _0x5e15fb=_0x435a70;return this[_0x5e15fb(0x17c)];},'set':function(_0x3a4cfa){const _0x29a650=_0x435a70;Cesium['Check']['typeOf'][_0x29a650(0x255)]('min\x20visible\x20distance',_0x3a4cfa),this[_0x29a650(0x17c)]=_0x3a4cfa;}},'minVisibleAltitude':{'get':function(){const _0x521465=_0x435a70;return this[_0x521465(0x243)];},'set':function(_0x1e5c89){const _0x2976b3=_0x435a70;Cesium[_0x2976b3(0x288)]['typeOf']['number'](_0x2976b3(0x27a),_0x1e5c89),this[_0x2976b3(0x243)]=_0x1e5c89;}},'maxVisibleAltitude':{'get':function(){return this['_maxVisibleAltitude'];},'set':function(_0x2a6eaf){const _0x2bf040=_0x435a70;Cesium[_0x2bf040(0x288)][_0x2bf040(0x296)][_0x2bf040(0x255)](_0x2bf040(0x20e),_0x2a6eaf),this[_0x2bf040(0x254)]=_0x2a6eaf;}},'hypsometricSetting':{'get':function(){const _0xd43eb4=_0x435a70;return{'hypsometricSetting':this[_0xd43eb4(0x28f)][_0xd43eb4(0x155)],'analysisMode':this[_0xd43eb4(0x28f)][_0xd43eb4(0x242)]};},'set':function(_0x4b1921){const _0xb4df1e=_0x435a70;let _0x410616=this[_0xb4df1e(0x28f)];if(!_0x4b1921||!_0x4b1921['hypsometricSetting']){_0x410616[_0xb4df1e(0x191)]=![],_0x410616[_0xb4df1e(0x155)]=_0x410616['setting']&&_0x410616[_0xb4df1e(0x155)][_0xb4df1e(0x159)](),this[_0xb4df1e(0x232)]({'enable':![]},hypsometricCallback);return;}_0x410616[_0xb4df1e(0x19d)]=_0x410616['region']&&_0x410616[_0xb4df1e(0x19d)][_0xb4df1e(0x159)](),!_0x410616[_0xb4df1e(0x1d2)]&&(_0x410616[_0xb4df1e(0x1d2)]=new Cesium[(_0xb4df1e(0x21d))]({'context':this[_0xb4df1e(0x1ab)],'width':0x400,'height':0x400,'pixelFormat':Cesium[_0xb4df1e(0x228)][_0xb4df1e(0x195)]})),!_0x410616['texture']&&(_0x410616['texture']=new Cesium[(_0xb4df1e(0x21d))]({'context':this['context'],'width':0x400,'height':0x40,'pixelFormat':Cesium[_0xb4df1e(0x228)][_0xb4df1e(0x195)],'flipY':![]})),_0x410616['analysisMode']=Cesium[_0xb4df1e(0x294)](_0x4b1921[_0xb4df1e(0x242)],_0x410616[_0xb4df1e(0x242)]),_0x410616[_0xb4df1e(0x155)]=_0xa467ee[_0xb4df1e(0x265)](_0x4b1921[_0xb4df1e(0x293)],_0x410616[_0xb4df1e(0x155)]),_0x410616[_0xb4df1e(0x155)][_0xb4df1e(0x1cd)]&&(_0x410616['setting']['ColorTable'][_0xb4df1e(0x27b)](),this[_0xb4df1e(0x28f)][_0xb4df1e(0x26c)]&&this[_0xb4df1e(0x28f)][_0xb4df1e(0x26c)]['copyFrom']({'width':0x400,'height':0x40,'arrayBufferView':_0x410616[_0xb4df1e(0x155)][_0xb4df1e(0x1cd)][_0xb4df1e(0x1b4)]})),_0x410616[_0xb4df1e(0x191)]=_0x410616[_0xb4df1e(0x242)]!==_0x1b2297[_0xb4df1e(0x263)]['ARM_NONE'],this['_tranverseRenderEntity']({'enable':_0x410616[_0xb4df1e(0x191)]},hypsometricCallback);}}});function getWaterEffect(_0x33a89a){const _0x3e6f1c=_0x435a70;let _0x5d321f={},_0x20c89b=_0x33a89a[_0x3e6f1c(0x1ad)];_0x5d321f['version']=_0x14fa12[_0x3e6f1c(0x24e)](_0x20c89b,_0x3e6f1c(0x1ac)),_0x5d321f[_0x3e6f1c(0x182)]=_0x14fa12[_0x3e6f1c(0x24e)](_0x20c89b,_0x3e6f1c(0x229));let _0x358ebd=_0x14fa12[_0x3e6f1c(0x18f)](_0x20c89b,_0x3e6f1c(0x1ea));_0x5d321f[_0x3e6f1c(0x1d8)]=_0x14fa12[_0x3e6f1c(0x285)](_0x358ebd,_0x3e6f1c(0x1d4));let _0x44b647=_0x14fa12[_0x3e6f1c(0x283)](_0x358ebd,'GpuProgramParameters');_0x5d321f[_0x3e6f1c(0x143)]=[];for(let _0x6d0a98=0x0,_0x6b81b8=_0x44b647['length'];_0x6d0a98<_0x6b81b8;_0x6d0a98++){let _0xa6106b={};_0xa6106b[_0x3e6f1c(0x14d)]=[],_0xa6106b[_0x3e6f1c(0x142)]=[];let _0x38da2d=_0x44b647[_0x6d0a98],_0x35c7be=_0x14fa12[_0x3e6f1c(0x18f)](_0x38da2d,_0x3e6f1c(0x18b));if(_0x35c7be){let _0x57688f=_0x14fa12[_0x3e6f1c(0x283)](_0x35c7be,_0x3e6f1c(0x21c));for(let _0x2b0953=0x0,_0x432fe8=_0x57688f[_0x3e6f1c(0x1dd)];_0x2b0953<_0x432fe8;_0x2b0953++){let _0x59633c={},_0x7c8b0e=_0x57688f[_0x2b0953];_0x59633c[_0x3e6f1c(0x19b)]=_0x14fa12[_0x3e6f1c(0x285)](_0x7c8b0e,_0x3e6f1c(0x17b)),_0x59633c[_0x3e6f1c(0x1a0)]=_0x14fa12['queryNumericValue'](_0x7c8b0e,_0x3e6f1c(0x215)),_0x59633c['name']=_0x14fa12[_0x3e6f1c(0x24e)](_0x7c8b0e,'Name'),_0x59633c['arraySize']=_0x14fa12['queryNumericValue'](_0x7c8b0e,_0x3e6f1c(0x1a1)),_0x59633c[_0x3e6f1c(0x23a)]=_0x14fa12[_0x3e6f1c(0x285)](_0x7c8b0e,'Multiple');let _0x591276=_0x14fa12['queryFirstNode'](_0x7c8b0e,_0x3e6f1c(0x148));_0x59633c[_0x3e6f1c(0x22e)]=[];if(_0x591276){let _0x286860=_0x14fa12['queryNodes'](_0x591276,_0x3e6f1c(0x20d)),_0x26b1eb=0x0;while(_0x26b1eb<_0x59633c[_0x3e6f1c(0x220)]){let _0x2bac3b=parseFloat(_0x286860[_0x26b1eb][_0x3e6f1c(0x1da)]);_0x59633c[_0x3e6f1c(0x22e)]['push'](_0x2bac3b),_0x26b1eb++;}}_0xa6106b['gpuConstants'][_0x3e6f1c(0x15c)](_0x59633c);}}let _0x112455=_0x14fa12[_0x3e6f1c(0x18f)](_0x38da2d,_0x3e6f1c(0x161));if(_0x112455){let _0x3f7467=_0x14fa12[_0x3e6f1c(0x283)](_0x112455,_0x3e6f1c(0x287));for(let _0x76350b=0x0,_0x20a8ea=_0x3f7467[_0x3e6f1c(0x1dd)];_0x76350b<_0x20a8ea;_0x76350b++){let _0x30b82e={},_0x59a68b=_0x3f7467[_0x76350b];_0x30b82e[_0x3e6f1c(0x286)]=_0x14fa12[_0x3e6f1c(0x285)](_0x59a68b,_0x3e6f1c(0x174)),_0x30b82e[_0x3e6f1c(0x266)]=_0x14fa12[_0x3e6f1c(0x24e)](_0x59a68b,_0x3e6f1c(0x178)),_0x30b82e[_0x3e6f1c(0x290)]=_0x14fa12[_0x3e6f1c(0x285)](_0x59a68b,_0x3e6f1c(0x23c)),_0x30b82e[_0x3e6f1c(0x16a)]=_0x14fa12[_0x3e6f1c(0x285)](_0x59a68b,'ElementCount'),_0x30b82e[_0x3e6f1c(0x136)]=_0x14fa12[_0x3e6f1c(0x285)](_0x59a68b,_0x3e6f1c(0x15d)),_0x30b82e['fData']=_0x14fa12['queryNumericValue'](_0x59a68b,_0x3e6f1c(0x21e)),_0x30b82e[_0x3e6f1c(0x171)]=_0x14fa12[_0x3e6f1c(0x1c9)](_0x59a68b,_0x3e6f1c(0x15a)),_0xa6106b['atuoConstants'][_0x3e6f1c(0x15c)](_0x30b82e);}}_0x5d321f[_0x3e6f1c(0x143)][_0x3e6f1c(0x15c)](_0xa6106b);}return _0x5d321f;}function getUrl(_0x19e8ca,_0x1bac7e){const _0x13230b=_0x435a70;let _0x5b7b66=_0x1bac7e['_basePath'],_0x1ee1c4=_0x1bac7e['_basePath'][_0x13230b(0x1fd)](_0x13230b(0x22f))>-0x1;if(!_0x1ee1c4)return _0x19e8ca;let _0x29aa4a=_0x5b7b66['replace'](/(.*realspace)/,''),_0x34bc4e=_0x5b7b66[_0x13230b(0x202)](/\/rest\/realspace/g,'')[_0x13230b(0x202)](_0x29aa4a,'');return _0x34bc4e+'/rest/realspace'+_0x29aa4a+_0x13230b(0x1c4)+_0x19e8ca[_0x13230b(0x202)](/^\.*/,'')[_0x13230b(0x202)](/^\//,'')[_0x13230b(0x202)](/\/$/,'');}function parseWaterParameters(_0x47f197,_0x3ceed8){const _0x54b37c=_0x435a70;let _0xdeb4e8=_0x3ceed8[_0x54b37c(0x26d)];if(!_0xdeb4e8||!_0xdeb4e8[_0x54b37c(0x1d9)])return;let _0xf2d671=_0xdeb4e8[_0x54b37c(0x1d9)],_0x32077b=[],_0x2d841c=_0x47f197[_0x54b37c(0x1a9)],_0x1de473=![];for(let _0x4d66e4=0x0,_0x1ceb8d=_0xf2d671['length'];_0x4d66e4<_0x1ceb8d;_0x4d66e4++){let _0x486a7f=_0xf2d671[_0x4d66e4]['attachFile'];if(_0x486a7f[_0x54b37c(0x1fd)](_0x54b37c(0x17a))>0x0){let _0x4f22a4=getUrl(_0x486a7f,_0x47f197),_0x479db=_0x47f197[_0x54b37c(0x194)][_0x54b37c(0x184)]({'url':_0x4f22a4});_0x32077b[_0x54b37c(0x15c)](_0x479db[_0x54b37c(0x1df)]()),_0x1de473=!![];}}if(!_0x32077b[_0x54b37c(0x1dd)])return;Cesium['when'][_0x54b37c(0x145)](_0x32077b,_0x33545a=>{const _0x3e07b4=_0x54b37c;let _0x16237e=[];for(let _0x2fec1c=0x0,_0x2d428b=_0x33545a['length'];_0x2fec1c<_0x2d428b;_0x2fec1c++){let _0x59231a=_0x33545a[_0x2fec1c];if(!_0x59231a)break;let _0x3515d1=getWaterEffect(_0x59231a);_0x16237e['push'](_0x3515d1);}_0x47f197[_0x3e07b4(0x14a)]=new Cesium[(_0x3e07b4(0x1e4))](),_0x47f197[_0x3e07b4(0x25e)]={};let _0x5994d1=_0x16237e[0x0];_0x47f197[_0x3e07b4(0x25e)][_0x3e07b4(0x1d8)]=_0x5994d1[_0x3e07b4(0x1d8)];for(let _0x5b6d2a=0x0;_0x5b6d2a<_0x5994d1['gpuProgramParameters'][_0x3e07b4(0x1dd)];_0x5b6d2a++){let _0x3ef946=_0x5994d1[_0x3e07b4(0x143)][_0x5b6d2a];for(let _0x40234c=0x0;_0x40234c<_0x3ef946['atuoConstants'][_0x3e07b4(0x1dd)];_0x40234c++){let _0x4f9d51=_0x3ef946['atuoConstants'][_0x40234c];if(_0x4f9d51[_0x3e07b4(0x266)]===_0x3e07b4(0x200)){_0x47f197['_waterParameters'][_0x4f9d51[_0x3e07b4(0x266)]]=_0x4f9d51['fData'];break;}}for(let _0x4c2fd7=0x0;_0x4c2fd7<_0x3ef946['gpuConstants'][_0x3e07b4(0x1dd)];_0x4c2fd7++){let _0x2f2907=_0x3ef946[_0x3e07b4(0x14d)][_0x4c2fd7],_0x1e14cb=null;switch(_0x2f2907['arraySize']){case 0x1:_0x1e14cb=_0x2f2907[_0x3e07b4(0x22e)][0x0];break;case 0x2:_0x1e14cb=new Cesium[(_0x3e07b4(0x271))](),Cesium[_0x3e07b4(0x271)][_0x3e07b4(0x1c7)](_0x2f2907[_0x3e07b4(0x22e)],0x0,_0x1e14cb);break;case 0x3:_0x1e14cb=new Cesium[(_0x3e07b4(0x181))](),Cesium[_0x3e07b4(0x181)][_0x3e07b4(0x1c7)](_0x2f2907[_0x3e07b4(0x22e)],0x0,_0x1e14cb);break;case 0x4:_0x1e14cb=new Cesium[(_0x3e07b4(0x1c5))](),Cesium[_0x3e07b4(0x1c5)][_0x3e07b4(0x1c7)](_0x2f2907[_0x3e07b4(0x22e)],0x0,_0x1e14cb);break;default:break;}if(!_0x1e14cb)continue;_0x47f197[_0x3e07b4(0x25e)][_0x2f2907['name']]=_0x1e14cb;}}_0x47f197[_0x3e07b4(0x182)]+='_Water';});}S3MTilesLayer[_0x435a70(0x210)][_0x435a70(0x24c)]=function(_0xd4b2a1){const _0x3fd58a=_0x435a70;let _0xf3b7e5=this;Cesium[_0x3fd58a(0x1f9)](_0xd4b2a1)[_0x3fd58a(0x209)](function(_0x1c62ed){const _0xb72d46=_0x3fd58a;let _0x41ff57,_0x4f8617=Cesium['Resource']['createIfNeeded'](_0x1c62ed);_0x41ff57=_0x4f8617[_0xb72d46(0x1d1)](!![]),_0xf3b7e5[_0xb72d46(0x292)]=_0x4f8617[_0xb72d46(0x198)],_0xf3b7e5['_basePath']=_0x41ff57,_0xf3b7e5[_0xb72d46(0x194)]=_0x4f8617;if(_0xf3b7e5['_isS3MB']||_0xf3b7e5['_isS3MBlock'])return _0x4f8617[_0xb72d46(0x25c)]();return _0x4f8617[_0xb72d46(0x1df)]();})[_0x3fd58a(0x209)](function(_0x28ebce){const _0x34ce50=_0x3fd58a;if(_0xf3b7e5[_0x34ce50(0x1f5)]||_0xf3b7e5[_0x34ce50(0x16b)]){let _0x3c1424=_0x28ebce[_0x34ce50(0x26d)];_0xf3b7e5[_0x34ce50(0x182)]=_0x3c1424[_0x34ce50(0x177)];let _0x28d8d8=_0x28ebce[_0x34ce50(0x1ec)]['x'],_0x5c1f56=_0x28ebce[_0x34ce50(0x1ec)]['y'],_0x9c433a=_0x28ebce[_0x34ce50(0x1ec)]['z'];_0xf3b7e5[_0x34ce50(0x1d0)]=Cesium['Cartesian3'][_0x34ce50(0x150)](_0x28d8d8,_0x5c1f56,_0x9c433a),_0xf3b7e5[_0x34ce50(0x273)]=Cesium['Transforms']['eastNorthUpToFixedFrame'](_0xf3b7e5[_0x34ce50(0x1d0)]),_0xf3b7e5[_0x34ce50(0x1c1)]=Cesium['Matrix4']['inverse'](_0xf3b7e5[_0x34ce50(0x273)],_0xf3b7e5['invModelMatrix']),_0xf3b7e5['_rectangle']=Cesium[_0x34ce50(0x14b)]['fromDegrees'](_0x28ebce['geoBounds'][_0x34ce50(0x17f)],_0x28ebce[_0x34ce50(0x1cf)][_0x34ce50(0x14e)],_0x28ebce['geoBounds'][_0x34ce50(0x24a)],_0x28ebce[_0x34ce50(0x1cf)]['top']);_0x28ebce[_0x34ce50(0x1ed)]&&(_0xf3b7e5[_0x34ce50(0x172)]=_0x28ebce['heightRange']['min'],_0xf3b7e5[_0x34ce50(0x213)]=_0x28ebce[_0x34ce50(0x1ed)][_0x34ce50(0x246)]);if(_0x28ebce[_0x34ce50(0x1ff)]){let _0x3ac0bc=_0x28ebce[_0x34ce50(0x1ff)][_0x34ce50(0x231)];_0xf3b7e5[_0x34ce50(0x289)]=_0x3ac0bc[_0x34ce50(0x203)],_0xf3b7e5['_maxWValue']=_0x3ac0bc[_0x34ce50(0x246)];}if(_0x28ebce[_0x34ce50(0x1dc)][_0x34ce50(0x1dd)]>0x0){let _0x4e38ca=Cesium[_0x34ce50(0x238)](_0x28ebce[_0x34ce50(0x1dc)][0x0]['url']);_0x4e38ca===_0x34ce50(0x1a7)&&(_0xf3b7e5[_0x34ce50(0x16b)]=!![]);}for(let _0x26320b=0x0,_0x33b22f=_0x28ebce[_0x34ce50(0x1dc)][_0x34ce50(0x1dd)];_0x26320b<_0x33b22f;_0x26320b++){let _0x576602=_0x28ebce['tiles'][_0x26320b][_0x34ce50(0x198)],_0x3f6c41={'box':_0x28ebce[_0x34ce50(0x1dc)][_0x26320b][_0x34ce50(0x28a)]},_0x12661d=new _0x7725c4(_0xf3b7e5,undefined,_0x3f6c41,_0x576602);_0x12661d[_0x34ce50(0x1c3)]=!![],_0x12661d['blockKey']=_0x576602,_0xf3b7e5[_0x34ce50(0x166)][_0x34ce50(0x188)](_0x12661d),_0xf3b7e5['_rootTiles'][_0x34ce50(0x15c)](_0x12661d);}parseWaterParameters(_0xf3b7e5,_0x28ebce);}else{let _0x9b4af1=_0x28ebce[_0x34ce50(0x1ad)],_0x205093=_0x9b4af1['namespace'];_0xf3b7e5['fileType']=_0x14fa12[_0x34ce50(0x24e)](_0x9b4af1,_0x34ce50(0x229),_0x205093);let _0x259fb8=_0x14fa12[_0x34ce50(0x18f)](_0x9b4af1,_0x34ce50(0x1ee),_0x205093),_0x4247de=_0x14fa12['queryNumericValue'](_0x259fb8,'X',_0x205093),_0x577f9e=_0x14fa12[_0x34ce50(0x285)](_0x259fb8,'Y',_0x205093),_0x1a40be=_0x14fa12[_0x34ce50(0x285)](_0x259fb8,'Z',_0x205093);_0xf3b7e5['_position']=Cesium[_0x34ce50(0x181)][_0x34ce50(0x150)](_0x4247de,_0x577f9e,_0x1a40be),_0xf3b7e5['modelMatrix']=Cesium['Transforms']['eastNorthUpToFixedFrame'](_0xf3b7e5[_0x34ce50(0x1d0)]),_0xf3b7e5[_0x34ce50(0x1c1)]=Cesium[_0x34ce50(0x28b)][_0x34ce50(0x165)](_0xf3b7e5['modelMatrix'],_0xf3b7e5[_0x34ce50(0x1c1)]);let _0x447e88=_0x14fa12[_0x34ce50(0x18f)](_0x9b4af1,_0x34ce50(0x24d),_0x205093),_0x719d18=_0x14fa12[_0x34ce50(0x18f)](_0x9b4af1,_0x34ce50(0x1aa),_0x205093);if(_0x447e88){let _0xebd9=_0x14fa12['queryNumericValue'](_0x447e88,_0x34ce50(0x28c),_0x205093),_0x2084cd=_0x14fa12[_0x34ce50(0x285)](_0x447e88,_0x34ce50(0x18c),_0x205093),_0x48e8ef=_0x14fa12[_0x34ce50(0x285)](_0x447e88,_0x34ce50(0x156),_0x205093),_0x39a4cb=_0x14fa12[_0x34ce50(0x285)](_0x447e88,'Bottom',_0x205093);_0xf3b7e5['_rectangle']=Cesium[_0x34ce50(0x14b)][_0x34ce50(0x150)](_0xebd9,_0x39a4cb,_0x48e8ef,_0x2084cd);}else{if(_0x719d18){let _0x30a51f=_0x14fa12[_0x34ce50(0x285)](_0x719d18,_0x34ce50(0x26a),_0x205093),_0x37154a=_0x14fa12['queryNumericValue'](_0x719d18,_0x34ce50(0x241),_0x205093),_0x2ec040=_0x14fa12[_0x34ce50(0x285)](_0x719d18,_0x34ce50(0x13e),_0x205093),_0x58548d=_0x14fa12['queryNumericValue'](_0x719d18,_0x34ce50(0x27d),_0x205093),_0x3f16cd=_0x14fa12[_0x34ce50(0x285)](_0x719d18,'MaxY',_0x205093),_0x18b023=_0x14fa12[_0x34ce50(0x285)](_0x719d18,_0x34ce50(0x21b),_0x205093);_0x30a51f=0xb4*Math['abs'](_0x30a51f)/(Math['PI']*0x615299),_0x37154a=0xb4*Math[_0x34ce50(0x28d)](_0x37154a)/(Math['PI']*0x615299),_0x58548d=0xb4*Math[_0x34ce50(0x28d)](_0x58548d)/(Math['PI']*0x615299),_0x3f16cd=0xb4*Math[_0x34ce50(0x28d)](_0x3f16cd)/(Math['PI']*0x615299),_0xf3b7e5['_rectangle']=Cesium[_0x34ce50(0x14b)][_0x34ce50(0x150)](_0x4247de-_0x30a51f,_0x577f9e-_0x37154a,_0x4247de+_0x58548d,_0x577f9e+_0x3f16cd);}}let _0x2384a1=_0x14fa12['queryFirstNode'](_0x9b4af1,_0x34ce50(0x219),_0x205093);_0x2384a1&&(_0xf3b7e5['_minHeight']=_0x14fa12[_0x34ce50(0x285)](_0x2384a1,'MinHeight',_0x205093),_0xf3b7e5[_0x34ce50(0x213)]=_0x14fa12[_0x34ce50(0x285)](_0x2384a1,_0x34ce50(0x169),_0x205093));let _0x49b952=_0x14fa12[_0x34ce50(0x18f)](_0x9b4af1,_0x34ce50(0x1c6),_0x205093);_0x49b952&&(_0xf3b7e5['_maxWValue']=_0x14fa12[_0x34ce50(0x285)](_0x49b952,'MaxCategory',_0x205093),_0xf3b7e5[_0x34ce50(0x289)]=_0x14fa12[_0x34ce50(0x285)](_0x49b952,_0x34ce50(0x275),_0x205093));let _0x13d5fd=/\\+/g,_0x43cfd1=_0x14fa12[_0x34ce50(0x18f)](_0x9b4af1,_0x34ce50(0x1bc),_0x205093),_0x20143e=_0x14fa12['queryNodes'](_0x43cfd1,_0x34ce50(0x1d5),_0x205093);if(_0x20143e[_0x34ce50(0x1dd)]>0x0)for(let _0x101a7a=0x0,_0x1fb835=_0x20143e[_0x34ce50(0x1dd)];_0x101a7a<_0x1fb835;_0x101a7a++){let _0x50c14f=_0x20143e[_0x101a7a],_0x5a9469=_0x14fa12[_0x34ce50(0x24e)](_0x50c14f,_0x34ce50(0x135),_0x205093);_0x5a9469=_0x5a9469[_0x34ce50(0x202)](_0x13d5fd,'/'),_0x5a9469=_0x5a9469[_0x34ce50(0x202)](/(\.osgb)/gi,_0x34ce50(0x193));let _0x461fe9=_0x14fa12[_0x34ce50(0x18f)](_0x50c14f,_0x34ce50(0x281),_0x205093),_0x19440f={'sphere':{'center':{'x':0x0,'y':0x0,'z':0x0},'radius':0x615299}};if(_0x461fe9&&_0x461fe9[_0x34ce50(0x164)]['length']){let _0x37fc99=_0x14fa12[_0x34ce50(0x285)](_0x461fe9,_0x34ce50(0x276),_0x205093),_0x18cc32=_0x14fa12[_0x34ce50(0x285)](_0x461fe9,_0x34ce50(0x1e0),_0x205093),_0x1ed94f=_0x14fa12[_0x34ce50(0x285)](_0x461fe9,_0x34ce50(0x1ce),_0x205093),_0x4e42d8=_0x14fa12[_0x34ce50(0x285)](_0x461fe9,_0x34ce50(0x160),_0x205093);_0x19440f={'sphere':{'center':{'x':_0x37fc99,'y':_0x18cc32,'z':_0x1ed94f},'radius':_0x4e42d8}};}let _0x32fd1d=new _0x7725c4(_0xf3b7e5,undefined,_0x19440f,_0x5a9469);_0x32fd1d[_0x34ce50(0x1c3)]=!![],_0xf3b7e5['_cache'][_0x34ce50(0x188)](_0x32fd1d),_0xf3b7e5[_0x34ce50(0x218)][_0x34ce50(0x15c)](_0x32fd1d);}else{let _0x5b02a0=_0x14fa12[_0x34ce50(0x283)](_0x43cfd1,'FileName',_0x205093);for(let _0x1dab83=0x0,_0x104e81=_0x5b02a0['length'];_0x1dab83<_0x104e81;_0x1dab83++){let _0x9e5572=_0x5b02a0[_0x1dab83][_0x34ce50(0x1da)];_0x9e5572=_0x9e5572[_0x34ce50(0x202)](_0x13d5fd,'/'),_0x9e5572=_0x9e5572[_0x34ce50(0x202)](/(\.osgb)/gi,'.s3m');let _0x58d46a={'sphere':{'center':{'x':0x0,'y':0x0,'z':0x0},'radius':0x615299}},_0x45fdde=new _0x7725c4(_0xf3b7e5,undefined,_0x58d46a,_0x9e5572);_0x45fdde[_0x34ce50(0x1c3)]=!![],_0xf3b7e5[_0x34ce50(0x166)][_0x34ce50(0x188)](_0x45fdde),_0xf3b7e5[_0x34ce50(0x218)][_0x34ce50(0x15c)](_0x45fdde);}}}_0xf3b7e5[_0x34ce50(0x180)]['resolve'](_0xf3b7e5);})[_0x3fd58a(0x1a5)](function(_0x3ab009){const _0x5db22b=_0x3fd58a;_0xf3b7e5[_0x5db22b(0x180)]['reject'](_0x3ab009);});};function sortRequestByPriority(_0x434952,_0x146082){const _0x545106=_0x435a70;return _0x434952['priority']-_0x146082[_0x545106(0x22b)];}function requestTiles(_0x306bd7){const _0x52087c=_0x435a70;let _0x3f1b89=_0x306bd7[_0x52087c(0x1be)],_0x405b0a=_0x3f1b89[_0x52087c(0x1dd)];_0x3f1b89[_0x52087c(0x236)](sortRequestByPriority);for(let _0x198d53=0x0;_0x198d53<_0x405b0a;++_0x198d53){let _0xad103c=_0x3f1b89[_0x198d53];_0xad103c[_0x52087c(0x13c)]();}}function processTiles(_0x5c15ee,_0x2a6060){const _0x321eb1=_0x435a70;let _0xc88ee4=_0x5c15ee['_processTiles'],_0x2a8bf3=_0xc88ee4['length'];for(let _0xb6f42d=0x0;_0xb6f42d<_0x2a8bf3;++_0xb6f42d){let _0x4c7f4c=_0xc88ee4[_0xb6f42d];_0x4c7f4c[_0x321eb1(0x1e3)](_0x2a6060,_0x5c15ee);}}function updateTiles(_0x1d3ad1,_0x520f67){const _0x1a8e57=_0x435a70;let _0x25d6f9=_0x1d3ad1[_0x1a8e57(0x1f4)],_0x3b1a4c=_0x25d6f9[_0x1a8e57(0x1dd)];for(let _0x4d15ea=0x0;_0x4d15ea<_0x3b1a4c;_0x4d15ea++){_0x25d6f9[_0x4d15ea][_0x1a8e57(0x1e3)](_0x520f67,_0x1d3ad1);}}function unloadTile(_0x3a91e7,_0x1049d5){const _0x529209=_0x435a70;_0x1049d5[_0x529209(0x282)]();}function freeResource(_0x32922b){const _0x3d97da=_0x435a70;_0x32922b[_0x3d97da(0x166)][_0x3d97da(0x1f8)](_0x32922b,unloadTile);}S3MTilesLayer[_0x435a70(0x210)]['releaseSelection']=function(){const _0x116faf=_0x435a70;if(this['_selections'][_0x116faf(0x1dd)]<0x1)return;this['_removeObjsOperationType'](this['_selections'],_0x20db4e[_0x116faf(0x1de)]),this[_0x116faf(0x1d3)]['length']=0x0;},S3MTilesLayer['prototype'][_0x435a70(0x19c)]=function(_0x26bf45){const _0x2531d3=_0x435a70;this[_0x2531d3(0x297)]=_0x26bf45;},S3MTilesLayer[_0x435a70(0x210)][_0x435a70(0x158)]=function(_0x58189b){const _0x3df942=_0x435a70;Cesium[_0x3df942(0x288)][_0x3df942(0x1b1)](_0x3df942(0x26e),_0x58189b);if(!this[_0x3df942(0x1a8)])return;!Array['isArray'](_0x58189b)&&(_0x58189b=[_0x58189b]),!this[_0x3df942(0x196)]&&this[_0x3df942(0x279)](),this[_0x3df942(0x1d3)]=this[_0x3df942(0x1d3)][_0x3df942(0x185)](_0x58189b),this['_setObjsOperationType'](_0x58189b,_0x20db4e['SELECTED']);},S3MTilesLayer[_0x435a70(0x210)][_0x435a70(0x20c)]=function(){const _0x5d257a=_0x435a70;return[]['concat'](this[_0x5d257a(0x1d3)]);},S3MTilesLayer[_0x435a70(0x210)]['setObjsColor']=function(_0x77c38b,_0x53366b){const _0x49a1d0=_0x435a70;Cesium[_0x49a1d0(0x288)][_0x49a1d0(0x1b1)]('setObjsColor\x20ids',_0x77c38b),Cesium[_0x49a1d0(0x288)][_0x49a1d0(0x1b1)]('setObjsColor\x20color',_0x53366b),Cesium[_0x49a1d0(0x288)][_0x49a1d0(0x296)][_0x49a1d0(0x280)](_0x49a1d0(0x227),_0x53366b);!Array[_0x49a1d0(0x1ca)](_0x77c38b)&&(_0x77c38b=[_0x77c38b]);let _0xb2b236={};for(let _0x2efd66=0x0,_0x453732=_0x77c38b[_0x49a1d0(0x1dd)];_0x2efd66<_0x453732;_0x2efd66++){let _0x3d5d80=_0x77c38b[_0x2efd66]+'';if(!Cesium[_0x49a1d0(0x1b1)](_0x3d5d80))continue;this[_0x49a1d0(0x248)][_0x3d5d80]=_0x53366b,_0xb2b236[_0x3d5d80]=_0x53366b;}this[_0x49a1d0(0x274)](_0xb2b236);},S3MTilesLayer[_0x435a70(0x210)][_0x435a70(0x153)]=function(_0x22b81d){const _0x2eacea=_0x435a70;Cesium['Check']['defined'](_0x2eacea(0x14c),_0x22b81d);!Array[_0x2eacea(0x1ca)](_0x22b81d)&&(_0x22b81d=[_0x22b81d]);let _0x3c6e55={};for(let _0x56344a=0x0,_0x3bc7ab=_0x22b81d[_0x2eacea(0x1dd)];_0x56344a<_0x3bc7ab;_0x56344a++){let _0x319690=_0x22b81d[_0x56344a];Cesium[_0x2eacea(0x1b1)](this[_0x2eacea(0x248)][_0x319690])&&(_0x3c6e55[_0x319690]=Cesium['Color']['TRANSPARENT'],delete this[_0x2eacea(0x248)][_0x319690]);}this[_0x2eacea(0x1af)](_0x22b81d,_0x20db4e['SetColor']),this[_0x2eacea(0x274)](_0x3c6e55);},S3MTilesLayer[_0x435a70(0x210)][_0x435a70(0x253)]=function(_0x304cb7,_0xf6e4a4){const _0x28dbbd=_0x435a70;Cesium[_0x28dbbd(0x288)][_0x28dbbd(0x1b1)]('setOnlyObjsVisible\x20ids',_0x304cb7),Cesium[_0x28dbbd(0x288)][_0x28dbbd(0x296)]['bool'](_0x28dbbd(0x154),_0xf6e4a4);!Array[_0x28dbbd(0x1ca)](_0x304cb7)&&(_0x304cb7=[_0x304cb7]);if(_0x304cb7[_0x28dbbd(0x1dd)]===0x0){this[_0x28dbbd(0x176)]=_0xf6e4a4,this[_0x28dbbd(0x1b7)]['removeAll']();let _0x89d0cc=Object[_0x28dbbd(0x208)](this[_0x28dbbd(0x13f)][_0x28dbbd(0x13b)]);this['_removeObjsOperationType'](_0x89d0cc,_0x20db4e[_0x28dbbd(0x137)]),this[_0x28dbbd(0x13f)][_0x28dbbd(0x237)](),this[_0x28dbbd(0x26f)](!_0xf6e4a4);return;}let _0x512736=this['_objsVisibleList'],_0x3dd122=this['_objsHideList'],_0x3387d3=this[_0x28dbbd(0x138)];!_0xf6e4a4?(_0x304cb7['map'](function(_0x46bbed){const _0x509571=_0x28dbbd;_0x512736[_0x509571(0x1a6)](_0x46bbed),_0x3dd122[_0x509571(0x298)](_0x46bbed,!![]);}),this[_0x28dbbd(0x1c2)](_0x304cb7,_0x20db4e[_0x28dbbd(0x137)])):(_0x304cb7['map'](function(_0x313d14){const _0x1b2ab0=_0x28dbbd;_0x512736[_0x1b2ab0(0x298)](_0x313d14,!![]),_0x3dd122[_0x1b2ab0(0x1a6)](_0x313d14);}),this['_removeObjsOperationType'](_0x304cb7,_0x20db4e[_0x28dbbd(0x137)]));},S3MTilesLayer['prototype'][_0x435a70(0x1bb)]=function(_0x2393f4,_0x5b8214){const _0x22eeb8=_0x435a70;if(_0x2393f4[_0x22eeb8(0x1dd)]===0x0){this[_0x22eeb8(0x253)]([],_0x5b8214);return;}this[_0x22eeb8(0x253)]([],_0x5b8214),this[_0x22eeb8(0x253)](_0x2393f4,_0x5b8214);};function createPlane(_0xd675e,_0x424e16,_0x5c370f){const _0x30e5f0=_0x435a70;let _0xebaf8f=new Cesium[(_0x30e5f0(0x181))](),_0x284a37=new Cesium['Cartesian3']();Cesium[_0x30e5f0(0x181)][_0x30e5f0(0x27c)](_0x424e16,_0xd675e,_0xebaf8f),Cesium['Cartesian3'][_0x30e5f0(0x27c)](_0x5c370f,_0xd675e,_0x284a37);let _0x170226=new Cesium['Cartesian3']();Cesium['Cartesian3'][_0x30e5f0(0x187)](_0xebaf8f,_0x284a37,_0x170226),Cesium[_0x30e5f0(0x181)]['normalize'](_0x170226,_0x170226);let _0x5f300c=-Cesium['Cartesian3'][_0x30e5f0(0x259)](_0x170226,_0xd675e);return new Cesium[(_0x30e5f0(0x1c5))](_0x170226['x'],_0x170226['y'],_0x170226['z'],_0x5f300c);}function clipCallback(_0x144d6d,_0xd56314){const _0x4866b3=_0x435a70;_0x144d6d[_0x4866b3(0x233)](_0xd56314);}S3MTilesLayer[_0x435a70(0x210)][_0x435a70(0x277)]=function(_0x470b91,_0x7c636b,_0x598657,_0x236bae){const _0x12ee6b=_0x435a70;this[_0x12ee6b(0x23e)][0x0]=createPlane(_0x470b91,_0x7c636b,_0x598657),this[_0x12ee6b(0x1e8)]=Cesium[_0x12ee6b(0x294)](_0x236bae,_0x457455['CLIP_BEHIND_ALL_PLANE']),this[_0x12ee6b(0x240)]=!![],!this[_0x12ee6b(0x267)]&&this[_0x12ee6b(0x232)]({'enable':!![]},clipCallback),this[_0x12ee6b(0x267)]=!![];},S3MTilesLayer[_0x435a70(0x210)][_0x435a70(0x20f)]=function(_0x9bdc3b){const _0x186aca=_0x435a70;_0x9bdc3b=_0x9bdc3b||{};if((!_0x9bdc3b[_0x186aca(0x261)]||!_0x9bdc3b['position'])&&(!_0x9bdc3b[_0x186aca(0x20a)]||!_0x9bdc3b[_0x186aca(0x16c)]))throw new Cesium[(_0x186aca(0x1eb))](_0x186aca(0x235));this[_0x186aca(0x1e8)]=_0x457455[_0x186aca(0x18a)];if(Cesium[_0x186aca(0x1b1)](_0x9bdc3b[_0x186aca(0x272)]))switch(_0x9bdc3b[_0x186aca(0x272)]){case _0x186aca(0x16d):this[_0x186aca(0x1e8)]=_0x457455[_0x186aca(0x256)];break;case _0x186aca(0x1b2):this[_0x186aca(0x1e8)]=_0x457455[_0x186aca(0x18a)];break;case'only_keep_line':this[_0x186aca(0x1e8)]=_0x457455[_0x186aca(0x1e5)];break;default:break;}if(_0x9bdc3b[_0x186aca(0x261)]){let _0x12108d=new Cesium[(_0x186aca(0x28b))](),_0x54eea6=_0x9bdc3b[_0x186aca(0x1ec)],_0x356eae,_0x46d9,_0x5130e5;_0x356eae=_0x9bdc3b[_0x186aca(0x1f3)]||0x0,_0x46d9=_0x9bdc3b['pitch']||0x0,_0x5130e5=_0x9bdc3b[_0x186aca(0x199)]||0x0;let _0x47847e=new Cesium['HeadingPitchRoll'](_0x356eae,_0x46d9,_0x5130e5);_0x12108d=Cesium[_0x186aca(0x204)]['headingPitchRollToFixedFrame'](_0x54eea6,_0x47847e,Cesium[_0x186aca(0x17e)][_0x186aca(0x15b)]);let _0x3a163e=_0x9bdc3b['dimensions']['x']*0.5,_0x122470=_0x9bdc3b['dimensions']['y']*0.5,_0x28ac9c=_0x9bdc3b[_0x186aca(0x261)]['z']*0.5,_0x3a8b28=[];_0x3a8b28[0x0]=new Cesium[(_0x186aca(0x1c5))](-_0x3a163e,_0x122470,_0x28ac9c,0x1),_0x3a8b28[0x1]=new Cesium[(_0x186aca(0x1c5))](_0x3a163e,_0x122470,_0x28ac9c,0x1),_0x3a8b28[0x2]=new Cesium[(_0x186aca(0x1c5))](_0x3a163e,-_0x122470,_0x28ac9c,0x1),_0x3a8b28[0x3]=new Cesium[(_0x186aca(0x1c5))](-_0x3a163e,-_0x122470,_0x28ac9c,0x1),_0x3a8b28[0x4]=new Cesium[(_0x186aca(0x1c5))](-_0x3a163e,_0x122470,-_0x28ac9c,0x1),_0x3a8b28[0x5]=new Cesium[(_0x186aca(0x1c5))](_0x3a163e,_0x122470,-_0x28ac9c,0x1),_0x3a8b28[0x6]=new Cesium[(_0x186aca(0x1c5))](_0x3a163e,-_0x122470,-_0x28ac9c,0x1),_0x3a8b28[0x7]=new Cesium[(_0x186aca(0x1c5))](-_0x3a163e,-_0x122470,-_0x28ac9c,0x1);for(let _0x1016b3=0x0;_0x1016b3<0x8;_0x1016b3++){Cesium[_0x186aca(0x28b)][_0x186aca(0x151)](_0x12108d,_0x3a8b28[_0x1016b3],_0x3a8b28[_0x1016b3]);}this[_0x186aca(0x23e)][0x0]=Cesium[_0x186aca(0x1c5)][_0x186aca(0x265)](createPlane(_0x3a8b28[0x0],_0x3a8b28[0x1],_0x3a8b28[0x2])),this[_0x186aca(0x23e)][0x1]=Cesium[_0x186aca(0x1c5)][_0x186aca(0x265)](createPlane(_0x3a8b28[0x0],_0x3a8b28[0x4],_0x3a8b28[0x1])),this[_0x186aca(0x23e)][0x2]=Cesium[_0x186aca(0x1c5)][_0x186aca(0x265)](createPlane(_0x3a8b28[0x0],_0x3a8b28[0x3],_0x3a8b28[0x4])),this[_0x186aca(0x23e)][0x3]=Cesium[_0x186aca(0x1c5)]['clone'](createPlane(_0x3a8b28[0x6],_0x3a8b28[0x2],_0x3a8b28[0x5])),this[_0x186aca(0x23e)][0x4]=Cesium[_0x186aca(0x1c5)][_0x186aca(0x265)](createPlane(_0x3a8b28[0x6],_0x3a8b28[0x7],_0x3a8b28[0x2])),this[_0x186aca(0x23e)][0x5]=Cesium[_0x186aca(0x1c5)][_0x186aca(0x265)](createPlane(_0x3a8b28[0x6],_0x3a8b28[0x5],_0x3a8b28[0x7]));}else for(let _0x282bbc=0x0;_0x282bbc<_0x9bdc3b[_0x186aca(0x20a)][_0x186aca(0x1dd)];_0x282bbc++){let _0xfd3206=_0x9bdc3b[_0x186aca(0x20a)][_0x282bbc],_0x4b1faf=_0x9bdc3b[_0x186aca(0x16c)][_0x282bbc];this['_oriClipPlane'][_0x282bbc]['x']=_0x4b1faf['x'],this['_oriClipPlane'][_0x282bbc]['y']=_0x4b1faf['y'],this[_0x186aca(0x23e)][_0x282bbc]['z']=_0x4b1faf['z'],this['_oriClipPlane'][_0x282bbc]['w']=-Cesium[_0x186aca(0x181)]['dot'](_0xfd3206,_0x4b1faf);}!this[_0x186aca(0x267)]&&this[_0x186aca(0x232)]({'enable':!![]},clipCallback),this['_enableClip']=!![];},S3MTilesLayer[_0x435a70(0x210)][_0x435a70(0x19e)]=function(){const _0x4d3a43=_0x435a70;this[_0x4d3a43(0x267)]=![],this[_0x4d3a43(0x240)]=![],this[_0x4d3a43(0x232)]({'enable':![]},clipCallback);},S3MTilesLayer['prototype'][_0x435a70(0x232)]=function(_0x31dd6b,_0x54705b){const _0x5da78a=_0x435a70;let _0x1d7e0c=[];for(let _0x1caab5=0x0,_0x40e526=this['_rootTiles'][_0x5da78a(0x1dd)];_0x1caab5<_0x40e526;_0x1caab5++){let _0x5c2801=this[_0x5da78a(0x218)][_0x1caab5];_0x1d7e0c[_0x5da78a(0x15c)](_0x5c2801);}while(_0x1d7e0c[_0x5da78a(0x1dd)]){let _0x2ed60a=_0x1d7e0c[_0x5da78a(0x16e)]();if(Cesium[_0x5da78a(0x1b1)](_0x2ed60a[_0x5da78a(0x284)]))for(let _0xbd83d4 in _0x2ed60a[_0x5da78a(0x284)]){const _0x55b273=_0x2ed60a[_0x5da78a(0x284)][_0xbd83d4];_0x55b273[_0x5da78a(0x15e)]&&_0x54705b(_0x55b273,_0x31dd6b);}for(let _0x765aa5=0x0,_0x2b47c7=_0x2ed60a[_0x5da78a(0x18d)][_0x5da78a(0x1dd)];_0x765aa5<_0x2b47c7;_0x765aa5++){_0x1d7e0c[_0x5da78a(0x15c)](_0x2ed60a[_0x5da78a(0x18d)][_0x765aa5]);}}};function updateObjsOperationCallback(_0x148524,_0x1c0e66){const _0x17f8f8=_0x435a70;_0x148524[_0x17f8f8(0x1f1)](_0x1c0e66[_0x17f8f8(0x216)],_0x1c0e66);}S3MTilesLayer[_0x435a70(0x210)][_0x435a70(0x1db)]=function(_0x492d2a){const _0x344891=_0x435a70;this[_0x344891(0x232)]({'ids':_0x492d2a},updateObjsOperationCallback);};function updateObjsColorCallback(_0x37cd21,_0x7ab454){const _0xb4602e=_0x435a70;_0x37cd21[_0xb4602e(0x278)](_0x7ab454['ids'],_0x7ab454);}S3MTilesLayer[_0x435a70(0x210)][_0x435a70(0x274)]=function(_0x3872da){const _0x18257b=_0x435a70;this[_0x18257b(0x232)]({'ids':_0x3872da},updateObjsColorCallback);};function updateAllObjsVisibleCallback(_0x4020ba,_0x5aca1d){const _0x43a450=_0x435a70;_0x4020ba[_0x43a450(0x1a3)](_0x5aca1d[_0x43a450(0x1b0)]);}S3MTilesLayer[_0x435a70(0x210)]['_updateAllObjsVisible']=function(_0x198ce5){const _0x2243a6=_0x435a70;this[_0x2243a6(0x232)]({'isVisible':_0x198ce5},updateAllObjsVisibleCallback);},S3MTilesLayer[_0x435a70(0x210)]['_setObjsOperationType']=function(_0x19988c,_0x24ac72){const _0x23db30=_0x435a70;Cesium[_0x23db30(0x288)][_0x23db30(0x1b1)](_0x23db30(0x1c0),_0x19988c),Cesium[_0x23db30(0x288)]['defined'](_0x23db30(0x1cc),_0x24ac72);!Array[_0x23db30(0x1ca)](_0x19988c)&&(_0x19988c=[_0x19988c]);let _0xf5fe49=new Cesium[(_0x23db30(0x1e4))](),_0x58aa63;for(let _0x2d50b1=0x0,_0x4d2caa=_0x19988c[_0x23db30(0x1dd)];_0x2d50b1<_0x4d2caa;_0x2d50b1++){_0x58aa63=_0x19988c[_0x2d50b1];if(!Cesium[_0x23db30(0x1b1)](_0x58aa63))continue;let _0x5dd30a=Cesium[_0x23db30(0x294)](this['_objsOperationList'][_0x23db30(0x179)](_0x58aa63),0x0);if(_0x5dd30a===_0x24ac72)continue;_0x5dd30a=_0x5dd30a|_0x24ac72,this[_0x23db30(0x14f)][_0x23db30(0x298)](_0x58aa63,_0x5dd30a),_0xf5fe49['set'](_0x58aa63,_0x5dd30a);}_0xf5fe49['length']>0x0&&this[_0x23db30(0x1db)](_0xf5fe49);},S3MTilesLayer[_0x435a70(0x210)][_0x435a70(0x1af)]=function(_0x4b9268,_0x58c500){const _0x100b77=_0x435a70;Cesium[_0x100b77(0x288)]['defined'](_0x100b77(0x1c0),_0x4b9268);!Array[_0x100b77(0x1ca)](_0x4b9268)&&(_0x4b9268=[_0x4b9268]);let _0x2983bc=_0x20db4e[_0x100b77(0x1ae)]^_0x58c500,_0x1f3b26=new Cesium[(_0x100b77(0x1e4))](),_0x299b50;for(let _0xf72e9e=0x0,_0x5ba23b=_0x4b9268[_0x100b77(0x1dd)];_0xf72e9e<_0x5ba23b;_0xf72e9e++){_0x299b50=_0x4b9268[_0xf72e9e];let _0x41a642=this['_objsOperationList'][_0x100b77(0x179)](_0x299b50);if(!Cesium[_0x100b77(0x1b1)](_0x41a642))continue;_0x41a642&=_0x2983bc,_0x41a642===_0x20db4e[_0x100b77(0x197)]?this[_0x100b77(0x14f)][_0x100b77(0x1a6)](_0x299b50):this['_objsOperationList'][_0x100b77(0x298)](_0x299b50,_0x41a642),_0x1f3b26['set'](_0x299b50,_0x41a642);}_0x1f3b26[_0x100b77(0x1dd)]>0x0&&this[_0x100b77(0x1db)](_0x1f3b26);},S3MTilesLayer[_0x435a70(0x210)]['_createRasterRegion']=function(_0x3c3bdb){const _0x15d973=_0x435a70;let _0x4a4c47=Cesium['Cartesian3'][_0x15d973(0x24f)](_0x3c3bdb),_0x87ff4c=new Cesium[(_0x15d973(0x206))]({'polygonHierarchy':{'positions':_0x4a4c47},'perPositionHeight':!![]}),_0x718a99=Cesium[_0x15d973(0x206)][_0x15d973(0x247)](_0x87ff4c),_0x33fe8c=new _0x49b3f4();return _0x33fe8c[_0x15d973(0x1ba)](_0x718a99,this[_0x15d973(0x1c1)]),_0x33fe8c[_0x15d973(0x19a)](_0x718a99),_0x33fe8c;};function flattenCallback(_0x394c92,_0x324add){const _0x33a998=_0x435a70;_0x394c92[_0x33a998(0x24b)](_0x324add);}S3MTilesLayer[_0x435a70(0x210)][_0x435a70(0x1e7)]=function(_0x4b6ae7){const _0x55d04d=_0x435a70;let _0x51e0bb=_0x4b6ae7['name'],_0x234523=_0x4b6ae7[_0x55d04d(0x1ec)];if(!_0x51e0bb||!_0x234523)return;let _0x454275=this[_0x55d04d(0x258)],_0x25f084=_0x454275[_0x55d04d(0x230)];if(_0x25f084[_0x55d04d(0x149)](_0x51e0bb))return;!_0x454275[_0x55d04d(0x26c)]&&(_0x454275[_0x55d04d(0x26c)]=new Cesium[(_0x55d04d(0x21d))]({'context':this[_0x55d04d(0x1ab)],'width':_0x454275[_0x55d04d(0x189)],'height':_0x454275['textureHeight'],'pixelFormat':Cesium[_0x55d04d(0x228)][_0x55d04d(0x195)]}));let _0x5b2f4b=this[_0x55d04d(0x1fc)](_0x234523);_0x25f084[_0x55d04d(0x298)](_0x51e0bb,_0x5b2f4b),_0x454275['isUpdate']=!![],_0x25f084[_0x55d04d(0x1b6)][_0x55d04d(0x1dd)]===0x1&&this[_0x55d04d(0x232)]({'enable':!![]},flattenCallback);};function hypsometricCallback(_0x2cb0af,_0x1f2002){const _0x1f4c05=_0x435a70;_0x2cb0af[_0x1f4c05(0x1f2)](_0x1f2002);}function swipeCallback(_0x27ccef,_0x1edfad){_0x27ccef['swipe'](_0x1edfad);}function combineRegionBounds(_0x3c41ed){const _0x3d2d30=_0x435a70;let _0x3a5e70=new Cesium[(_0x3d2d30(0x1c5))](Number[_0x3d2d30(0x264)],Number[_0x3d2d30(0x264)],-Number[_0x3d2d30(0x264)],-Number[_0x3d2d30(0x264)]);for(let _0x741a4c=0x0;_0x741a4c<_0x3c41ed[_0x3d2d30(0x1dd)];_0x741a4c++){const _0x4298b0=_0x3c41ed[_0x741a4c]['bounds'];_0x3a5e70['x']=Math[_0x3d2d30(0x203)](_0x4298b0['x'],_0x3a5e70['x']),_0x3a5e70['y']=Math[_0x3d2d30(0x203)](_0x4298b0['y'],_0x3a5e70['y']),_0x3a5e70['z']=Math[_0x3d2d30(0x246)](_0x4298b0['z'],_0x3a5e70['z']),_0x3a5e70['w']=Math[_0x3d2d30(0x246)](_0x4298b0['w'],_0x3a5e70['w']);}return _0x3a5e70;}S3MTilesLayer[_0x435a70(0x210)]['_updateFlattenFramebuffer']=function(_0x22425d){const _0x39d840=_0x435a70;let _0x5614b1=this[_0x39d840(0x258)];if(!_0x5614b1[_0x39d840(0x1b3)])return;_0x5614b1['isUpdate']=![];let _0x3d5c00=_0x5614b1[_0x39d840(0x230)],_0x50fb85=_0x3d5c00[_0x39d840(0x1b6)][_0x39d840(0x1dd)];_0x5614b1[_0x39d840(0x146)]=_0x50fb85>0x0,_0x5614b1[_0x39d840(0x190)]=combineRegionBounds(_0x3d5c00['values']);let _0x2ee2df=new Cesium[(_0x39d840(0x170))]({'color':new Cesium['Color'](0x1,0x1,0x1,0x1),'depth':0x1});!_0x5614b1[_0x39d840(0x26c)]&&(_0x5614b1[_0x39d840(0x26c)]=new Cesium[(_0x39d840(0x21d))]({'context':this[_0x39d840(0x1ab)],'width':_0x5614b1[_0x39d840(0x189)],'height':_0x5614b1[_0x39d840(0x141)],'pixelFormat':Cesium[_0x39d840(0x228)]['RGBA']}));!_0x5614b1[_0x39d840(0x221)]&&(_0x5614b1[_0x39d840(0x221)]=new Cesium[(_0x39d840(0x234))]({'context':this[_0x39d840(0x1ab)],'colorTextures':[_0x5614b1['texture']],'destroyAttachments':![]}));_0x2ee2df[_0x39d840(0x1f0)]=_0x5614b1[_0x39d840(0x221)],_0x2ee2df[_0x39d840(0x1a4)]=Cesium['RenderState']['fromCache'](),_0x2ee2df[_0x39d840(0x1bf)](this[_0x39d840(0x1ab)]);for(let _0x2afbc1=0x0;_0x2afbc1<_0x50fb85;_0x2afbc1++){let _0x289f06=_0x3d5c00[_0x39d840(0x1b6)][_0x2afbc1];_0x289f06[_0x39d840(0x139)](this[_0x39d840(0x1ab)],_0x5614b1[_0x39d840(0x221)]),_0x289f06['command'][_0x39d840(0x22c)]={'uRect':function(){const _0x57c29c=_0x39d840;return _0x5614b1[_0x57c29c(0x190)];}},_0x289f06[_0x39d840(0x1e6)][_0x39d840(0x1bf)](this[_0x39d840(0x1ab)]);}},S3MTilesLayer[_0x435a70(0x210)][_0x435a70(0x250)]=function(_0x1cb64d,_0x146259){const _0x404f67=_0x435a70;if(_0x1cb64d>0x8)throw new Cesium[(_0x404f67(0x1eb))]('the\x20index\x20is\x200~8');_0x146259?this[_0x404f67(0x18e)]=0x1<<_0x1cb64d|this['_visibleViewport']:this['_visibleViewport']=~(0x1<<_0x1cb64d)&this[_0x404f67(0x18e)];},S3MTilesLayer['prototype'][_0x435a70(0x207)]=function(_0x2099cb){const _0x5b1ebb=_0x435a70;if(_0x2099cb>0x8)throw new Cesium[(_0x5b1ebb(0x1eb))](_0x5b1ebb(0x20b));return 0x1<<_0x2099cb&this['_visibleViewport'];},S3MTilesLayer[_0x435a70(0x210)]['_updateEdgeDistanceFalloffFactor']=function(){const _0x4eaf3f=_0x435a70;if(this[_0x4eaf3f(0x1d7)]===0x0){this[_0x4eaf3f(0x25d)]=0x0;return;}this[_0x4eaf3f(0x134)]=this['_edgeCurrentTotalLength']/this[_0x4eaf3f(0x1d7)]*0x28,this[_0x4eaf3f(0x25d)]=0x0,this[_0x4eaf3f(0x1d7)]=0x0;},S3MTilesLayer[_0x435a70(0x210)]['_addRenderedEdge']=function(_0x26429f,_0x973506){const _0x1291bc=_0x435a70;this[_0x1291bc(0x25d)]+=_0x26429f,this[_0x1291bc(0x1d7)]+=_0x973506;};function updateWaterPlane(_0x35559c,_0x3ff4c6){const _0x524329=_0x435a70;if(!_0x35559c[_0x524329(0x14a)])return;let _0x4abbe3=_0x35559c['_waterPlanes'];_0x3ff4c6[_0x524329(0x157)]===undefined&&(_0x3ff4c6[_0x524329(0x157)]=0x615299);_0x3ff4c6[_0x524329(0x225)]===undefined&&(_0x3ff4c6[_0x524329(0x225)]=0x0);let _0x63642d=_0x3ff4c6['camera'][_0x524329(0x15f)];for(let _0x371245 in _0x4abbe3[_0x524329(0x13b)]){if(_0x4abbe3[_0x524329(0x13b)][_0x524329(0x249)](_0x371245)){let _0x165fc0=_0x4abbe3['get'](_0x371245),_0x2ee262=_0x165fc0[_0x524329(0x239)];if(_0x3ff4c6[_0x524329(0x1c8)][_0x524329(0x1ef)](_0x2ee262)===Cesium[_0x524329(0x1cb)][_0x524329(0x295)])continue;let _0x213039=Cesium[_0x524329(0x181)][_0x524329(0x21a)](_0x2ee262['center'],_0x63642d)-_0x2ee262[_0x524329(0x245)];_0x213039=_0x213039<0.01?0.01:_0x213039,_0x213039<_0x3ff4c6[_0x524329(0x157)]&&(_0x3ff4c6[_0x524329(0x157)]=_0x213039,_0x3ff4c6[_0x524329(0x225)]=_0x165fc0[_0x524329(0x21a)]);}}}S3MTilesLayer[_0x435a70(0x210)]['addWaterPlane']=function(_0x192575){const _0x289e14=_0x435a70;let _0x4d845e=this['_waterPlanes'][_0x289e14(0x1dd)];return this['_waterPlanes'][_0x289e14(0x298)](_0x4d845e,_0x192575),_0x4d845e;},S3MTilesLayer[_0x435a70(0x210)][_0x435a70(0x1e9)]=function(_0x1a6638){this['_waterPlanes']['remove'](_0x1a6638);},S3MTilesLayer[_0x435a70(0x210)]['prePassesUpdate']=function(_0xcf1278){const _0x464cab=_0x435a70;if(!this['ready'])return;_0xcf1278[_0x464cab(0x1f7)]&&(this[_0x464cab(0x166)][_0x464cab(0x17d)](),this[_0x464cab(0x1be)][_0x464cab(0x1dd)]=0x0,this[_0x464cab(0x162)][_0x464cab(0x1dd)]=0x0,this[_0x464cab(0x1f4)]['length']=0x0,Cesium[_0x464cab(0x1b1)](_0xcf1278[_0x464cab(0x1e2)])&&_0xcf1278[_0x464cab(0x1e2)][_0x464cab(0x1e3)](_0xcf1278),updateWaterPlane(this,_0xcf1278));};let scratchtTransposeViewMatrix=new Cesium[(_0x435a70(0x28b))]();S3MTilesLayer[_0x435a70(0x210)][_0x435a70(0x27f)]=function(_0x41e02b){const _0x16fe36=_0x435a70;if(!this[_0x16fe36(0x15e)])return;freeResource(this),this['_updateFlattenFramebuffer'](_0x41e02b),this[_0x16fe36(0x186)](),this[_0x16fe36(0x291)]&&this[_0x16fe36(0x291)][_0x16fe36(0x269)](this['id']);};function isLayerVisible(_0x11d17e,_0x34229f){const _0x24e64b=_0x435a70;let _0x43c474=_0x34229f['camera'];if(_0x43c474['positionCartographic'][_0x24e64b(0x1b5)]<_0x11d17e['_minVisibleAltitude']||_0x43c474[_0x24e64b(0x1fe)][_0x24e64b(0x1b5)]>_0x11d17e['_maxVisibleAltitude'])return![];if(!_0x11d17e[_0x24e64b(0x207)](_0x34229f[_0x24e64b(0x23d)]))return![];return _0x11d17e['visible'];}function updateClipPlanes(_0x85d739,_0x509c53){const _0x43b646=_0x435a70;if(_0x85d739[_0x43b646(0x267)]){let _0x264105=_0x509c53[_0x43b646(0x257)][_0x43b646(0x26b)];Cesium[_0x43b646(0x28b)]['transpose'](_0x264105,scratchtTransposeViewMatrix);for(let _0x135a10=0x0;_0x135a10<0x6;_0x135a10++){Cesium[_0x43b646(0x28b)][_0x43b646(0x151)](scratchtTransposeViewMatrix,_0x85d739[_0x43b646(0x23e)][_0x135a10],_0x85d739[_0x43b646(0x260)][_0x135a10]);}}}S3MTilesLayer[_0x435a70(0x210)][_0x435a70(0x1e3)]=function(_0x18fd92){const _0xe5ba83=_0x435a70;if(!this[_0xe5ba83(0x15e)]||!isLayerVisible(this,_0x18fd92))return;this[_0xe5ba83(0x16f)][_0xe5ba83(0x201)](this,_0x18fd92),requestTiles(this),processTiles(this,_0x18fd92),updateTiles(this,_0x18fd92),updateClipPlanes(this,_0x18fd92);},S3MTilesLayer[_0x435a70(0x210)][_0x435a70(0x167)]=function(){return![];},S3MTilesLayer['prototype'][_0x435a70(0x159)]=function(){const _0xfac9ea=_0x435a70;return this[_0xfac9ea(0x166)]['reset'](),freeResource(this),this[_0xfac9ea(0x218)][_0xfac9ea(0x1dd)]=0x0,this['_requestTiles'][_0xfac9ea(0x1dd)]=0x0,this[_0xfac9ea(0x162)][_0xfac9ea(0x1dd)]=0x0,this[_0xfac9ea(0x1f4)]['length']=0x0,this[_0xfac9ea(0x1d3)]['length']=0x0,this[_0xfac9ea(0x14f)]['removeAll'](),this[_0xfac9ea(0x1b7)][_0xfac9ea(0x237)](),this[_0xfac9ea(0x13f)][_0xfac9ea(0x237)](),this[_0xfac9ea(0x138)]={},this[_0xfac9ea(0x248)]={},this[_0xfac9ea(0x28f)]['destroy'](),this[_0xfac9ea(0x258)]['destroy'](),Cesium['destroyObject'](this);};export default S3MTilesLayer;