const _0x3e4a=['wDescript','releaseSelection','hypsometric','clone','.s3m','loadConfig','texture','removeAll','_objsHideList','renderTexture','createGuid','planePos','HIDE','_swipeEnabled','_selectedTiles','setOnlyObjsVisible\x20isVisible','free','positionWC','destroy','values','framebuffer','MinX','_selectedColor','uniformMap','AverageHeight','brdfLutGenerator','setObjsColor','renderEntities','get','the\x20index\x20is\x200~8','flattening','CenterZ','childNodes','_hypsometric','concat','prototype','hypsometricSetting','ids','ConstType','Cartesian3','217893JuJfHF','_maxVisibleAltitude','heightRange','1103121XcAjUe','updateObjsColor','invModelMatrix','removeObjsColor','_processTiles','_baseResource','_requestTiles','averageHeight','region','FileName','ColorTable','gpuProgramParameters','_maximumMemoryUsage','CenterX','heightOffset','minVisibleAltitude','SetColor','updateObjsOperation','keys','BoundingSphere','Cartesian4','atuoConstants','destroyObject','AssociativeArray','max\x20visible\x20distance','4566uQCHfQ','_tranverseRenderEntity','_readyPromise','height','camera','isDestroyed','ArrayFloat','19DGhbDv','TRANSPARENT','ALL','left','url','_minWValue','range','GpuConstantDefinition','minVisibleDistance','Resource','dimensions\x20position\x20is\x20required\x20to\x20create\x20CustomClipBox','flatten','MaxX','_maxCategory','queryNodes','PhysicalIndex','s3mblock','cross','_objsVisibleList','_rectangle','eastNorthUpToFixedFrame','FileType','extensions','replace','_visibleViewport','width','normalize','_swipeRegion','dimensions','fetchXML','_maxHeight','children','blockKey','textContent','BoundingBox','newFrame','_waterParameters','abs','subtract','bool','RESET','visible','pop','_updateFlattenFramebuffer','_updateAllObjsVisible','/rest/realspace','Radius','MinHeight','hasOwnProperty','renderState','attachFile','_totalMemoryUsageInBytes','addFlattenRegion','RGBA','_removeObjsOperationType','distance','fromElements','Position','createGeometry','fromCache','only_keep_line','_edgeCurrentCount','clip','_updateObjsOperation','prePassesUpdate','_isS3MBlock','MAX_VALUE','max','updateGeoBounds','_multiChoose','roll','Bounds','modelMatrix','Multiple','namespace','fbo','remove','length','_hash','set\x20layer\x20lod\x20range\x20scale','_objsVisibleMap','clearCustomClipBox','_edgeCurrentTotalLength','update','getSelection','Framebuffer','defined','504890wPnfuH','ParamType','isRootTile','OSGFiles','push','setSelection','copyFrom','GpuConstants','Check','_minHeight','queryNumericValue','paramType','clip_behind_any_plane','getSingleInstance','Cartesian2','HeadingPitchRoll','version','Float','context','_isS3MB','fileType','min\x20visible\x20altitude','Transforms','CLIP_BEHIND_ANY_PLANE','sort','transpose','multiplyByVector','CenterY','Name','Index','positionCartographic','_oriClipPlane','_clipPlane','attachFiles','.water','setLodRangeScale','Bottom','generateBuffer','right','HeightRange','min\x20visible\x20distance','planeNormal','EMPTY_OBJECT','_subTextureManager','arrayFloat','524884uVUoAx','when','set\x20Objs\x20Operation\x20operationType','_maxWValue','ONLY_KEEP_LINE','_setObjsOperationType','_enableClip','textureWidth','ClearCommand','MinY','then','_allObjsHide','_maximumPriority','isS3MBlock','PolygonGeometry','geoBounds','Files','_position','set','addWaterPlane','maxVisibleAltitude','typeOf','bounds','physicalIndex','_clipMode','_minVisibleAltitude','gpuConstants','resolve','_enableClipPlane','name','createCommand','set\x20Objs\x20Operation\x20ids','setCustomClipPlane','swipe','_basePath','unloadTiles','data','tiles','multiple','_updateObjsColor','position','clipMode','rss','command','boundingVolume','_rootTiles','GpuProgramParameters','_schuduler','reset','_createRasterRegion','indexOf','realspace','_addRenderedEdge','reject','_objsColorList','OSGBCacheFile_Water','isUseHypColorTable','1023478MxXUqJ','defaultValue','fromDegreesArrayHeights','curDis','dot','boundingbox','Intersect','max\x20visible\x20altitude','CLIP_BEHIND_ALL_PLANE','ready','_visibleDistanceMax','Authentication\x20error','radius','334bXsGjL','PixelFormat','getExtensionFromUri','queryStringValue','_flattenPar','_waterPlanes','center','heading','removeObjsColor\x20ids','setOnlyObjsVisible\x20ids','_style3D','OUTSIDE','priority','_cache','regions','createIfNeeded','CLIP_NOTHING','timeVal','_minCategory','firstChild','ARM_NONE','33191rTjoDq','Matrix4','_selections','removeWaterPlane','_url','postPassesUpdate','fromDegrees','queryFirstNode','fData','_lodRangeScale','_visibleDistanceMin','_edgeDistanceFalloffFactor','MaxZ','otherwise','analysisMode','DeveloperError','unpack','Left','map','_objsOperationList','style3D','arraySize','defer','getVisibleInViewport','Rectangle','isUpdate','number','Color','defineProperties','isArray','setting','top','execute','Top','setSelection\x20ids','min','_updateEdgeDistanceFalloffFactor','setOnlyObjsVisible','inverse','_imageBuffer','Texture'];const _0x12c6d3=_0x484f;(function(_0x188108,_0x42c54b){const _0x2d052f=_0x484f;while(!![]){try{const _0x514226=parseInt(_0x2d052f(0x200))+parseInt(_0x2d052f(0x18a))+parseInt(_0x2d052f(0x219))*-parseInt(_0x2d052f(0x197))+-parseInt(_0x2d052f(0x1fd))+-parseInt(_0x2d052f(0x220))*parseInt(_0x2d052f(0x1ac))+parseInt(_0x2d052f(0x277))+parseInt(_0x2d052f(0x151));if(_0x514226===_0x42c54b)break;else _0x188108['push'](_0x188108['shift']());}catch(_0x4a1aa2){_0x188108['push'](_0x188108['shift']());}}}(_0x3e4a,0xbf1d7));import _0x469de2 from'./S3MTile.js';import _0x28d390 from'./S3MLayerScheduler.js';import _0xc7fa43 from'./S3MLayerCache.js';import _0xd601d3 from'./Enum/OperationType.js';import _0x4003a4 from'./Enum/PLANECLIPMODE.js';import _0x51c18d from'./Hypsometric.js';import _0x458e88 from'./HypsometricSetting.js';import _0x5b7075 from'./Enum/HypsometricSettingEnum.js';import _0x27a74a from'./Parameter/Flatten.js';function _0x484f(_0x4a6bee,_0x2b0852){_0x4a6bee=_0x4a6bee-0x127;let _0x3e4ab4=_0x3e4a[_0x4a6bee];return _0x3e4ab4;}import _0x3bc70a from'./RasterRegion.js';import _0x3d7bfd from'../Ext/XmlParser.js';import _0x57f994 from'./Style3D.js';import _0x4e9040 from'./S3MBlockCache.js';function S3MTilesLayer(_0x527b5c){const _0x5dbb70=_0x484f;_0x527b5c=Cesium[_0x5dbb70(0x18b)](_0x527b5c,Cesium['defaultValue'][_0x5dbb70(0x14e)]),Cesium[_0x5dbb70(0x12c)]['defined']('options.context',_0x527b5c[_0x5dbb70(0x136)]),Cesium[_0x5dbb70(0x12c)][_0x5dbb70(0x276)](_0x5dbb70(0x195),_0x527b5c[_0x5dbb70(0x17b)]),this['id']=Cesium[_0x5dbb70(0x1df)](),this[_0x5dbb70(0x16e)]=_0x527b5c['name'],this[_0x5dbb70(0x136)]=_0x527b5c[_0x5dbb70(0x136)],this['_isS3MB']=Cesium[_0x5dbb70(0x18b)](_0x527b5c['isS3MB'],!![]),this[_0x5dbb70(0x261)]=Cesium[_0x5dbb70(0x18b)](_0x527b5c[_0x5dbb70(0x15e)],![]),this[_0x5dbb70(0x1b0)]=undefined,this[_0x5dbb70(0x173)]=undefined,this[_0x5dbb70(0x205)]=undefined,this[_0x5dbb70(0x268)]=new Cesium[(_0x5dbb70(0x1ad))](),this[_0x5dbb70(0x202)]=new Cesium[(_0x5dbb70(0x1ad))](),this[_0x5dbb70(0x138)]=undefined,this[_0x5dbb70(0x162)]=undefined,this[_0x5dbb70(0x233)]=undefined,this[_0x5dbb70(0x17e)]=[],this[_0x5dbb70(0x180)]=new _0x28d390(),this[_0x5dbb70(0x206)]=[],this[_0x5dbb70(0x204)]=[],this[_0x5dbb70(0x1e3)]=[],this[_0x5dbb70(0x1a4)]=new _0xc7fa43(),this['_maximumMemoryUsage']=-0x1,this[_0x5dbb70(0x253)]=0x0,this[_0x5dbb70(0x15d)]={'foveatedFactor':-Number[_0x5dbb70(0x262)],'depth':-Number[_0x5dbb70(0x262)],'distance':-Number[_0x5dbb70(0x262)],'pixel':-Number[_0x5dbb70(0x262)]},this['_minimumPriority']={'foveatedFactor':Number[_0x5dbb70(0x262)],'depth':Number[_0x5dbb70(0x262)],'distance':Number[_0x5dbb70(0x262)],'pixel':Number['MAX_VALUE']},this[_0x5dbb70(0x21b)]=Cesium[_0x5dbb70(0x152)][_0x5dbb70(0x1c2)](),this['_selectEnabled']=!![],this[_0x5dbb70(0x265)]=![],this[_0x5dbb70(0x1ae)]=[],this['_selectedColor']=new Cesium[(_0x5dbb70(0x1c7))](0.7,0.7,0x1,0x1),this[_0x5dbb70(0x1bf)]=new Cesium[(_0x5dbb70(0x217))](),this[_0x5dbb70(0x232)]=new Cesium['AssociativeArray'](),this[_0x5dbb70(0x1dd)]=new Cesium['AssociativeArray'](),this[_0x5dbb70(0x270)]={},this['_objsColorList']={},this[_0x5dbb70(0x15c)]=![],this['_clipMode']=_0x4003a4[_0x5dbb70(0x1a7)],this[_0x5dbb70(0x157)]=![],this['_enableClipPlane']=![],this[_0x5dbb70(0x144)]=[new Cesium[(_0x5dbb70(0x214))](0x0,0x0,0x0,0x0),new Cesium[(_0x5dbb70(0x214))](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium[(_0x5dbb70(0x214))](0x0,0x0,0x0,0x0),new Cesium[(_0x5dbb70(0x214))](0x0,0x0,0x0,0x0),new Cesium[(_0x5dbb70(0x214))](0x0,0x0,0x0,0x0)],this[_0x5dbb70(0x143)]=[new Cesium[(_0x5dbb70(0x214))](0x0,0x0,0x0,0x0),new Cesium[(_0x5dbb70(0x214))](0x0,0x0,0x0,0x0),new Cesium[(_0x5dbb70(0x214))](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium[(_0x5dbb70(0x214))](0x0,0x0,0x0,0x0)],this[_0x5dbb70(0x1f6)]=new _0x51c18d({}),this['_flattenPar']=new _0x27a74a(),this[_0x5dbb70(0x1a9)]=0x0,this[_0x5dbb70(0x22d)]=0x0,this[_0x5dbb70(0x12d)]=0x0,this['_maxHeight']=0x0,this[_0x5dbb70(0x23b)]=new Cesium[(_0x5dbb70(0x214))](0x0,0x0,0x1,0x1),this[_0x5dbb70(0x1e2)]=![],this[_0x5dbb70(0x194)]=Cesium[_0x5dbb70(0x18b)](_0x527b5c['maxVisibleDistance'],Number[_0x5dbb70(0x262)]),this[_0x5dbb70(0x1b6)]=Cesium['defaultValue'](_0x527b5c[_0x5dbb70(0x228)],0x0),this[_0x5dbb70(0x16a)]=Cesium['defaultValue'](_0x527b5c[_0x5dbb70(0x20f)],0x0),this[_0x5dbb70(0x1fe)]=Cesium['defaultValue'](_0x527b5c[_0x5dbb70(0x165)],Number[_0x5dbb70(0x262)]),this[_0x5dbb70(0x1b5)]=Cesium[_0x5dbb70(0x18b)](_0x527b5c['lodRangeScale'],0x1),this['_visible']=Cesium[_0x5dbb70(0x18b)](_0x527b5c[_0x5dbb70(0x249)],!![]),this[_0x5dbb70(0x1a1)]=Cesium[_0x5dbb70(0x18b)](_0x527b5c[_0x5dbb70(0x1c0)],new _0x57f994()),this[_0x5dbb70(0x238)]=0xfff,this[_0x5dbb70(0x244)]=undefined,this[_0x5dbb70(0x19c)]=undefined,this[_0x5dbb70(0x1b7)]=0x0,this['_edgeCurrentTotalLength']=0x0,this[_0x5dbb70(0x25d)]=0x0,this['_blockCache']=_0x4e9040[_0x5dbb70(0x131)](),this['_materialManager']=undefined,this[_0x5dbb70(0x14f)]=undefined,this['loadConfig'](_0x527b5c[_0x5dbb70(0x224)]);}Object[_0x12c6d3(0x1c8)](S3MTilesLayer['prototype'],{'ready':{'get':function(){const _0x23fbc0=_0x12c6d3;if(this[_0x23fbc0(0x138)]===_0x23fbc0(0x188))return this['_waterParameters']!==undefined&&this['_rootTiles'][_0x23fbc0(0x26d)]>0x0;return this['_rootTiles'][_0x23fbc0(0x26d)]>0x0;}},'readyPromise':{'get':function(){return this['_readyPromise'];}},'visible':{'get':function(){return this['_visible'];},'set':function(_0x5d6711){this['_visible']=_0x5d6711;}},'style3D':{'get':function(){const _0x2c4194=_0x12c6d3;return this[_0x2c4194(0x1a1)];}},'rectangle':{'get':function(){return this['_rectangle'];}},'totalMemoryUsageInBytes':{'get':function(){const _0xda6774=_0x12c6d3;return this[_0xda6774(0x253)];},'set':function(_0x41c6b8){const _0x222219=_0x12c6d3;this[_0x222219(0x253)]=_0x41c6b8;}},'maximumMemoryUsage':{'get':function(){const _0x169df4=_0x12c6d3;return this[_0x169df4(0x20c)];},'set':function(_0x5f33d6){const _0x21ba1a=_0x12c6d3;this[_0x21ba1a(0x20c)]=_0x5f33d6;}},'lodRangeScale':{'get':function(){const _0x3f862c=_0x12c6d3;return this[_0x3f862c(0x1b5)];},'set':function(_0x4951b1){const _0x1cbde8=_0x12c6d3;Cesium[_0x1cbde8(0x12c)][_0x1cbde8(0x166)][_0x1cbde8(0x1c6)](_0x1cbde8(0x26f),_0x4951b1),this[_0x1cbde8(0x1b5)]=_0x4951b1;}},'selectedColor':{'get':function(){const _0x16f05e=_0x12c6d3;return this[_0x16f05e(0x1eb)];},'set':function(_0x5ba776){const _0x211ca8=_0x12c6d3;Cesium['Color'][_0x211ca8(0x1d8)](_0x5ba776,this[_0x211ca8(0x1eb)]);}},'dataMinValue':{'get':function(){const _0x2ba9dd=_0x12c6d3;return Cesium[_0x2ba9dd(0x18b)](this[_0x2ba9dd(0x1a9)],this['_minHeight']);}},'dataMaxValue':{'get':function(){const _0x22baab=_0x12c6d3;return Cesium[_0x22baab(0x18b)](this['_maxCategory'],this['_maxHeight']);}},'swipeRegion':{'get':function(){const _0x46e0ef=_0x12c6d3;return new Cesium['BoundingRectangle'](this['_swipeRegion']['x'],this[_0x46e0ef(0x23b)]['y'],this['_swipeRegion']['z']-this[_0x46e0ef(0x23b)]['x'],this[_0x46e0ef(0x23b)]['w']-this[_0x46e0ef(0x23b)]['y']);},'set':function(_0x3617dc){const _0x2a8170=_0x12c6d3;if(!_0x3617dc)return;if(!(_0x3617dc instanceof Cesium['BoundingRectangle']))throw new Cesium[(_0x2a8170(0x1bb))]('swipeRegion\x20must\x20be\x20a\x20instance\x20of\x20BoundingRectangle.');Cesium[_0x2a8170(0x214)][_0x2a8170(0x258)](_0x3617dc['x'],_0x3617dc['y'],_0x3617dc['x']+_0x3617dc[_0x2a8170(0x239)],_0x3617dc['y']+_0x3617dc[_0x2a8170(0x21c)],this[_0x2a8170(0x23b)]);}},'swipeEnabled':{'get':function(){return this['_swipeEnabled'];},'set':function(_0xc8af9c){const _0x1f717f=_0x12c6d3;if(_0xc8af9c===this[_0x1f717f(0x1e2)])return;!_0xc8af9c&&Cesium[_0x1f717f(0x214)][_0x1f717f(0x258)](0x0,0x0,0x1,0x1,this[_0x1f717f(0x23b)]),this[_0x1f717f(0x1e2)]=_0xc8af9c,this['_tranverseRenderEntity']({'enable':_0xc8af9c},swipeCallback);}},'visibleDistanceMax':{'get':function(){return this['_visibleDistanceMax'];},'set':function(_0x39f00b){const _0x36be7a=_0x12c6d3;Cesium[_0x36be7a(0x12c)][_0x36be7a(0x166)]['number'](_0x36be7a(0x218),_0x39f00b),this['_visibleDistanceMax']=_0x39f00b;}},'visibleDistanceMin':{'get':function(){const _0x25751f=_0x12c6d3;return this[_0x25751f(0x1b6)];},'set':function(_0x13d6cb){const _0x3cb61b=_0x12c6d3;Cesium[_0x3cb61b(0x12c)][_0x3cb61b(0x166)][_0x3cb61b(0x1c6)](_0x3cb61b(0x14c),_0x13d6cb),this[_0x3cb61b(0x1b6)]=_0x13d6cb;}},'minVisibleAltitude':{'get':function(){const _0x34bfac=_0x12c6d3;return this[_0x34bfac(0x16a)];},'set':function(_0x5bed6a){const _0xf4f949=_0x12c6d3;Cesium[_0xf4f949(0x12c)][_0xf4f949(0x166)][_0xf4f949(0x1c6)](_0xf4f949(0x139),_0x5bed6a),this['_minVisibleAltitude']=_0x5bed6a;}},'maxVisibleAltitude':{'get':function(){const _0x4d4ef3=_0x12c6d3;return this[_0x4d4ef3(0x1fe)];},'set':function(_0x4f4631){const _0x3fc7eb=_0x12c6d3;Cesium[_0x3fc7eb(0x12c)]['typeOf'][_0x3fc7eb(0x1c6)](_0x3fc7eb(0x191),_0x4f4631),this[_0x3fc7eb(0x1fe)]=_0x4f4631;}},'hypsometricSetting':{'get':function(){const _0x409f97=_0x12c6d3;return{'hypsometricSetting':this[_0x409f97(0x1f6)][_0x409f97(0x1ca)],'analysisMode':this['_hypsometric']['analysisMode']};},'set':function(_0x30261e){const _0x4f3017=_0x12c6d3;let _0x59c1e8=this[_0x4f3017(0x1f6)];if(!_0x30261e||!_0x30261e['hypsometricSetting']){_0x59c1e8['isUseHypColorTable']=![],_0x59c1e8[_0x4f3017(0x1ca)]=_0x59c1e8['setting']&&_0x59c1e8[_0x4f3017(0x1ca)][_0x4f3017(0x1e7)](),this['_tranverseRenderEntity']({'enable':![]},hypsometricCallback);return;}_0x59c1e8['region']=_0x59c1e8[_0x4f3017(0x208)]&&_0x59c1e8[_0x4f3017(0x208)][_0x4f3017(0x1e7)](),!_0x59c1e8[_0x4f3017(0x1de)]&&(_0x59c1e8[_0x4f3017(0x1de)]=new Cesium[(_0x4f3017(0x1d4))]({'context':this['context'],'width':0x400,'height':0x400,'pixelFormat':Cesium[_0x4f3017(0x198)][_0x4f3017(0x255)]})),!_0x59c1e8[_0x4f3017(0x1db)]&&(_0x59c1e8[_0x4f3017(0x1db)]=new Cesium[(_0x4f3017(0x1d4))]({'context':this[_0x4f3017(0x136)],'width':0x400,'height':0x40,'pixelFormat':Cesium['PixelFormat'][_0x4f3017(0x255)],'flipY':![]})),_0x59c1e8[_0x4f3017(0x1ba)]=Cesium[_0x4f3017(0x18b)](_0x30261e['analysisMode'],_0x59c1e8[_0x4f3017(0x1ba)]),_0x59c1e8[_0x4f3017(0x1ca)]=_0x458e88[_0x4f3017(0x1d8)](_0x30261e[_0x4f3017(0x1f9)],_0x59c1e8[_0x4f3017(0x1ca)]),_0x59c1e8[_0x4f3017(0x1ca)][_0x4f3017(0x20a)]&&(_0x59c1e8[_0x4f3017(0x1ca)][_0x4f3017(0x20a)][_0x4f3017(0x149)](),this[_0x4f3017(0x1f6)][_0x4f3017(0x1db)]&&this[_0x4f3017(0x1f6)]['texture'][_0x4f3017(0x12a)]({'width':0x400,'height':0x40,'arrayBufferView':_0x59c1e8[_0x4f3017(0x1ca)][_0x4f3017(0x20a)][_0x4f3017(0x1d3)]})),_0x59c1e8[_0x4f3017(0x189)]=_0x59c1e8['analysisMode']!==_0x5b7075['AnalysisRegionMode'][_0x4f3017(0x1ab)],this['_tranverseRenderEntity']({'enable':_0x59c1e8['isUseHypColorTable']},hypsometricCallback);}}});function getWaterEffect(_0x43386e){const _0x38d9bb=_0x12c6d3;let _0x46093e={},_0x538c6e=_0x43386e[_0x38d9bb(0x1aa)];_0x46093e[_0x38d9bb(0x134)]=_0x3d7bfd[_0x38d9bb(0x19a)](_0x538c6e,'Version'),_0x46093e[_0x38d9bb(0x138)]=_0x3d7bfd[_0x38d9bb(0x19a)](_0x538c6e,_0x38d9bb(0x235));let _0x438127=_0x3d7bfd[_0x38d9bb(0x1b3)](_0x538c6e,'WaterEffect');_0x46093e['averageHeight']=_0x3d7bfd[_0x38d9bb(0x12e)](_0x438127,_0x38d9bb(0x1ed));let _0x37b45d=_0x3d7bfd[_0x38d9bb(0x22e)](_0x438127,_0x38d9bb(0x17f));_0x46093e[_0x38d9bb(0x20b)]=[];for(let _0x441fce=0x0,_0x29c7c6=_0x37b45d[_0x38d9bb(0x26d)];_0x441fce<_0x29c7c6;_0x441fce++){let _0x3a9951={};_0x3a9951[_0x38d9bb(0x16b)]=[],_0x3a9951['atuoConstants']=[];let _0x9dd155=_0x37b45d[_0x441fce],_0x435d26=_0x3d7bfd['queryFirstNode'](_0x9dd155,_0x38d9bb(0x12b));if(_0x435d26){let _0x2ab646=_0x3d7bfd[_0x38d9bb(0x22e)](_0x435d26,_0x38d9bb(0x227));for(let _0x2a3c16=0x0,_0x3a5d41=_0x2ab646[_0x38d9bb(0x26d)];_0x2a3c16<_0x3a5d41;_0x2a3c16++){let _0x170e0f={},_0x72d431=_0x2ab646[_0x2a3c16];_0x170e0f['constType']=_0x3d7bfd['queryNumericValue'](_0x72d431,_0x38d9bb(0x1fb)),_0x170e0f['index']=_0x3d7bfd[_0x38d9bb(0x12e)](_0x72d431,_0x38d9bb(0x141)),_0x170e0f['name']=_0x3d7bfd[_0x38d9bb(0x19a)](_0x72d431,_0x38d9bb(0x140)),_0x170e0f['arraySize']=_0x3d7bfd['queryNumericValue'](_0x72d431,'ArraySize'),_0x170e0f[_0x38d9bb(0x177)]=_0x3d7bfd[_0x38d9bb(0x12e)](_0x72d431,_0x38d9bb(0x269));let _0x48ecd1=_0x3d7bfd[_0x38d9bb(0x1b3)](_0x72d431,_0x38d9bb(0x21f));_0x170e0f[_0x38d9bb(0x150)]=[];if(_0x48ecd1){let _0x3ed28c=_0x3d7bfd[_0x38d9bb(0x22e)](_0x48ecd1,_0x38d9bb(0x135)),_0x36b633=0x0;while(_0x36b633<_0x170e0f[_0x38d9bb(0x1c1)]){let _0x5a4a7e=parseFloat(_0x3ed28c[_0x36b633]['textContent']);_0x170e0f[_0x38d9bb(0x150)]['push'](_0x5a4a7e),_0x36b633++;}}_0x3a9951[_0x38d9bb(0x16b)][_0x38d9bb(0x128)](_0x170e0f);}}let _0x1979b5=_0x3d7bfd[_0x38d9bb(0x1b3)](_0x9dd155,'AutoConstants');if(_0x1979b5){let _0x7f3620=_0x3d7bfd[_0x38d9bb(0x22e)](_0x1979b5,'AutoConstantEntry');for(let _0x5e66f0=0x0,_0x4af4c0=_0x7f3620[_0x38d9bb(0x26d)];_0x5e66f0<_0x4af4c0;_0x5e66f0++){let _0x2cc0b4={},_0x24639a=_0x7f3620[_0x5e66f0];_0x2cc0b4[_0x38d9bb(0x12f)]=_0x3d7bfd[_0x38d9bb(0x12e)](_0x24639a,_0x38d9bb(0x278)),_0x2cc0b4['name']=_0x3d7bfd['queryStringValue'](_0x24639a,_0x38d9bb(0x140)),_0x2cc0b4[_0x38d9bb(0x168)]=_0x3d7bfd['queryNumericValue'](_0x24639a,_0x38d9bb(0x22f)),_0x2cc0b4['elementCount']=_0x3d7bfd[_0x38d9bb(0x12e)](_0x24639a,'ElementCount'),_0x2cc0b4[_0x38d9bb(0x175)]=_0x3d7bfd[_0x38d9bb(0x12e)](_0x24639a,'Data'),_0x2cc0b4['fData']=_0x3d7bfd[_0x38d9bb(0x12e)](_0x24639a,'FData'),_0x2cc0b4['isReal']=_0x3d7bfd['queryBooleanValue'](_0x24639a,'IsReal'),_0x3a9951[_0x38d9bb(0x215)][_0x38d9bb(0x128)](_0x2cc0b4);}}_0x46093e[_0x38d9bb(0x20b)][_0x38d9bb(0x128)](_0x3a9951);}return _0x46093e;}function getUrl(_0x3b9bfd,_0x10dcc1){const _0xa97091=_0x12c6d3;let _0x4cfcf7=_0x10dcc1[_0xa97091(0x173)],_0x5923aa=_0x10dcc1[_0xa97091(0x173)]['indexOf'](_0xa97091(0x184))>-0x1;if(!_0x5923aa)return _0x3b9bfd;let _0x9d4493=_0x4cfcf7[_0xa97091(0x237)](/(.*realspace)/,''),_0x3197b3=_0x4cfcf7[_0xa97091(0x237)](/\/rest\/realspace/g,'')[_0xa97091(0x237)](_0x9d4493,'');return _0x3197b3+_0xa97091(0x24d)+_0x9d4493+'data/path/'+_0x3b9bfd[_0xa97091(0x237)](/^\.*/,'')[_0xa97091(0x237)](/^\//,'')[_0xa97091(0x237)](/\/$/,'');}function parseWaterParameters(_0x13e085,_0x1eb3df){const _0x2c9124=_0x12c6d3;let _0xe15ddc=_0x1eb3df['extensions'];if(!_0xe15ddc||!_0xe15ddc[_0x2c9124(0x145)])return;let _0x114888=_0xe15ddc[_0x2c9124(0x145)],_0x3bedf9=[],_0x536040=_0x13e085[_0x2c9124(0x173)],_0x36228e=![];for(let _0x2f2ea0=0x0,_0x5caa31=_0x114888['length'];_0x2f2ea0<_0x5caa31;_0x2f2ea0++){let _0x119c5f=_0x114888[_0x2f2ea0][_0x2c9124(0x252)];if(_0x119c5f[_0x2c9124(0x183)](_0x2c9124(0x146))>0x0){let _0x5c843d=getUrl(_0x119c5f,_0x13e085),_0x21f502=_0x13e085[_0x2c9124(0x205)]['getDerivedResource']({'url':_0x5c843d});_0x3bedf9[_0x2c9124(0x128)](_0x21f502[_0x2c9124(0x23d)]()),_0x36228e=!![];}}if(!_0x3bedf9[_0x2c9124(0x26d)])return;Cesium['when']['all'](_0x3bedf9,_0x1c31b2=>{const _0x1b51e3=_0x2c9124;let _0x3dc11d=[];for(let _0x920462=0x0,_0x1d4c8d=_0x1c31b2[_0x1b51e3(0x26d)];_0x920462<_0x1d4c8d;_0x920462++){let _0x32d744=_0x1c31b2[_0x920462];if(!_0x32d744)break;let _0x4ed1b0=getWaterEffect(_0x32d744);_0x3dc11d[_0x1b51e3(0x128)](_0x4ed1b0);}_0x13e085[_0x1b51e3(0x19c)]=new Cesium['AssociativeArray'](),_0x13e085[_0x1b51e3(0x244)]={};let _0x1a5c58=_0x3dc11d[0x0];_0x13e085[_0x1b51e3(0x244)][_0x1b51e3(0x207)]=_0x1a5c58['averageHeight'];for(let _0x2679c2=0x0;_0x2679c2<_0x1a5c58[_0x1b51e3(0x20b)][_0x1b51e3(0x26d)];_0x2679c2++){let _0x3fbc9a=_0x1a5c58[_0x1b51e3(0x20b)][_0x2679c2];for(let _0x1d868a=0x0;_0x1d868a<_0x3fbc9a[_0x1b51e3(0x215)][_0x1b51e3(0x26d)];_0x1d868a++){let _0x29ff93=_0x3fbc9a[_0x1b51e3(0x215)][_0x1d868a];if(_0x29ff93[_0x1b51e3(0x16e)]===_0x1b51e3(0x1a8)){_0x13e085[_0x1b51e3(0x244)][_0x29ff93[_0x1b51e3(0x16e)]]=_0x29ff93[_0x1b51e3(0x1b4)];break;}}for(let _0x3c4ca1=0x0;_0x3c4ca1<_0x3fbc9a[_0x1b51e3(0x16b)][_0x1b51e3(0x26d)];_0x3c4ca1++){let _0x1476c5=_0x3fbc9a['gpuConstants'][_0x3c4ca1],_0x525914=null;switch(_0x1476c5['arraySize']){case 0x1:_0x525914=_0x1476c5[_0x1b51e3(0x150)][0x0];break;case 0x2:_0x525914=new Cesium[(_0x1b51e3(0x132))](),Cesium[_0x1b51e3(0x132)]['unpack'](_0x1476c5['arrayFloat'],0x0,_0x525914);break;case 0x3:_0x525914=new Cesium[(_0x1b51e3(0x1fc))](),Cesium[_0x1b51e3(0x1fc)][_0x1b51e3(0x1bc)](_0x1476c5[_0x1b51e3(0x150)],0x0,_0x525914);break;case 0x4:_0x525914=new Cesium[(_0x1b51e3(0x214))](),Cesium[_0x1b51e3(0x214)][_0x1b51e3(0x1bc)](_0x1476c5[_0x1b51e3(0x150)],0x0,_0x525914);break;default:break;}if(!_0x525914)continue;_0x13e085[_0x1b51e3(0x244)][_0x1476c5['name']]=_0x525914;}}_0x13e085[_0x1b51e3(0x138)]+='_Water';});}S3MTilesLayer[_0x12c6d3(0x1f8)][_0x12c6d3(0x1da)]=function(_0x59e562){const _0x8f2274=_0x12c6d3;let _0x419eb8=this;Cesium[_0x8f2274(0x152)](_0x59e562)[_0x8f2274(0x15b)](function(_0x449360){const _0x3d08b6=_0x8f2274;let _0x114a88,_0x249485=Cesium[_0x3d08b6(0x229)][_0x3d08b6(0x1a6)](_0x449360);_0x114a88=_0x249485['getBaseUri'](!![]),_0x419eb8['_url']=_0x249485[_0x3d08b6(0x224)],_0x419eb8[_0x3d08b6(0x173)]=_0x114a88,_0x419eb8[_0x3d08b6(0x205)]=_0x249485;if(_0x419eb8[_0x3d08b6(0x137)]||_0x419eb8['_isS3MBlock'])return _0x249485['fetchJson']();return _0x249485[_0x3d08b6(0x23d)]();})[_0x8f2274(0x15b)](function(_0x298836){const _0x219c17=_0x8f2274;if(_0x419eb8['_isS3MB']||_0x419eb8[_0x219c17(0x261)]){let _0xf114b2=_0x298836[_0x219c17(0x236)];_0x419eb8['fileType']=_0xf114b2['s3m:FileType'];let _0x46adf8=_0x298836[_0x219c17(0x179)]['x'],_0x4c413b=_0x298836[_0x219c17(0x179)]['y'],_0x3a4dcb=_0x298836['position']['z'];_0x419eb8[_0x219c17(0x162)]=Cesium['Cartesian3'][_0x219c17(0x1b2)](_0x46adf8,_0x4c413b,_0x3a4dcb),_0x419eb8['modelMatrix']=Cesium[_0x219c17(0x13a)][_0x219c17(0x234)](_0x419eb8['_position']),_0x419eb8[_0x219c17(0x202)]=Cesium['Matrix4'][_0x219c17(0x1d2)](_0x419eb8[_0x219c17(0x268)],_0x419eb8[_0x219c17(0x202)]),_0x419eb8['_rectangle']=Cesium[_0x219c17(0x1c4)][_0x219c17(0x1b2)](_0x298836[_0x219c17(0x160)][_0x219c17(0x223)],_0x298836[_0x219c17(0x160)]['bottom'],_0x298836['geoBounds'][_0x219c17(0x14a)],_0x298836['geoBounds'][_0x219c17(0x1cb)]);_0x298836[_0x219c17(0x1ff)]&&(_0x419eb8[_0x219c17(0x12d)]=_0x298836[_0x219c17(0x1ff)][_0x219c17(0x1cf)],_0x419eb8['_maxHeight']=_0x298836['heightRange'][_0x219c17(0x263)]);if(_0x298836[_0x219c17(0x1d5)]){let _0x20bd10=_0x298836[_0x219c17(0x1d5)][_0x219c17(0x226)];_0x419eb8[_0x219c17(0x225)]=_0x20bd10['min'],_0x419eb8[_0x219c17(0x154)]=_0x20bd10[_0x219c17(0x263)];}if(_0x298836[_0x219c17(0x176)][_0x219c17(0x26d)]>0x0){let _0x5e8f2d=Cesium[_0x219c17(0x199)](_0x298836[_0x219c17(0x176)][0x0][_0x219c17(0x224)]);_0x5e8f2d===_0x219c17(0x230)&&(_0x419eb8['_isS3MBlock']=!![]);}for(let _0x181297=0x0,_0x186482=_0x298836[_0x219c17(0x176)]['length'];_0x181297<_0x186482;_0x181297++){let _0x2a1128=_0x298836[_0x219c17(0x176)][_0x181297][_0x219c17(0x224)],_0x3eae70={'box':_0x298836[_0x219c17(0x176)][_0x181297][_0x219c17(0x18f)]},_0x3fba93=new _0x469de2(_0x419eb8,undefined,_0x3eae70,_0x2a1128);_0x3fba93[_0x219c17(0x279)]=!![],_0x3fba93[_0x219c17(0x240)]=_0x2a1128,_0x419eb8[_0x219c17(0x1a4)]['add'](_0x3fba93),_0x419eb8['_rootTiles'][_0x219c17(0x128)](_0x3fba93);}parseWaterParameters(_0x419eb8,_0x298836);}else{let _0x19217a=_0x298836['firstChild'],_0x545ed0=_0x19217a[_0x219c17(0x26a)];_0x419eb8[_0x219c17(0x138)]=_0x3d7bfd[_0x219c17(0x19a)](_0x19217a,_0x219c17(0x235),_0x545ed0);let _0x2f19e5=_0x3d7bfd[_0x219c17(0x1b3)](_0x19217a,_0x219c17(0x259),_0x545ed0),_0x18a64b=_0x3d7bfd[_0x219c17(0x12e)](_0x2f19e5,'X',_0x545ed0),_0x8c0fa3=_0x3d7bfd[_0x219c17(0x12e)](_0x2f19e5,'Y',_0x545ed0),_0x4fd351=_0x3d7bfd['queryNumericValue'](_0x2f19e5,'Z',_0x545ed0);_0x419eb8[_0x219c17(0x162)]=Cesium[_0x219c17(0x1fc)]['fromDegrees'](_0x18a64b,_0x8c0fa3,_0x4fd351),_0x419eb8['modelMatrix']=Cesium[_0x219c17(0x13a)][_0x219c17(0x234)](_0x419eb8[_0x219c17(0x162)]),_0x419eb8[_0x219c17(0x202)]=Cesium[_0x219c17(0x1ad)][_0x219c17(0x1d2)](_0x419eb8[_0x219c17(0x268)],_0x419eb8[_0x219c17(0x202)]);let _0x1bdab5=_0x3d7bfd['queryFirstNode'](_0x19217a,_0x219c17(0x267),_0x545ed0),_0x4603df=_0x3d7bfd[_0x219c17(0x1b3)](_0x19217a,_0x219c17(0x242),_0x545ed0);if(_0x1bdab5){let _0x17a795=_0x3d7bfd[_0x219c17(0x12e)](_0x1bdab5,_0x219c17(0x1bd),_0x545ed0),_0xbbc29a=_0x3d7bfd[_0x219c17(0x12e)](_0x1bdab5,_0x219c17(0x1cd),_0x545ed0),_0x2c170a=_0x3d7bfd[_0x219c17(0x12e)](_0x1bdab5,'Right',_0x545ed0),_0x5d20f1=_0x3d7bfd['queryNumericValue'](_0x1bdab5,_0x219c17(0x148),_0x545ed0);_0x419eb8[_0x219c17(0x233)]=Cesium['Rectangle'][_0x219c17(0x1b2)](_0x17a795,_0x5d20f1,_0x2c170a,_0xbbc29a);}else{if(_0x4603df){let _0x3c590c=_0x3d7bfd[_0x219c17(0x12e)](_0x4603df,_0x219c17(0x1ea),_0x545ed0),_0x40c7d8=_0x3d7bfd[_0x219c17(0x12e)](_0x4603df,_0x219c17(0x15a),_0x545ed0),_0x47af56=_0x3d7bfd[_0x219c17(0x12e)](_0x4603df,'MinZ',_0x545ed0),_0x4f86e4=_0x3d7bfd[_0x219c17(0x12e)](_0x4603df,_0x219c17(0x22c),_0x545ed0),_0x1c02d4=_0x3d7bfd['queryNumericValue'](_0x4603df,'MaxY',_0x545ed0),_0x442aef=_0x3d7bfd[_0x219c17(0x12e)](_0x4603df,_0x219c17(0x1b8),_0x545ed0);_0x3c590c=0xb4*Math['abs'](_0x3c590c)/(Math['PI']*0x615299),_0x40c7d8=0xb4*Math['abs'](_0x40c7d8)/(Math['PI']*0x615299),_0x4f86e4=0xb4*Math['abs'](_0x4f86e4)/(Math['PI']*0x615299),_0x1c02d4=0xb4*Math[_0x219c17(0x245)](_0x1c02d4)/(Math['PI']*0x615299),_0x419eb8[_0x219c17(0x233)]=Cesium[_0x219c17(0x1c4)][_0x219c17(0x1b2)](_0x18a64b-_0x3c590c,_0x8c0fa3-_0x40c7d8,_0x18a64b+_0x4f86e4,_0x8c0fa3+_0x1c02d4);}}let _0xd5df5e=_0x3d7bfd[_0x219c17(0x1b3)](_0x19217a,_0x219c17(0x14b),_0x545ed0);_0xd5df5e&&(_0x419eb8[_0x219c17(0x12d)]=_0x3d7bfd[_0x219c17(0x12e)](_0xd5df5e,_0x219c17(0x24f),_0x545ed0),_0x419eb8[_0x219c17(0x23e)]=_0x3d7bfd[_0x219c17(0x12e)](_0xd5df5e,'MaxHeight',_0x545ed0));let _0x86acc7=_0x3d7bfd[_0x219c17(0x1b3)](_0x19217a,'CategoryRange',_0x545ed0);_0x86acc7&&(_0x419eb8[_0x219c17(0x154)]=_0x3d7bfd[_0x219c17(0x12e)](_0x86acc7,'MaxCategory',_0x545ed0),_0x419eb8['_minWValue']=_0x3d7bfd['queryNumericValue'](_0x86acc7,'MinCategory',_0x545ed0));let _0x1d21e8=/\\+/g,_0x584356=_0x3d7bfd['queryFirstNode'](_0x19217a,_0x219c17(0x127),_0x545ed0),_0x2417f4=_0x3d7bfd[_0x219c17(0x22e)](_0x584356,_0x219c17(0x161),_0x545ed0);if(_0x2417f4[_0x219c17(0x26d)]>0x0)for(let _0x1844b4=0x0,_0x4ff61f=_0x2417f4[_0x219c17(0x26d)];_0x1844b4<_0x4ff61f;_0x1844b4++){let _0x4dc078=_0x2417f4[_0x1844b4],_0x10d4a6=_0x3d7bfd[_0x219c17(0x19a)](_0x4dc078,_0x219c17(0x209),_0x545ed0);_0x10d4a6=_0x10d4a6['replace'](_0x1d21e8,'/'),_0x10d4a6=_0x10d4a6[_0x219c17(0x237)](/(\.osgb)/gi,'.s3m');let _0x55e631=_0x3d7bfd[_0x219c17(0x1b3)](_0x4dc078,_0x219c17(0x213),_0x545ed0),_0x5473e9={'sphere':{'center':{'x':0x0,'y':0x0,'z':0x0},'radius':0x615299}};if(_0x55e631&&_0x55e631[_0x219c17(0x1f5)][_0x219c17(0x26d)]){let _0x1314bb=_0x3d7bfd['queryNumericValue'](_0x55e631,_0x219c17(0x20d),_0x545ed0),_0x4821f0=_0x3d7bfd['queryNumericValue'](_0x55e631,_0x219c17(0x13f),_0x545ed0),_0x3c86bd=_0x3d7bfd[_0x219c17(0x12e)](_0x55e631,_0x219c17(0x1f4),_0x545ed0),_0x3df313=_0x3d7bfd['queryNumericValue'](_0x55e631,_0x219c17(0x24e),_0x545ed0);_0x5473e9={'sphere':{'center':{'x':_0x1314bb,'y':_0x4821f0,'z':_0x3c86bd},'radius':_0x3df313}};}let _0x363b0a=new _0x469de2(_0x419eb8,undefined,_0x5473e9,_0x10d4a6);_0x363b0a[_0x219c17(0x279)]=!![],_0x419eb8[_0x219c17(0x1a4)]['add'](_0x363b0a),_0x419eb8['_rootTiles'][_0x219c17(0x128)](_0x363b0a);}else{let _0x3d0d3e=_0x3d7bfd[_0x219c17(0x22e)](_0x584356,_0x219c17(0x209),_0x545ed0);for(let _0x4edeb7=0x0,_0x359058=_0x3d0d3e[_0x219c17(0x26d)];_0x4edeb7<_0x359058;_0x4edeb7++){let _0x2e46c7=_0x3d0d3e[_0x4edeb7][_0x219c17(0x241)];_0x2e46c7=_0x2e46c7[_0x219c17(0x237)](_0x1d21e8,'/'),_0x2e46c7=_0x2e46c7['replace'](/(\.osgb)/gi,_0x219c17(0x1d9));let _0x300150={'sphere':{'center':{'x':0x0,'y':0x0,'z':0x0},'radius':0x615299}},_0x261931=new _0x469de2(_0x419eb8,undefined,_0x300150,_0x2e46c7);_0x261931[_0x219c17(0x279)]=!![],_0x419eb8[_0x219c17(0x1a4)]['add'](_0x261931),_0x419eb8[_0x219c17(0x17e)][_0x219c17(0x128)](_0x261931);}}}_0x419eb8[_0x219c17(0x21b)][_0x219c17(0x16c)](_0x419eb8);})[_0x8f2274(0x1b9)](function(_0x13640a){const _0x5e03c8=_0x8f2274;_0x419eb8['_readyPromise'][_0x5e03c8(0x186)](_0x13640a);});};function sortRequestByPriority(_0x5c95ca,_0x2f5770){const _0xf6c5d7=_0x12c6d3;return _0x5c95ca[_0xf6c5d7(0x1a3)]-_0x2f5770[_0xf6c5d7(0x1a3)];}function requestTiles(_0x4a14c0){const _0x2d82fa=_0x12c6d3;let _0x10464d=_0x4a14c0[_0x2d82fa(0x206)],_0x94b1e1=_0x10464d[_0x2d82fa(0x26d)];_0x10464d[_0x2d82fa(0x13c)](sortRequestByPriority);for(let _0x4a31eb=0x0;_0x4a31eb<_0x94b1e1;++_0x4a31eb){let _0x524e26=_0x10464d[_0x4a31eb];_0x524e26['requestContent']();}}function processTiles(_0xc009ad,_0x2d1e5f){const _0x3dbab8=_0x12c6d3;let _0x8aeabe=_0xc009ad[_0x3dbab8(0x204)],_0x52309d=_0x8aeabe['length'];for(let _0xaeb30d=0x0;_0xaeb30d<_0x52309d;++_0xaeb30d){let _0x44fd83=_0x8aeabe[_0xaeb30d];_0x44fd83[_0x3dbab8(0x273)](_0x2d1e5f,_0xc009ad);}}function updateTiles(_0x4a3f04,_0x585306){const _0xbf1b24=_0x12c6d3;let _0x2edc66=_0x4a3f04[_0xbf1b24(0x1e3)],_0x395d51=_0x2edc66['length'];for(let _0x2044e6=0x0;_0x2044e6<_0x395d51;_0x2044e6++){_0x2edc66[_0x2044e6][_0xbf1b24(0x273)](_0x585306,_0x4a3f04);}}function unloadTile(_0x5c0fb3,_0x66d2e){const _0x1afcd5=_0x12c6d3;_0x66d2e[_0x1afcd5(0x1e5)]();}function freeResource(_0x5ec65b){const _0x1c1e96=_0x12c6d3;_0x5ec65b[_0x1c1e96(0x261)]?_0x5ec65b[_0x1c1e96(0x1a4)]['unloadBlockTiles'](_0x5ec65b,unloadTile):_0x5ec65b[_0x1c1e96(0x1a4)][_0x1c1e96(0x174)](_0x5ec65b,unloadTile);}S3MTilesLayer[_0x12c6d3(0x1f8)][_0x12c6d3(0x1d6)]=function(){const _0x529fb5=_0x12c6d3;if(this[_0x529fb5(0x1ae)]['length']<0x1)return;this[_0x529fb5(0x256)](this[_0x529fb5(0x1ae)],_0xd601d3['SELECTED']),this[_0x529fb5(0x1ae)][_0x529fb5(0x26d)]=0x0;},S3MTilesLayer[_0x12c6d3(0x1f8)][_0x12c6d3(0x147)]=function(_0x5a3605){this['_lodRangeScale']=_0x5a3605;},S3MTilesLayer[_0x12c6d3(0x1f8)][_0x12c6d3(0x129)]=function(_0x188dee){const _0x27b16f=_0x12c6d3;Cesium[_0x27b16f(0x12c)][_0x27b16f(0x276)](_0x27b16f(0x1ce),_0x188dee);if(!this['_selectEnabled'])return;!Array['isArray'](_0x188dee)&&(_0x188dee=[_0x188dee]),!this[_0x27b16f(0x265)]&&this[_0x27b16f(0x1d6)](),this[_0x27b16f(0x1ae)]=this[_0x27b16f(0x1ae)]['concat'](_0x188dee),this['_setObjsOperationType'](_0x188dee,_0xd601d3['SELECTED']);},S3MTilesLayer[_0x12c6d3(0x1f8)][_0x12c6d3(0x274)]=function(){const _0x42d699=_0x12c6d3;return[][_0x42d699(0x1f7)](this[_0x42d699(0x1ae)]);},S3MTilesLayer[_0x12c6d3(0x1f8)][_0x12c6d3(0x1ef)]=function(_0xcdfec5,_0x5e26ae){const _0x5f1dc4=_0x12c6d3;Cesium[_0x5f1dc4(0x12c)]['defined']('setObjsColor\x20ids',_0xcdfec5),Cesium[_0x5f1dc4(0x12c)]['defined']('setObjsColor\x20color',_0x5e26ae),Cesium['Check'][_0x5f1dc4(0x166)]['object']('setObjsColor\x20color',_0x5e26ae);!Array['isArray'](_0xcdfec5)&&(_0xcdfec5=[_0xcdfec5]);let _0x13be5c={};for(let _0x3cbed6=0x0,_0x38d16f=_0xcdfec5[_0x5f1dc4(0x26d)];_0x3cbed6<_0x38d16f;_0x3cbed6++){let _0x55d345=_0xcdfec5[_0x3cbed6]+'';if(!Cesium[_0x5f1dc4(0x276)](_0x55d345))continue;this[_0x5f1dc4(0x187)][_0x55d345]=_0x5e26ae,_0x13be5c[_0x55d345]=_0x5e26ae;}this[_0x5f1dc4(0x178)](_0x13be5c);},S3MTilesLayer[_0x12c6d3(0x1f8)][_0x12c6d3(0x203)]=function(_0x9b832c){const _0x1ac785=_0x12c6d3;Cesium[_0x1ac785(0x12c)][_0x1ac785(0x276)](_0x1ac785(0x19f),_0x9b832c);!Array[_0x1ac785(0x1c9)](_0x9b832c)&&(_0x9b832c=[_0x9b832c]);let _0x544752={};for(let _0x1a5a2f=0x0,_0x176f9f=_0x9b832c[_0x1ac785(0x26d)];_0x1a5a2f<_0x176f9f;_0x1a5a2f++){let _0x17fee=_0x9b832c[_0x1a5a2f];Cesium[_0x1ac785(0x276)](this[_0x1ac785(0x187)][_0x17fee])&&(_0x544752[_0x17fee]=Cesium[_0x1ac785(0x1c7)][_0x1ac785(0x221)],delete this[_0x1ac785(0x187)][_0x17fee]);}this[_0x1ac785(0x256)](_0x9b832c,_0xd601d3[_0x1ac785(0x210)]),this[_0x1ac785(0x178)](_0x544752);},S3MTilesLayer[_0x12c6d3(0x1f8)]['setOnlyObjsVisible']=function(_0x1b09f6,_0x5e36a8){const _0x5e62d9=_0x12c6d3;Cesium['Check'][_0x5e62d9(0x276)](_0x5e62d9(0x1a0),_0x1b09f6),Cesium[_0x5e62d9(0x12c)][_0x5e62d9(0x166)][_0x5e62d9(0x247)](_0x5e62d9(0x1e4),_0x5e36a8);!Array[_0x5e62d9(0x1c9)](_0x1b09f6)&&(_0x1b09f6=[_0x1b09f6]);if(_0x1b09f6[_0x5e62d9(0x26d)]===0x0){this[_0x5e62d9(0x15c)]=_0x5e36a8,this[_0x5e62d9(0x232)][_0x5e62d9(0x1dc)]();let _0x260441=Object[_0x5e62d9(0x212)](this[_0x5e62d9(0x1dd)][_0x5e62d9(0x26e)]);this[_0x5e62d9(0x256)](_0x260441,_0xd601d3[_0x5e62d9(0x1e1)]),this[_0x5e62d9(0x1dd)]['removeAll'](),this[_0x5e62d9(0x24c)](!_0x5e36a8);return;}let _0x7517ef=this['_objsVisibleList'],_0x5123bd=this[_0x5e62d9(0x1dd)],_0x5883cd=this[_0x5e62d9(0x270)];!_0x5e36a8?(_0x1b09f6['map'](function(_0x3345f1){const _0x1d08c5=_0x5e62d9;_0x7517ef['remove'](_0x3345f1),_0x5123bd[_0x1d08c5(0x163)](_0x3345f1,!![]);}),this[_0x5e62d9(0x156)](_0x1b09f6,_0xd601d3[_0x5e62d9(0x1e1)])):(_0x1b09f6[_0x5e62d9(0x1be)](function(_0x418168){const _0x17f043=_0x5e62d9;_0x7517ef[_0x17f043(0x163)](_0x418168,!![]),_0x5123bd[_0x17f043(0x26c)](_0x418168);}),this[_0x5e62d9(0x256)](_0x1b09f6,_0xd601d3[_0x5e62d9(0x1e1)]));},S3MTilesLayer['prototype']['setObjsVisible']=function(_0x22dd24,_0x2ee2c4){const _0x271137=_0x12c6d3;if(_0x22dd24['length']===0x0){this['setOnlyObjsVisible']([],_0x2ee2c4);return;}this[_0x271137(0x1d1)]([],_0x2ee2c4),this[_0x271137(0x1d1)](_0x22dd24,_0x2ee2c4);};function createPlane(_0x19a331,_0x145292,_0x370d14){const _0x5c744a=_0x12c6d3;let _0xa924fb=new Cesium[(_0x5c744a(0x1fc))](),_0x1d4077=new Cesium['Cartesian3']();Cesium[_0x5c744a(0x1fc)]['subtract'](_0x145292,_0x19a331,_0xa924fb),Cesium[_0x5c744a(0x1fc)][_0x5c744a(0x246)](_0x370d14,_0x19a331,_0x1d4077);let _0xbde0de=new Cesium[(_0x5c744a(0x1fc))]();Cesium[_0x5c744a(0x1fc)][_0x5c744a(0x231)](_0xa924fb,_0x1d4077,_0xbde0de),Cesium['Cartesian3'][_0x5c744a(0x23a)](_0xbde0de,_0xbde0de);let _0x2d7176=-Cesium[_0x5c744a(0x1fc)][_0x5c744a(0x18e)](_0xbde0de,_0x19a331);return new Cesium[(_0x5c744a(0x214))](_0xbde0de['x'],_0xbde0de['y'],_0xbde0de['z'],_0x2d7176);}function clipCallback(_0x218622,_0x5b0ca9){const _0x2a8134=_0x12c6d3;_0x218622[_0x2a8134(0x25e)](_0x5b0ca9);}S3MTilesLayer[_0x12c6d3(0x1f8)][_0x12c6d3(0x171)]=function(_0x518ddf,_0x8e1aa7,_0x404036,_0xb15147){const _0x113580=_0x12c6d3;this[_0x113580(0x143)][0x0]=createPlane(_0x518ddf,_0x8e1aa7,_0x404036),this[_0x113580(0x169)]=Cesium[_0x113580(0x18b)](_0xb15147,_0x4003a4[_0x113580(0x192)]),this[_0x113580(0x16d)]=!![],!this[_0x113580(0x157)]&&this['_tranverseRenderEntity']({'enable':!![]},clipCallback),this['_enableClip']=!![];},S3MTilesLayer['prototype']['setCustomClipBox']=function(_0x2407d0){const _0x11dcf6=_0x12c6d3;_0x2407d0=_0x2407d0||{};if((!_0x2407d0[_0x11dcf6(0x23c)]||!_0x2407d0[_0x11dcf6(0x179)])&&(!_0x2407d0[_0x11dcf6(0x1e0)]||!_0x2407d0[_0x11dcf6(0x14d)]))throw new Cesium['DeveloperError'](_0x11dcf6(0x22a));this['_clipMode']=_0x4003a4[_0x11dcf6(0x192)];if(Cesium[_0x11dcf6(0x276)](_0x2407d0['clipMode']))switch(_0x2407d0[_0x11dcf6(0x17a)]){case _0x11dcf6(0x130):this['_clipMode']=_0x4003a4[_0x11dcf6(0x13b)];break;case'clip_behind_all_plane':this[_0x11dcf6(0x169)]=_0x4003a4[_0x11dcf6(0x192)];break;case _0x11dcf6(0x25c):this[_0x11dcf6(0x169)]=_0x4003a4[_0x11dcf6(0x155)];break;default:break;}if(_0x2407d0[_0x11dcf6(0x23c)]){let _0x465517=new Cesium[(_0x11dcf6(0x1ad))](),_0x7cedea=_0x2407d0[_0x11dcf6(0x179)],_0x5d9dd1,_0x310c6b,_0x38975e;_0x5d9dd1=_0x2407d0[_0x11dcf6(0x19e)]||0x0,_0x310c6b=_0x2407d0['pitch']||0x0,_0x38975e=_0x2407d0[_0x11dcf6(0x266)]||0x0;let _0x26aa8c=new Cesium[(_0x11dcf6(0x133))](_0x5d9dd1,_0x310c6b,_0x38975e);_0x465517=Cesium[_0x11dcf6(0x13a)]['headingPitchRollToFixedFrame'](_0x7cedea,_0x26aa8c,Cesium['Ellipsoid']['WGS84']);let _0x3fea71=_0x2407d0[_0x11dcf6(0x23c)]['x']*0.5,_0x5483f0=_0x2407d0[_0x11dcf6(0x23c)]['y']*0.5,_0x37d56d=_0x2407d0['dimensions']['z']*0.5,_0x3db84b=[];_0x3db84b[0x0]=new Cesium['Cartesian4'](-_0x3fea71,_0x5483f0,_0x37d56d,0x1),_0x3db84b[0x1]=new Cesium['Cartesian4'](_0x3fea71,_0x5483f0,_0x37d56d,0x1),_0x3db84b[0x2]=new Cesium['Cartesian4'](_0x3fea71,-_0x5483f0,_0x37d56d,0x1),_0x3db84b[0x3]=new Cesium[(_0x11dcf6(0x214))](-_0x3fea71,-_0x5483f0,_0x37d56d,0x1),_0x3db84b[0x4]=new Cesium[(_0x11dcf6(0x214))](-_0x3fea71,_0x5483f0,-_0x37d56d,0x1),_0x3db84b[0x5]=new Cesium['Cartesian4'](_0x3fea71,_0x5483f0,-_0x37d56d,0x1),_0x3db84b[0x6]=new Cesium[(_0x11dcf6(0x214))](_0x3fea71,-_0x5483f0,-_0x37d56d,0x1),_0x3db84b[0x7]=new Cesium[(_0x11dcf6(0x214))](-_0x3fea71,-_0x5483f0,-_0x37d56d,0x1);for(let _0x147b51=0x0;_0x147b51<0x8;_0x147b51++){Cesium['Matrix4'][_0x11dcf6(0x13e)](_0x465517,_0x3db84b[_0x147b51],_0x3db84b[_0x147b51]);}this[_0x11dcf6(0x143)][0x0]=Cesium[_0x11dcf6(0x214)]['clone'](createPlane(_0x3db84b[0x0],_0x3db84b[0x1],_0x3db84b[0x2])),this[_0x11dcf6(0x143)][0x1]=Cesium[_0x11dcf6(0x214)]['clone'](createPlane(_0x3db84b[0x0],_0x3db84b[0x4],_0x3db84b[0x1])),this[_0x11dcf6(0x143)][0x2]=Cesium['Cartesian4'][_0x11dcf6(0x1d8)](createPlane(_0x3db84b[0x0],_0x3db84b[0x3],_0x3db84b[0x4])),this['_oriClipPlane'][0x3]=Cesium[_0x11dcf6(0x214)][_0x11dcf6(0x1d8)](createPlane(_0x3db84b[0x6],_0x3db84b[0x2],_0x3db84b[0x5])),this['_oriClipPlane'][0x4]=Cesium[_0x11dcf6(0x214)][_0x11dcf6(0x1d8)](createPlane(_0x3db84b[0x6],_0x3db84b[0x7],_0x3db84b[0x2])),this[_0x11dcf6(0x143)][0x5]=Cesium[_0x11dcf6(0x214)]['clone'](createPlane(_0x3db84b[0x6],_0x3db84b[0x5],_0x3db84b[0x7]));}else for(let _0x132566=0x0;_0x132566<_0x2407d0[_0x11dcf6(0x1e0)]['length'];_0x132566++){let _0x367663=_0x2407d0['planePos'][_0x132566],_0x1534e8=_0x2407d0[_0x11dcf6(0x14d)][_0x132566];this[_0x11dcf6(0x143)][_0x132566]['x']=_0x1534e8['x'],this[_0x11dcf6(0x143)][_0x132566]['y']=_0x1534e8['y'],this['_oriClipPlane'][_0x132566]['z']=_0x1534e8['z'],this[_0x11dcf6(0x143)][_0x132566]['w']=-Cesium[_0x11dcf6(0x1fc)][_0x11dcf6(0x18e)](_0x367663,_0x1534e8);}!this['_enableClip']&&this[_0x11dcf6(0x21a)]({'enable':!![]},clipCallback),this['_enableClip']=!![];},S3MTilesLayer[_0x12c6d3(0x1f8)][_0x12c6d3(0x271)]=function(){const _0x44878f=_0x12c6d3;this[_0x44878f(0x157)]=![],this[_0x44878f(0x16d)]=![],this[_0x44878f(0x21a)]({'enable':![]},clipCallback);},S3MTilesLayer[_0x12c6d3(0x1f8)]['_tranverseRenderEntity']=function(_0x548032,_0x5e3726){const _0x8207d5=_0x12c6d3;let _0x291086=[];for(let _0x2c80d5=0x0,_0x43414e=this['_rootTiles']['length'];_0x2c80d5<_0x43414e;_0x2c80d5++){let _0x4934d1=this[_0x8207d5(0x17e)][_0x2c80d5];_0x291086['push'](_0x4934d1);}while(_0x291086[_0x8207d5(0x26d)]){let _0x295806=_0x291086[_0x8207d5(0x24a)]();for(let _0x1c8294=0x0,_0x2b58b5=_0x295806['renderEntities'][_0x8207d5(0x26d)];_0x1c8294<_0x2b58b5;_0x1c8294++){const _0xe30815=_0x295806[_0x8207d5(0x1f0)][_0x1c8294];_0xe30815[_0x8207d5(0x193)]&&_0x5e3726(_0xe30815,_0x548032);}for(let _0x487f32=0x0,_0x12f393=_0x295806[_0x8207d5(0x23f)][_0x8207d5(0x26d)];_0x487f32<_0x12f393;_0x487f32++){_0x291086[_0x8207d5(0x128)](_0x295806[_0x8207d5(0x23f)][_0x487f32]);}}};function updateObjsOperationCallback(_0x2a6969,_0x4cf3c8){const _0x4bf921=_0x12c6d3;_0x2a6969[_0x4bf921(0x211)](_0x4cf3c8[_0x4bf921(0x1fa)],_0x4cf3c8);}S3MTilesLayer[_0x12c6d3(0x1f8)][_0x12c6d3(0x25f)]=function(_0x5e5ff5){this['_tranverseRenderEntity']({'ids':_0x5e5ff5},updateObjsOperationCallback);};function updateObjsColorCallback(_0x4ceb3e,_0x55429b){const _0x3fa839=_0x12c6d3;_0x4ceb3e[_0x3fa839(0x201)](_0x55429b[_0x3fa839(0x1fa)],_0x55429b);}S3MTilesLayer[_0x12c6d3(0x1f8)][_0x12c6d3(0x178)]=function(_0x496dda){this['_tranverseRenderEntity']({'ids':_0x496dda},updateObjsColorCallback);};function updateAllObjsVisibleCallback(_0x38d814,_0x20e1b9){_0x38d814['updateAllObjsVisible'](_0x20e1b9['isVisible']);}S3MTilesLayer[_0x12c6d3(0x1f8)][_0x12c6d3(0x24c)]=function(_0x390382){const _0x3d58e5=_0x12c6d3;this[_0x3d58e5(0x21a)]({'isVisible':_0x390382},updateAllObjsVisibleCallback);},S3MTilesLayer['prototype'][_0x12c6d3(0x156)]=function(_0x37976f,_0x5b20f6){const _0x59f5a3=_0x12c6d3;Cesium[_0x59f5a3(0x12c)][_0x59f5a3(0x276)]('set\x20Objs\x20Operation\x20ids',_0x37976f),Cesium[_0x59f5a3(0x12c)][_0x59f5a3(0x276)](_0x59f5a3(0x153),_0x5b20f6);!Array['isArray'](_0x37976f)&&(_0x37976f=[_0x37976f]);let _0x43953b=new Cesium[(_0x59f5a3(0x217))](),_0x4c4515;for(let _0x53849f=0x0,_0x1f979f=_0x37976f[_0x59f5a3(0x26d)];_0x53849f<_0x1f979f;_0x53849f++){_0x4c4515=_0x37976f[_0x53849f];if(!Cesium[_0x59f5a3(0x276)](_0x4c4515))continue;let _0xb925d5=Cesium[_0x59f5a3(0x18b)](this[_0x59f5a3(0x1bf)][_0x59f5a3(0x1f1)](_0x4c4515),0x0);if(_0xb925d5===_0x5b20f6)continue;_0xb925d5=_0xb925d5|_0x5b20f6,this[_0x59f5a3(0x1bf)]['set'](_0x4c4515,_0xb925d5),_0x43953b[_0x59f5a3(0x163)](_0x4c4515,_0xb925d5);}_0x43953b['length']>0x0&&this[_0x59f5a3(0x25f)](_0x43953b);},S3MTilesLayer[_0x12c6d3(0x1f8)][_0x12c6d3(0x256)]=function(_0x791c8c,_0x18784c){const _0x33d4be=_0x12c6d3;Cesium['Check'][_0x33d4be(0x276)](_0x33d4be(0x170),_0x791c8c);!Array[_0x33d4be(0x1c9)](_0x791c8c)&&(_0x791c8c=[_0x791c8c]);let _0x4589f1=_0xd601d3[_0x33d4be(0x222)]^_0x18784c,_0x3a27c7=new Cesium[(_0x33d4be(0x217))](),_0x474534;for(let _0x4d0297=0x0,_0x12e280=_0x791c8c[_0x33d4be(0x26d)];_0x4d0297<_0x12e280;_0x4d0297++){_0x474534=_0x791c8c[_0x4d0297];let _0x26e48f=this[_0x33d4be(0x1bf)][_0x33d4be(0x1f1)](_0x474534);if(!Cesium[_0x33d4be(0x276)](_0x26e48f))continue;_0x26e48f&=_0x4589f1,_0x26e48f===_0xd601d3[_0x33d4be(0x248)]?this['_objsOperationList'][_0x33d4be(0x26c)](_0x474534):this[_0x33d4be(0x1bf)][_0x33d4be(0x163)](_0x474534,_0x26e48f),_0x3a27c7[_0x33d4be(0x163)](_0x474534,_0x26e48f);}_0x3a27c7['length']>0x0&&this[_0x33d4be(0x25f)](_0x3a27c7);},S3MTilesLayer[_0x12c6d3(0x1f8)]['_createRasterRegion']=function(_0x54eada){const _0x5b7d5a=_0x12c6d3;let _0x33132b=Cesium[_0x5b7d5a(0x1fc)][_0x5b7d5a(0x18c)](_0x54eada),_0xa94c38=new Cesium[(_0x5b7d5a(0x15f))]({'polygonHierarchy':{'positions':_0x33132b},'perPositionHeight':!![]}),_0x1c99f2=Cesium[_0x5b7d5a(0x15f)][_0x5b7d5a(0x25a)](_0xa94c38),_0x268d70=new _0x3bc70a();return _0x268d70['updateGeometry'](_0x1c99f2,this[_0x5b7d5a(0x202)]),_0x268d70[_0x5b7d5a(0x264)](_0x1c99f2),_0x268d70;};function flattenCallback(_0x542185,_0x47f19d){const _0x99dcfe=_0x12c6d3;_0x542185[_0x99dcfe(0x22b)](_0x47f19d);}S3MTilesLayer[_0x12c6d3(0x1f8)][_0x12c6d3(0x254)]=function(_0xb21002){const _0x3f4879=_0x12c6d3;let _0x4447af=_0xb21002['name'],_0x47c14e=_0xb21002[_0x3f4879(0x179)];if(!_0x4447af||!_0x47c14e)return;let _0x30aeef=this['_flattenPar'],_0x24c5ad=_0x30aeef[_0x3f4879(0x1a5)];if(_0x24c5ad['contains'](_0x4447af))return;!_0x30aeef['texture']&&(_0x30aeef['texture']=new Cesium[(_0x3f4879(0x1d4))]({'context':this[_0x3f4879(0x136)],'width':_0x30aeef[_0x3f4879(0x158)],'height':_0x30aeef['textureHeight'],'pixelFormat':Cesium[_0x3f4879(0x198)][_0x3f4879(0x255)]}));let _0x541c70=this[_0x3f4879(0x182)](_0x47c14e);_0x24c5ad[_0x3f4879(0x163)](_0x4447af,_0x541c70),_0x30aeef['isUpdate']=!![],_0x24c5ad['values'][_0x3f4879(0x26d)]===0x1&&this[_0x3f4879(0x21a)]({'enable':!![]},flattenCallback);};function hypsometricCallback(_0x5632e4,_0x47b732){const _0x1550ab=_0x12c6d3;_0x5632e4[_0x1550ab(0x1d7)](_0x47b732);}function swipeCallback(_0xc40ceb,_0x366e1d){const _0x41c038=_0x12c6d3;_0xc40ceb[_0x41c038(0x172)](_0x366e1d);}function combineRegionBounds(_0x55d48a){const _0x4b9bfd=_0x12c6d3;let _0xba229=new Cesium[(_0x4b9bfd(0x214))](Number[_0x4b9bfd(0x262)],Number[_0x4b9bfd(0x262)],-Number[_0x4b9bfd(0x262)],-Number[_0x4b9bfd(0x262)]);for(let _0x146844=0x0;_0x146844<_0x55d48a['length'];_0x146844++){const _0x3574af=_0x55d48a[_0x146844][_0x4b9bfd(0x167)];_0xba229['x']=Math[_0x4b9bfd(0x1cf)](_0x3574af['x'],_0xba229['x']),_0xba229['y']=Math[_0x4b9bfd(0x1cf)](_0x3574af['y'],_0xba229['y']),_0xba229['z']=Math[_0x4b9bfd(0x263)](_0x3574af['z'],_0xba229['z']),_0xba229['w']=Math[_0x4b9bfd(0x263)](_0x3574af['w'],_0xba229['w']);}return _0xba229;}S3MTilesLayer[_0x12c6d3(0x1f8)][_0x12c6d3(0x24b)]=function(_0xcb98c6){const _0x3da487=_0x12c6d3;let _0x4d3d15=this[_0x3da487(0x19b)];if(!_0x4d3d15[_0x3da487(0x1c5)])return;_0x4d3d15[_0x3da487(0x1c5)]=![];let _0x28f1f6=_0x4d3d15[_0x3da487(0x1a5)],_0x5097dd=_0x28f1f6[_0x3da487(0x1e8)]['length'];_0x4d3d15[_0x3da487(0x1f3)]=_0x5097dd>0x0,_0x4d3d15[_0x3da487(0x167)]=combineRegionBounds(_0x28f1f6[_0x3da487(0x1e8)]);let _0x1772dd=new Cesium[(_0x3da487(0x159))]({'color':new Cesium[(_0x3da487(0x1c7))](0x1,0x1,0x1,0x1),'depth':0x1});!_0x4d3d15['texture']&&(_0x4d3d15[_0x3da487(0x1db)]=new Cesium[(_0x3da487(0x1d4))]({'context':this['context'],'width':_0x4d3d15[_0x3da487(0x158)],'height':_0x4d3d15['textureHeight'],'pixelFormat':Cesium['PixelFormat']['RGBA']}));!_0x4d3d15[_0x3da487(0x26b)]&&(_0x4d3d15[_0x3da487(0x26b)]=new Cesium[(_0x3da487(0x275))]({'context':this[_0x3da487(0x136)],'colorTextures':[_0x4d3d15[_0x3da487(0x1db)]],'destroyAttachments':![]}));_0x1772dd[_0x3da487(0x1e9)]=_0x4d3d15[_0x3da487(0x26b)],_0x1772dd[_0x3da487(0x251)]=Cesium['RenderState'][_0x3da487(0x25b)](),_0x1772dd['execute'](this[_0x3da487(0x136)]);for(let _0x20a2e7=0x0;_0x20a2e7<_0x5097dd;_0x20a2e7++){let _0x14c4e4=_0x28f1f6[_0x3da487(0x1e8)][_0x20a2e7];_0x14c4e4[_0x3da487(0x16f)](this[_0x3da487(0x136)],_0x4d3d15['fbo']),_0x14c4e4[_0x3da487(0x17c)][_0x3da487(0x1ec)]={'uRect':function(){const _0x24296d=_0x3da487;return _0x4d3d15[_0x24296d(0x167)];}},_0x14c4e4[_0x3da487(0x17c)][_0x3da487(0x1cc)](this['context']);}},S3MTilesLayer[_0x12c6d3(0x1f8)]['setVisibleInViewport']=function(_0x214915,_0x5dc205){const _0x382e5d=_0x12c6d3;if(_0x214915>0x8)throw new Cesium[(_0x382e5d(0x1bb))](_0x382e5d(0x1f2));_0x5dc205?this[_0x382e5d(0x238)]=0x1<<_0x214915|this[_0x382e5d(0x238)]:this[_0x382e5d(0x238)]=~(0x1<<_0x214915)&this['_visibleViewport'];},S3MTilesLayer[_0x12c6d3(0x1f8)][_0x12c6d3(0x1c3)]=function(_0x2c5f5){const _0x1a1e57=_0x12c6d3;if(_0x2c5f5>0x8)throw new Cesium[(_0x1a1e57(0x1bb))]('the\x20index\x20is\x200~3');return 0x1<<_0x2c5f5&this[_0x1a1e57(0x238)];},S3MTilesLayer[_0x12c6d3(0x1f8)][_0x12c6d3(0x1d0)]=function(){const _0xff97dd=_0x12c6d3;if(this[_0xff97dd(0x25d)]===0x0){this[_0xff97dd(0x272)]=0x0;return;}this[_0xff97dd(0x1b7)]=this[_0xff97dd(0x272)]/this[_0xff97dd(0x25d)]*0x28,this['_edgeCurrentTotalLength']=0x0,this['_edgeCurrentCount']=0x0;},S3MTilesLayer['prototype'][_0x12c6d3(0x185)]=function(_0x121fe3,_0x18c648){const _0x170232=_0x12c6d3;this['_edgeCurrentTotalLength']+=_0x121fe3,this[_0x170232(0x25d)]+=_0x18c648;};function updateWaterPlane(_0x1b83c4,_0x30e9ff){const _0x486254=_0x12c6d3;if(!_0x1b83c4[_0x486254(0x19c)])return;let _0x394bc2=_0x1b83c4['_waterPlanes'];_0x30e9ff[_0x486254(0x18d)]===undefined&&(_0x30e9ff['curDis']=0x615299);_0x30e9ff['heightOffset']===undefined&&(_0x30e9ff[_0x486254(0x20e)]=0x0);let _0x5ad5dc=_0x30e9ff[_0x486254(0x21d)][_0x486254(0x1e6)];for(let _0x19e57a in _0x394bc2[_0x486254(0x26e)]){if(_0x394bc2[_0x486254(0x26e)][_0x486254(0x250)](_0x19e57a)){let _0x5cb100=_0x394bc2[_0x486254(0x1f1)](_0x19e57a),_0x19cd1f=_0x5cb100[_0x486254(0x17d)];if(_0x30e9ff['cullingVolume']['computeVisibility'](_0x19cd1f)===Cesium[_0x486254(0x190)][_0x486254(0x1a2)])continue;let _0x508253=Cesium[_0x486254(0x1fc)]['distance'](_0x19cd1f[_0x486254(0x19d)],_0x5ad5dc)-_0x19cd1f[_0x486254(0x196)];_0x508253=_0x508253<0.01?0.01:_0x508253,_0x508253<_0x30e9ff['curDis']&&(_0x30e9ff[_0x486254(0x18d)]=_0x508253,_0x30e9ff['heightOffset']=_0x5cb100[_0x486254(0x257)]);}}}S3MTilesLayer['prototype'][_0x12c6d3(0x164)]=function(_0x53a451){const _0x4c9214=_0x12c6d3;let _0x1fb43b=this[_0x4c9214(0x19c)][_0x4c9214(0x26d)];return this[_0x4c9214(0x19c)][_0x4c9214(0x163)](_0x1fb43b,_0x53a451),_0x1fb43b;},S3MTilesLayer['prototype'][_0x12c6d3(0x1af)]=function(_0x262c13){const _0x3c812b=_0x12c6d3;this[_0x3c812b(0x19c)][_0x3c812b(0x26c)](_0x262c13);},S3MTilesLayer[_0x12c6d3(0x1f8)][_0x12c6d3(0x260)]=function(_0x32dab4){const _0x53edf5=_0x12c6d3;if(!this['ready'])return;_0x32dab4[_0x53edf5(0x243)]&&(this['_cache'][_0x53edf5(0x181)](),this[_0x53edf5(0x206)][_0x53edf5(0x26d)]=0x0,this[_0x53edf5(0x204)][_0x53edf5(0x26d)]=0x0,this[_0x53edf5(0x1e3)][_0x53edf5(0x26d)]=0x0,Cesium[_0x53edf5(0x276)](_0x32dab4[_0x53edf5(0x1ee)])&&_0x32dab4['brdfLutGenerator']['update'](_0x32dab4),updateWaterPlane(this,_0x32dab4));};let scratchtTransposeViewMatrix=new Cesium[(_0x12c6d3(0x1ad))]();S3MTilesLayer[_0x12c6d3(0x1f8)][_0x12c6d3(0x1b1)]=function(_0xbeffa7){const _0x254bd2=_0x12c6d3;if(!this[_0x254bd2(0x193)])return;freeResource(this),this[_0x254bd2(0x24b)](_0xbeffa7),this[_0x254bd2(0x1d0)](),this[_0x254bd2(0x14f)]&&this[_0x254bd2(0x14f)]['processRequests'](this['id']);};function isLayerVisible(_0x5ed1ab,_0x2a80c0){const _0x2f50d6=_0x12c6d3;let _0x208d86=_0x2a80c0['camera'];if(_0x208d86[_0x2f50d6(0x142)][_0x2f50d6(0x21c)]<_0x5ed1ab[_0x2f50d6(0x16a)]||_0x208d86[_0x2f50d6(0x142)][_0x2f50d6(0x21c)]>_0x5ed1ab[_0x2f50d6(0x1fe)])return![];if(!_0x5ed1ab[_0x2f50d6(0x1c3)](_0x2a80c0['multiViewportIndex']))return![];return _0x5ed1ab[_0x2f50d6(0x249)];}function updateClipPlanes(_0x29707f,_0x1da865){const _0x227357=_0x12c6d3;if(_0x29707f[_0x227357(0x157)]){let _0x5971bb=_0x1da865[_0x227357(0x21d)]['inverseViewMatrix'];Cesium[_0x227357(0x1ad)][_0x227357(0x13d)](_0x5971bb,scratchtTransposeViewMatrix);for(let _0x3208a5=0x0;_0x3208a5<0x6;_0x3208a5++){Cesium[_0x227357(0x1ad)][_0x227357(0x13e)](scratchtTransposeViewMatrix,_0x29707f[_0x227357(0x143)][_0x3208a5],_0x29707f[_0x227357(0x144)][_0x3208a5]);}}}S3MTilesLayer[_0x12c6d3(0x1f8)][_0x12c6d3(0x273)]=function(_0x2288ad){const _0xd14bb1=_0x12c6d3;if(!this[_0xd14bb1(0x193)]||!isLayerVisible(this,_0x2288ad))return;this[_0xd14bb1(0x180)]['schedule'](this,_0x2288ad),requestTiles(this),processTiles(this,_0x2288ad),updateTiles(this,_0x2288ad),updateClipPlanes(this,_0x2288ad);},S3MTilesLayer['prototype'][_0x12c6d3(0x21e)]=function(){return![];},S3MTilesLayer[_0x12c6d3(0x1f8)][_0x12c6d3(0x1e7)]=function(){const _0x5ae5ac=_0x12c6d3;return this[_0x5ae5ac(0x1a4)][_0x5ae5ac(0x181)](),freeResource(this),this[_0x5ae5ac(0x17e)][_0x5ae5ac(0x26d)]=0x0,this[_0x5ae5ac(0x206)][_0x5ae5ac(0x26d)]=0x0,this[_0x5ae5ac(0x204)][_0x5ae5ac(0x26d)]=0x0,this[_0x5ae5ac(0x1e3)][_0x5ae5ac(0x26d)]=0x0,this['_selections']['length']=0x0,this['_objsOperationList'][_0x5ae5ac(0x1dc)](),this[_0x5ae5ac(0x232)][_0x5ae5ac(0x1dc)](),this[_0x5ae5ac(0x1dd)]['removeAll'](),this[_0x5ae5ac(0x270)]={},this['_objsColorList']={},this['_hypsometric'][_0x5ae5ac(0x1e7)](),this['_flattenPar']['destroy'](),Cesium[_0x5ae5ac(0x216)](this);};export default S3MTilesLayer;