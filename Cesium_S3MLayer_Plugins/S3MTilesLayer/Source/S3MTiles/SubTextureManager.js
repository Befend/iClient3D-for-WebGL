const _0x24d5=['_singleInstance','Request','byteLength','join','prepareRequest','UnLoad','deferred','item','Loaded','17loHLcC','DoublyLinkedList','remove','resolve','quadKeyIndex','prototype','distanceToCamera','state','otherwise','Resource','Failed','tail','del','18RasGqn','9172VQzZZb','length','2KRrcRG','.texblock','getUint32','providerName','214yxSBiH','keyWord','pendingRequests','buffer','startPackRequest','when','then','223963sXjegj','quadKey','cache','quadKeyPack','layer','4707YlHcts','getSingleInstance','processRequests','priority','list','head','splice','tile','name','22381eintXm','defined','add','request','promise','Loading','reject','175539YPMCSx','431lqPbvE','196178btVEKf','push','BYTES_PER_ELEMENT','1NoPhIV','getStringFromTypedArray','promisePack','get','19kQhSeF','cancelled','url'];const _0x462892=_0x4ed5;(function(_0x8f37c3,_0x40a621){const _0x23b119=_0x4ed5;while(!![]){try{const _0x42ccbe=parseInt(_0x23b119(0xb7))*-parseInt(_0x23b119(0xd4))+-parseInt(_0x23b119(0xd8))*parseInt(_0x23b119(0xd3))+-parseInt(_0x23b119(0xb1))*parseInt(_0x23b119(0xdc))+-parseInt(_0x23b119(0xbe))+-parseInt(_0x23b119(0xc3))*-parseInt(_0x23b119(0xb0))+-parseInt(_0x23b119(0xe8))*-parseInt(_0x23b119(0xcc))+parseInt(_0x23b119(0xb3))*parseInt(_0x23b119(0xd5));if(_0x42ccbe===_0x40a621)break;else _0x8f37c3['push'](_0x8f37c3['shift']());}catch(_0x5ca838){_0x8f37c3['push'](_0x8f37c3['shift']());}}}(_0x24d5,0x2ec43));import _0x2491d8 from'../ThirdParty/pako_inflate.js';function SubTextureManager(){const _0x2e7a3b=_0x4ed5;this['state']={},this['cache']={},this[_0x2e7a3b(0xc7)]=new Cesium[(_0x2e7a3b(0xe9))](),this[_0x2e7a3b(0xb9)]=[],this[_0x2e7a3b(0xda)]={},this[_0x2e7a3b(0xc1)]={},this['quadKeyIndexPack']={},this['requestHeapPack']={};}const _State={'UnLoad':0x0,'Loading':0x1,'Loaded':0x2,'Parsing':0x3,'Ready':0x4,'Failed':0x5};let _cacheSize=0x0;const _throttleSize=0xc8*0x400*0x400,_PacketCount=0x14;function _0x4ed5(_0x198c16,_0x48f93a){_0x198c16=_0x198c16-0xa5;let _0x24d5e8=_0x24d5[_0x198c16];return _0x24d5e8;}SubTextureManager['prototype'][_0x462892(0xe3)]=function(_0x12e6e2,_0x1321dd,_0x457c13,_0x1f2f76,_0x2120f7){const _0x41f8a2=_0x462892;let _0x2f68e3=_0x12e6e2+'_'+_0x457c13,_0x1a03b9=_0x1321dd+_0x457c13+_0x41f8a2(0xb4),_0x4feb75=new Cesium[(_0x41f8a2(0xe0))]({'url':_0x1a03b9,'throttle':!![],'throttleByServer':!![],'priorityFunction':function(){const _0xd9d7d5=_0x41f8a2;return _0x1f2f76[_0xd9d7d5(0xa9)];}});_0x4feb75[_0x41f8a2(0xbf)]=_0x457c13,_0x4feb75[_0x41f8a2(0xb6)]=_0x2120f7[_0x41f8a2(0xca)][_0x41f8a2(0xc2)][_0x41f8a2(0xcb)],_0x4feb75[_0x41f8a2(0xb8)]=_0x2f68e3,this[_0x41f8a2(0xb9)][_0x41f8a2(0xd6)](_0x4feb75);};let comparator=function(_0x2154e9,_0x191ae9){const _0x4424ca=_0x462892;return _0x2154e9[_0x4424ca(0xc6)]-_0x191ae9[_0x4424ca(0xc6)];};SubTextureManager[_0x462892(0xa8)][_0x462892(0xc5)]=function(){const _0x5934b4=_0x462892;if(this[_0x5934b4(0xb9)][_0x5934b4(0xb2)]<0x1)return;this[_0x5934b4(0xb9)]['sort'](comparator),this[_0x5934b4(0xbb)]();for(let _0x335386=0x0,_0x1fc272=this['pendingRequests'][_0x5934b4(0xb2)];_0x335386<_0x1fc272;_0x335386++){let _0x500272=this[_0x5934b4(0xb9)][_0x335386];this[_0x5934b4(0xcf)](_0x500272);}this[_0x5934b4(0xb9)]['length']=0x0;};function combineQuadkey(_0x4905e5){const _0x5401dd=_0x462892;let _0x50dfac=[],_0x5a1dd8={},_0xfa0f72=0x0;for(let _0xd6bea4=0x0,_0x464fb0=_0x4905e5[_0x5401dd(0xb2)];_0xd6bea4<_0x464fb0;_0xd6bea4++){let _0x4d0d04=_0x4905e5[_0xd6bea4];if(_0x4d0d04[_0x5401dd(0xdd)])continue;let _0x14fbe5=_0x4d0d04[_0x5401dd(0xbf)];if(_0x5a1dd8[_0x14fbe5])continue;_0x5a1dd8[_0x14fbe5]=!![],_0x50dfac[_0x5401dd(0xd6)](_0x14fbe5),_0x4d0d04['quadKeyIndex']=_0xfa0f72++;}return _0x50dfac;}SubTextureManager[_0x462892(0xa8)][_0x462892(0xbb)]=function(){const _0x34bd8f=_0x462892;let _0x57816b=combineQuadkey(this['pendingRequests']),_0x299f7b=_0x57816b[_0x34bd8f(0xe2)](';'),_0x3b66b8=this['pendingRequests'][0x0][_0x34bd8f(0xde)],_0x2613f4=new Cesium[(_0x34bd8f(0xac))]({'url':_0x3b66b8,'queryParameters':{'extratiles':_0x299f7b}}),_0x29bcf8=Cesium[_0x34bd8f(0xbc)]['defer'](),_0x48b272=_0x2613f4['fetchArrayBuffer']();if(!_0x48b272)return;for(let _0x5bd20a=0x0,_0xca77c4=this[_0x34bd8f(0xb9)][_0x34bd8f(0xb2)];_0x5bd20a<_0xca77c4;_0x5bd20a++){let _0x404bed=this[_0x34bd8f(0xb9)][_0x5bd20a];_0x404bed[_0x34bd8f(0xe5)]=_0x29bcf8;}_0x48b272['then'](function(_0x23d09c){const _0x39b858=_0x34bd8f;_0x29bcf8[_0x39b858(0xa6)](_0x23d09c);})[_0x34bd8f(0xab)](function(_0x293fe5){const _0xf886b1=_0x34bd8f;_0x29bcf8[_0xf886b1(0xd2)](_0x293fe5);});};function decodePackedBuffer(_0x32cb5a,_0x59a3c1){const _0x336083=_0x462892;let _0x1be6c8=new DataView(_0x32cb5a),_0x3fd6ad=0x0,_0x5e390d=_0x1be6c8[_0x336083(0xb5)](_0x3fd6ad,!![]);if(_0x59a3c1>_0x5e390d-0x1||_0x5e390d>0x100)return undefined;_0x3fd6ad+=0x4;let _0x35729a=[],_0x1261a0,_0x2b6681;for(_0x1261a0=0x0;_0x1261a0<_0x5e390d;_0x1261a0++){_0x2b6681=_0x1be6c8[_0x336083(0xb5)](_0x3fd6ad,!![]),_0x35729a[_0x336083(0xd6)](_0x2b6681),_0x3fd6ad+=0x4;}for(_0x1261a0=0x0;_0x1261a0<_0x5e390d;_0x1261a0++){_0x2b6681=_0x35729a[_0x1261a0];if(_0x1261a0===_0x59a3c1){if(_0x2b6681===0x0)return;return new Uint8Array(_0x32cb5a)['slice'](_0x3fd6ad,_0x3fd6ad+_0x2b6681)['buffer'];}_0x3fd6ad+=_0x2b6681;}return undefined;}SubTextureManager[_0x462892(0xa8)][_0x462892(0xcf)]=function(_0x1fd928){const _0x26b48e=_0x462892;let _0x2d6a31=_0x1fd928['keyWord'],_0x2ab543=_0x1fd928['deferred'][_0x26b48e(0xd0)];this[_0x26b48e(0xaa)][_0x2d6a31]=_State[_0x26b48e(0xd1)];let _0xf85ccd=this;_0x2ab543[_0x26b48e(0xbd)](function(_0x3aaa55){const _0x109531=_0x26b48e;if(!Cesium['defined'](_0xf85ccd[_0x109531(0xaa)][_0x2d6a31]))return;_0xf85ccd['state'][_0x2d6a31]=_State[_0x109531(0xe7)];let _0x28089f=decodePackedBuffer(_0x3aaa55,_0x1fd928[_0x109531(0xa7)]);if(!_0x28089f){_0xf85ccd[_0x109531(0xaa)][_0x2d6a31]=_State[_0x109531(0xad)];return;}let _0x319781=new Uint8Array(_0x28089f),_0x166d81=new DataView(_0x28089f),_0x3629d8=0x0,_0x1dfb50=_0x166d81[_0x109531(0xb5)](_0x3629d8,!![]);_0x3629d8+=Uint32Array[_0x109531(0xd7)];let _0x5cd306={};for(let _0x428acd=0x0;_0x428acd<_0x1dfb50;_0x428acd++){let _0x50356d=_0x166d81[_0x109531(0xb5)](_0x3629d8,!![]);_0x3629d8+=Uint32Array['BYTES_PER_ELEMENT'];let _0x516ff2=Cesium[_0x109531(0xd9)](_0x319781,_0x3629d8,_0x50356d);_0x3629d8+=_0x50356d;let _0x5eb245=_0x166d81[_0x109531(0xb5)](_0x3629d8,!![]);_0x3629d8+=Uint32Array[_0x109531(0xd7)];let _0x412855=_0x166d81[_0x109531(0xb5)](_0x3629d8,!![]);_0x3629d8+=Uint32Array[_0x109531(0xd7)];let _0x559a69=new Uint8Array(_0x28089f,_0x3629d8,_0x412855),_0x37590e=_0x2491d8['inflate'](_0x559a69)[_0x109531(0xba)];_0x3629d8+=_0x412855;let _0x118c04=new DataView(_0x37590e),_0x262099=0x0,_0x587044=_0x118c04[_0x109531(0xb5)](_0x262099,!![]);_0x262099+=Uint32Array[_0x109531(0xd7)];let _0x183c94=_0x118c04[_0x109531(0xb5)](_0x262099,!![]);_0x262099+=Uint32Array[_0x109531(0xd7)];let _0x235578=_0x118c04[_0x109531(0xb5)](_0x262099,!![]);_0x262099+=Uint32Array[_0x109531(0xd7)];let _0x18fbf5=_0x118c04['getUint32'](_0x262099,!![]);_0x262099+=Uint32Array[_0x109531(0xd7)];let _0x382d5b=_0x118c04[_0x109531(0xb5)](_0x262099,!![]);_0x262099+=Uint32Array[_0x109531(0xd7)];let _0x363e77=new Uint8Array(_0x37590e,_0x262099,_0x382d5b);_0x5cd306[_0x516ff2]={'width':_0x183c94,'height':_0x235578,'arrayBufferView':_0x363e77};}let _0x239872={'keyWord':_0x2d6a31,'result':_0x5cd306,'byteLength':_0x28089f[_0x109531(0xe1)]},_0x19fcb4=_0xf85ccd[_0x109531(0xc7)][_0x109531(0xce)](_0x239872);_0xf85ccd['cache'][_0x2d6a31]=_0x19fcb4,_0xf85ccd[_0x109531(0xaa)][_0x2d6a31]=_State['Ready'],delete _0xf85ccd['state'][_0x2d6a31],_cacheSize+=_0x28089f[_0x109531(0xe1)];let _0x24d01c=_0xf85ccd[_0x109531(0xc7)][_0x109531(0xc8)];while(_cacheSize>_throttleSize){let _0x3d620b=_0x24d01c[_0x109531(0xe6)],_0x2160aa=_0x24d01c,_0x8ad92b=_0x3d620b['keyWord'],_0x2a304c=_0xf85ccd[_0x109531(0xc0)][_0x8ad92b],_0xe6aa96=_0x2a304c[_0x109531(0xe6)];_cacheSize-=_0xe6aa96['byteLength'],delete _0xf85ccd[_0x109531(0xc0)][_0x8ad92b],_0x24d01c=_0x24d01c['next'],_0xf85ccd[_0x109531(0xc7)][_0x109531(0xa5)](_0x2160aa);}},function(_0x14c164){const _0x5846bd=_0x26b48e;_0xf85ccd[_0x5846bd(0xaa)][_0x2d6a31]=_0x14c164?_State[_0x5846bd(0xad)]:_State[_0x5846bd(0xe4)];});},SubTextureManager[_0x462892(0xa8)][_0x462892(0xdb)]=function(_0x468ef3,_0x113899,_0xd7d2c7,_0x3e806a){const _0x20628e=_0x462892;let _0x5895ae=_0x468ef3+'_'+_0xd7d2c7,_0x6f746a=this[_0x20628e(0xc0)][_0x5895ae];if(_0x6f746a)return this[_0x20628e(0xc7)][_0x20628e(0xc9)](this[_0x20628e(0xc7)][_0x20628e(0xae)],_0x6f746a),_0x6f746a[_0x20628e(0xe6)];let _0x3caf92=this[_0x20628e(0xaa)][_0x5895ae];return!Cesium[_0x20628e(0xcd)](_0x3caf92)&&(_0x3caf92=this[_0x20628e(0xaa)][_0x5895ae]=_State[_0x20628e(0xe4)]),_0x3caf92===_State[_0x20628e(0xe4)]&&this[_0x20628e(0xe3)](_0x468ef3,_0x113899,_0xd7d2c7,_0x3e806a['tile'],_0x3e806a),undefined;},SubTextureManager['prototype'][_0x462892(0xaf)]=function(_0x516b70,_0x227542){const _0x37eb2f=_0x462892;let _0x5570f6=_0x516b70+'_'+_0x227542;delete this[_0x37eb2f(0xaa)][_0x5570f6];},SubTextureManager[_0x462892(0xdf)]=undefined,SubTextureManager[_0x462892(0xc4)]=function(){const _0x474f18=_0x462892;return!SubTextureManager[_0x474f18(0xdf)]&&(SubTextureManager['_singleInstance']=new SubTextureManager()),SubTextureManager[_0x474f18(0xdf)];};export default SubTextureManager;