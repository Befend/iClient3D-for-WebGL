const _0x450b=['31881uYbGNQ','lodRangeMode','376927qTxlwP','843033GIegVg','distance','selected','refines','shouldSelect','_cache','updatePriority','9ahraGS','children','processFrame','521932mqmhEF','pixel','sort','_selectedTiles','1sxwICR','wasMinPriorityChild','renderable','isRootTile','503wwLkaR','updatedVisibilityFrame','299690EHuaNn','_requestTiles','requestedFrame','Pixel','max','READY','_stack','depth','lodRangeScale','137633XUqFpu','touchedFrame','defined','prototype','priorityHolder','UNLOADED','_minimumPriority','visible','push','lodRangeData','min','_maximumPriority','length','distanceToCamera','foveatedFactor','schedule','contentState','frameNumber','MAX_VALUE','centerZDepth','895ngUmUV','selectedFrame'];const _0x11d23f=_0x5870;(function(_0x4ad7cf,_0xca91b0){const _0x4b3cf1=_0x5870;while(!![]){try{const _0x2227fe=-parseInt(_0x4b3cf1(0x94))+-parseInt(_0x4b3cf1(0x87))*-parseInt(_0x4b3cf1(0x7d))+-parseInt(_0x4b3cf1(0x92))*-parseInt(_0x4b3cf1(0x7b))+parseInt(_0x4b3cf1(0x9d))+parseInt(_0x4b3cf1(0x80))+-parseInt(_0x4b3cf1(0x8a))+parseInt(_0x4b3cf1(0x8e))*-parseInt(_0x4b3cf1(0x7f));if(_0x2227fe===_0xca91b0)break;else _0x4ad7cf['push'](_0x4ad7cf['shift']());}catch(_0x2d7171){_0x4ad7cf['push'](_0x4ad7cf['shift']());}}}(_0x450b,0x7ec3f));function _0x5870(_0x220c8e,_0x49e85d){_0x220c8e=_0x220c8e-0x78;let _0x450b46=_0x450b[_0x220c8e];return _0x450b46;}import _0x471d67 from'./Enum/ContentState.js';import _0x446379 from'./Enum/RangeMode.js';function S3MLayerScheduler(){this['_stack']=[];}function sortComparator(_0xc69158,_0x1a6d65){const _0x1d33d6=_0x5870;if(_0x1a6d65[_0x1d33d6(0xaa)]===0x0&&_0xc69158[_0x1d33d6(0xaa)]===0x0)return _0x1a6d65[_0x1d33d6(0x7a)]-_0xc69158[_0x1d33d6(0x7a)];return _0x1a6d65[_0x1d33d6(0xaa)]-_0xc69158[_0x1d33d6(0xaa)];}function updateChildren(_0x2bc357,_0x42e616,_0xf6ed5a,_0x558f87){const _0x58095e=_0x5870;let _0x1c188e,_0x2e834b=_0x42e616[_0x58095e(0x88)],_0x578d99=_0x2e834b[_0x58095e(0xa9)];for(_0x1c188e=0x0;_0x1c188e<_0x578d99;++_0x1c188e){updateTile(_0x558f87,_0x2bc357,_0x2e834b[_0x1c188e]);}_0x2e834b[_0x58095e(0x8c)](sortComparator);let _0x2db6e8=!![],_0x9d447a=![],_0x5c3f32=-0x1,_0x8e6405=Number[_0x58095e(0x79)],_0x17d248=!_0x42e616[_0x58095e(0x91)];for(_0x1c188e=0x0;_0x1c188e<_0x578d99;++_0x1c188e){let _0xf47547=_0x2e834b[_0x1c188e];_0xf47547[_0x58095e(0xab)]<_0x8e6405&&(_0x5c3f32=_0x1c188e,_0x8e6405=_0xf47547[_0x58095e(0xab)]);_0xf47547[_0x58095e(0xa4)]?(_0xf6ed5a[_0x58095e(0xa5)](_0xf47547),_0x9d447a=!![]):(loadTile(_0x2bc357,_0xf47547,_0x558f87),touchTile(_0x2bc357,_0xf47547,_0x558f87));let _0x536efe=_0xf47547[_0x58095e(0x90)];_0x17d248&&(_0x2db6e8=_0x2db6e8&&_0x536efe);}!_0x9d447a&&(_0x2db6e8=![]);if(_0x5c3f32!==-0x1){let _0x3b3586=_0x2e834b[_0x5c3f32];_0x3b3586[_0x58095e(0x8f)]=!![];let _0x5ece4e=(_0x42e616[_0x58095e(0x8f)]||_0x42e616[_0x58095e(0x91)])&&_0x8e6405<=_0x42e616[_0x58095e(0xa1)][_0x58095e(0xab)]?_0x42e616[_0x58095e(0xa1)]:_0x42e616;_0x5ece4e[_0x58095e(0xab)]=Math[_0x58095e(0xa7)](_0x3b3586[_0x58095e(0xab)],_0x5ece4e[_0x58095e(0xab)]),_0x5ece4e[_0x58095e(0xaa)]=Math[_0x58095e(0xa7)](_0x3b3586['distanceToCamera'],_0x5ece4e['distanceToCamera']);for(_0x1c188e=0x0;_0x1c188e<_0x578d99;++_0x1c188e){let _0x45fd4b=_0x2e834b[_0x1c188e];_0x45fd4b[_0x58095e(0xa1)]=_0x5ece4e;}}return _0x2db6e8;}function selectTile(_0x18d375,_0x4e0ab8,_0x5b5bec){const _0x336897=_0x5870;if(_0x4e0ab8[_0x336897(0x7c)]===_0x5b5bec[_0x336897(0x78)]||!_0x4e0ab8[_0x336897(0x90)])return;_0x18d375[_0x336897(0x8d)][_0x336897(0xa5)](_0x4e0ab8),_0x4e0ab8[_0x336897(0x7c)]=_0x5b5bec[_0x336897(0x78)];}function loadTile(_0x5d5fef,_0x43e232,_0x4db790){const _0x5ce4ef=_0x5870;if(_0x43e232[_0x5ce4ef(0x96)]===_0x4db790[_0x5ce4ef(0x78)]||_0x43e232[_0x5ce4ef(0xad)]!==_0x471d67[_0x5ce4ef(0xa2)])return;_0x5d5fef[_0x5ce4ef(0x95)][_0x5ce4ef(0xa5)](_0x43e232),_0x43e232['requestedFrame']=_0x4db790['frameNumber'];}function processTile(_0x1b9da3,_0x1846b8,_0x2b23c0){const _0x29ebb8=_0x5870;if(_0x1846b8[_0x29ebb8(0x89)]===_0x2b23c0['frameNumber']||_0x1846b8[_0x29ebb8(0xad)]!==_0x471d67[_0x29ebb8(0x99)]||_0x1846b8['renderable'])return;_0x1846b8[_0x29ebb8(0x89)]=_0x2b23c0['frameNumber'],_0x1b9da3['_processTiles'][_0x29ebb8(0xa5)](_0x1846b8);}function touchTile(_0x39fb54,_0x142b91,_0x591e71){const _0x13cb23=_0x5870;if(_0x142b91['touchedFrame']===_0x591e71[_0x13cb23(0x78)])return;_0x39fb54[_0x13cb23(0x85)]['touch'](_0x142b91),_0x142b91[_0x13cb23(0x9e)]=_0x591e71['frameNumber'];}function updateVisibility(_0x27a2b7,_0x182865,_0xa72ada){const _0x21a16e=_0x5870;if(_0x182865[_0x21a16e(0x93)]===_0xa72ada['frameNumber'])return;_0x182865[_0x21a16e(0x93)]=_0xa72ada['frameNumber'],_0x182865['updateVisibility'](_0xa72ada,_0x27a2b7);}function updateTileVisibility(_0x197bf9,_0x5e8343,_0x3286e6){updateVisibility(_0x5e8343,_0x3286e6,_0x197bf9);}function updateMinimumMaximumPriority(_0xc3c530,_0x39206c){const _0x500c1e=_0x5870;_0xc3c530[_0x500c1e(0xa8)][_0x500c1e(0x81)]=Math[_0x500c1e(0x98)](_0x39206c['distanceToCamera'],_0xc3c530[_0x500c1e(0xa8)][_0x500c1e(0x81)]),_0xc3c530['_minimumPriority'][_0x500c1e(0x81)]=Math[_0x500c1e(0xa7)](_0x39206c['distanceToCamera'],_0xc3c530[_0x500c1e(0xa3)][_0x500c1e(0x81)]),_0xc3c530[_0x500c1e(0xa8)][_0x500c1e(0x9b)]=Math['max'](_0x39206c[_0x500c1e(0x9b)],_0xc3c530[_0x500c1e(0xa8)][_0x500c1e(0x9b)]),_0xc3c530[_0x500c1e(0xa3)][_0x500c1e(0x9b)]=Math[_0x500c1e(0xa7)](_0x39206c[_0x500c1e(0x9b)],_0xc3c530[_0x500c1e(0xa3)]['depth']),_0xc3c530[_0x500c1e(0xa8)][_0x500c1e(0xab)]=Math[_0x500c1e(0x98)](_0x39206c[_0x500c1e(0xab)],_0xc3c530[_0x500c1e(0xa8)][_0x500c1e(0xab)]),_0xc3c530['_minimumPriority'][_0x500c1e(0xab)]=Math['min'](_0x39206c[_0x500c1e(0xab)],_0xc3c530['_minimumPriority'][_0x500c1e(0xab)]),_0xc3c530[_0x500c1e(0xa8)][_0x500c1e(0x8b)]=Math[_0x500c1e(0x98)](_0x39206c[_0x500c1e(0x8b)],_0xc3c530['_maximumPriority']['pixel']),_0xc3c530['_minimumPriority'][_0x500c1e(0x8b)]=Math[_0x500c1e(0xa7)](_0x39206c['pixel'],_0xc3c530['_minimumPriority']['pixel']);}function updateTile(_0x194dce,_0x71d8a2,_0x258f75){const _0x489921=_0x5870;updateTileVisibility(_0x194dce,_0x71d8a2,_0x258f75),_0x258f75['wasMinPriorityChild']=![],_0x258f75[_0x489921(0xa1)]=_0x258f75,updateMinimumMaximumPriority(_0x71d8a2,_0x258f75),_0x258f75[_0x489921(0x84)]=![],_0x258f75[_0x489921(0x82)]=![];}function canTraverse(_0x4178b7,_0x5a4be8){const _0x1641fa=_0x5870;if(_0x5a4be8[_0x1641fa(0x88)][_0x1641fa(0xa9)]===0x0)return![];if(_0x5a4be8[_0x1641fa(0x7e)]===_0x446379[_0x1641fa(0x97)])return _0x5a4be8[_0x1641fa(0x8b)]/_0x4178b7[_0x1641fa(0x9c)]>_0x5a4be8[_0x1641fa(0xa6)];return _0x5a4be8[_0x1641fa(0xaa)]*_0x4178b7['lodRangeScale']<_0x5a4be8['lodRangeData'];}function traversal(_0x5e3277,_0x5f2bb8,_0x386724){const _0x245ea7=_0x5870;while(_0x5f2bb8[_0x245ea7(0xa9)]){let _0x4effd0=_0x5f2bb8['pop'](),_0x2f5c92=_0x4effd0['parent'],_0x41ec53=!Cesium[_0x245ea7(0x9f)](_0x2f5c92)||_0x2f5c92[_0x245ea7(0x83)],_0x1278f1=![];canTraverse(_0x5e3277,_0x4effd0)&&(_0x1278f1=updateChildren(_0x5e3277,_0x4effd0,_0x5f2bb8,_0x386724)&&_0x41ec53);let _0x2b0568=!_0x1278f1&&_0x41ec53;loadTile(_0x5e3277,_0x4effd0,_0x386724),processTile(_0x5e3277,_0x4effd0,_0x386724),_0x2b0568&&selectTile(_0x5e3277,_0x4effd0,_0x386724),touchTile(_0x5e3277,_0x4effd0,_0x386724),_0x4effd0[_0x245ea7(0x83)]=_0x1278f1;}}function selectRootTiles(_0x42e327,_0x4b2a20,_0x43ce46){const _0x1a1881=_0x5870;_0x4b2a20[_0x1a1881(0xa9)]=0x0;for(let _0x53e1b5=0x0,_0x592268=_0x42e327['_rootTiles'][_0x1a1881(0xa9)];_0x53e1b5<_0x592268;_0x53e1b5++){let _0x147d01=_0x42e327['_rootTiles'][_0x53e1b5];updateTile(_0x43ce46,_0x42e327,_0x147d01);if(!_0x147d01[_0x1a1881(0xa4)])continue;_0x4b2a20[_0x1a1881(0xa5)](_0x147d01);}}function updatePriority(_0x861088,_0x5752a2){const _0x449031=_0x5870;let _0x3a6680=_0x861088[_0x449031(0x95)],_0x3ad99b=_0x3a6680['length'];for(let _0x4db1d0=0x0;_0x4db1d0<_0x3ad99b;++_0x4db1d0){_0x3a6680[_0x4db1d0][_0x449031(0x86)](_0x861088,_0x5752a2);}}S3MLayerScheduler[_0x11d23f(0xa0)][_0x11d23f(0xac)]=function(_0x1590e0,_0x5e7626){const _0x275fa6=_0x11d23f;let _0x2a8816=this[_0x275fa6(0x9a)];selectRootTiles(_0x1590e0,_0x2a8816,_0x5e7626),traversal(_0x1590e0,_0x2a8816,_0x5e7626),updatePriority(_0x1590e0,_0x5e7626);};export default S3MLayerScheduler;