const _0x52a9=['aColor','instanceIndex','Material3Ds','gbk','vertexAttributes','secondary_colour','165985yNuLcF','buffer','subarray','transparentsorting','length','replace','fill','filtermax','TextureName','skeletonNames','pickInfo','Pixel','radius','AmbientG','439975RASKMY','defaultValue','uv7','AddressMode','indexType','Ambient','groupNode','filtermin','SpecularG','getUint8','aPosition','Specular','diffuse','uv2','73623qFcIKT','primitiveType','DiffuseR','geoPackage','instanceBounds','uv6','inflate','firstChild','addressmode','GeoName','RangeDataList','DiffuseG','PagedLOD','instanceIds','TAM_WRAP','instanceBuffer','607508gaFYwv','AmbientB','pageLods','GeoDeModMatrix','queryChildNodes','attrLocation','getUint32','namespaceURI','uv1','textContent','getStringFromTypedArray','verticesCount','PageLods','url','DiffuseA','414118CZiGqx','texmodmatrix','AmbientA','instanceCount','RangeList','trim','geodes','BoundingSphere','queryNumericValue','391097WXpiMM','split','specular','Diffuse','1GvYZLb','vertexPackage','BYTES_PER_ELEMENT','material','ambient','name','UNSIGNED_BYTE','push','shininess','read','BGR','batchId','PixelFormat','instanceMode','aTexCoord','materialCode','Distance','ComponentDatatype','textureunitstates','uv4','queryStringValue','FLOAT','Geode','getUint16','uv9','texture','uv5','indicesCount','SpecularA','Shininess','AmbientR','420278cfoJIp','filteringoption','uv3','queryFirstNode','aNormal','TexModMatrix','texturePackage'];(function(_0xe67dd3,_0x2e496a){const _0x10c944=_0x572f;while(!![]){try{const _0x46f1f7=-parseInt(_0x10c944(0x124))+parseInt(_0x10c944(0x15f))*-parseInt(_0x10c944(0x140))+parseInt(_0x10c944(0x133))+parseInt(_0x10c944(0x16c))+parseInt(_0x10c944(0x13c))+parseInt(_0x10c944(0x17a))+-parseInt(_0x10c944(0x114));if(_0x46f1f7===_0x2e496a)break;else _0xe67dd3['push'](_0xe67dd3['shift']());}catch(_0x297df6){_0xe67dd3['push'](_0xe67dd3['shift']());}}}(_0x52a9,0x4ba06));import _0x179bfe from'../ThirdParty/pako_inflate.js';import _0x281e14 from'../Ext/XmlParser.js';import _0x1b9a03 from'./Enum/RangeMode.js';import _0x479a8e from'./Enum/S3MPixelFormat.js';function parseGeoPackage(_0x9e628f,_0x34c3b7,_0x57730d,_0x2d8bd6){const _0x890d1a=_0x572f;let _0x2c8ab9=_0x57730d['getUint32'](_0x2d8bd6,!![]);_0x2d8bd6+=Uint32Array[_0x890d1a(0x142)];let _0x5c9e12=0x0,_0x2b198a={},_0x4c5ecf=_0x2b198a[_0x890d1a(0x16a)]=[],_0x5ab32b=_0x2b198a['attrLocation']={};_0x2b198a['instanceCount']=0x0,_0x2b198a[_0x890d1a(0x14d)]=0x0;let _0x588433=0x0,_0x58fbf7=_0x57730d['getUint32'](_0x2d8bd6,!![]);_0x2d8bd6+=Uint32Array['BYTES_PER_ELEMENT'];let _0x20cf4f=_0x57730d['getUint16'](_0x2d8bd6,!![]);_0x2d8bd6+=Uint32Array[_0x890d1a(0x142)];let _0x11ce59=_0x20cf4f;_0x20cf4f>0x4&&(_0x11ce59=_0x20cf4f>>0x8,_0x20cf4f=_0x20cf4f&0xf);let _0x21adaf=_0x57730d[_0x890d1a(0x12a)](_0x2d8bd6,!![]);_0x2d8bd6+=Uint32Array[_0x890d1a(0x142)];if(_0x21adaf>0x0){let _0x455f71=_0x57730d[_0x890d1a(0x157)](_0x2d8bd6,!![]);_0x455f71=_0x20cf4f*Float32Array[_0x890d1a(0x142)],_0x2d8bd6+=Uint32Array[_0x890d1a(0x142)],_0x5c9e12=_0x21adaf*_0x455f71,_0x5ab32b[_0x890d1a(0x110)]=_0x588433,_0x4c5ecf[_0x890d1a(0x147)]({'index':_0x5ab32b[_0x890d1a(0x110)],'typedArray':_0x34c3b7[_0x890d1a(0x16e)](_0x2d8bd6,_0x2d8bd6+_0x5c9e12),'componentsPerAttribute':_0x20cf4f,'componentDatatype':Cesium['ComponentDatatype']['FLOAT'],'offsetInBytes':0x0,'strideInBytes':_0x455f71,'normalize':![]}),_0x588433++,_0x2d8bd6+=_0x5c9e12;}let _0x1a1603=_0x57730d[_0x890d1a(0x12a)](_0x2d8bd6,!![]);_0x2d8bd6+=Uint32Array[_0x890d1a(0x142)];if(_0x1a1603>0x0){let _0x2a9880=_0x57730d[_0x890d1a(0x157)](_0x2d8bd6,!![]);_0x2a9880=_0x11ce59*Float32Array[_0x890d1a(0x142)],_0x2d8bd6+=Uint32Array[_0x890d1a(0x142)],_0x5c9e12=_0x1a1603*_0x2a9880,_0x5ab32b[_0x890d1a(0x163)]=_0x588433,_0x4c5ecf[_0x890d1a(0x147)]({'index':_0x5ab32b[_0x890d1a(0x163)],'typedArray':_0x34c3b7[_0x890d1a(0x16e)](_0x2d8bd6,_0x2d8bd6+_0x5c9e12),'componentsPerAttribute':_0x11ce59,'componentDatatype':Cesium[_0x890d1a(0x151)][_0x890d1a(0x155)],'offsetInBytes':0x0,'strideInBytes':_0x2a9880,'normalize':![]}),_0x588433++,_0x2d8bd6+=_0x5c9e12;}let _0x2cf1fe=_0x57730d[_0x890d1a(0x12a)](_0x2d8bd6,!![]);_0x2d8bd6+=Uint32Array[_0x890d1a(0x142)];if(_0x2cf1fe>0x0){let _0xc142ce=new Uint8Array(0x4*_0x2cf1fe),_0x342a28=_0x57730d['getUint32'](_0x2d8bd6,!![]);_0x342a28=0x4*Float32Array[_0x890d1a(0x142)],_0x2d8bd6+=Uint32Array[_0x890d1a(0x142)],_0x5c9e12=_0x2cf1fe*_0x342a28;let _0x3df676=new Float32Array(_0x34c3b7[_0x890d1a(0x16d)],_0x2d8bd6,_0x21adaf*0x4);for(let _0xd46687=0x0;_0xd46687<_0x21adaf;_0xd46687++){_0xc142ce[0x4*_0xd46687]=_0x3df676[0x4*_0xd46687]*0xff,_0xc142ce[0x4*_0xd46687+0x1]=_0x3df676[0x4*_0xd46687+0x1]*0xff,_0xc142ce[0x4*_0xd46687+0x2]=_0x3df676[0x4*_0xd46687+0x2]*0xff,_0xc142ce[0x4*_0xd46687+0x3]=_0x3df676[0x4*_0xd46687+0x3]*0xff;}_0x2d8bd6+=_0x5c9e12,_0x5ab32b[_0x890d1a(0x166)]=_0x588433,_0x4c5ecf[_0x890d1a(0x147)]({'index':_0x5ab32b[_0x890d1a(0x166)],'typedArray':_0xc142ce,'componentsPerAttribute':0x4,'componentDatatype':Cesium['ComponentDatatype'][_0x890d1a(0x146)],'offsetInBytes':0x0,'strideInBytes':0x4,'normalize':!![]}),_0x588433++;}let _0xb46d24=_0x57730d[_0x890d1a(0x12a)](_0x2d8bd6,!![]);_0x2d8bd6+=Uint32Array[_0x890d1a(0x142)];_0xb46d24>0x0&&(_0x5c9e12=_0xb46d24*0x10,_0x2d8bd6+=_0x5c9e12);let _0x3eb263=_0x57730d['getUint32'](_0x2d8bd6,!![]);_0x2d8bd6+=Uint32Array[_0x890d1a(0x142)];let _0x435a53=-0x1,_0x413d8d,_0x30fa3a,_0x4ed2b0;for(let _0x3e1f7f=0x0;_0x3e1f7f<_0x3eb263;_0x3e1f7f++){_0x413d8d=_0x57730d[_0x890d1a(0x12a)](_0x2d8bd6,!![]),_0x2d8bd6+=Uint32Array[_0x890d1a(0x142)],_0x4ed2b0=_0x57730d['getUint16'](_0x2d8bd6,!![]),_0x2d8bd6+=Uint16Array[_0x890d1a(0x142)],_0x30fa3a=_0x57730d[_0x890d1a(0x157)](_0x2d8bd6,!![]),_0x2d8bd6+=Uint16Array[_0x890d1a(0x142)],_0x5c9e12=_0x413d8d*_0x4ed2b0*Float32Array['BYTES_PER_ELEMENT'];let _0x50eb44=_0x34c3b7[_0x890d1a(0x16e)](_0x2d8bd6,_0x2d8bd6+_0x5c9e12);if(_0x435a53===-0x1&&(_0x4ed2b0===0x14||_0x4ed2b0===0x23)){_0x435a53=_0x3e1f7f,_0x2b198a[_0x890d1a(0x136)]=_0x413d8d,_0x2b198a['instanceMode']=_0x4ed2b0,_0x2b198a[_0x890d1a(0x123)]=_0x50eb44;let _0x2793a6=_0x4ed2b0*_0x413d8d,_0x3cdd81;if(_0x4ed2b0===0x14)_0x3cdd81=Float32Array['BYTES_PER_ELEMENT']*0x14,_0x5ab32b[_0x890d1a(0x113)]=_0x588433++,_0x4c5ecf['push']({'index':_0x5ab32b[_0x890d1a(0x113)],'componentsPerAttribute':0x4,'componentDatatype':Cesium[_0x890d1a(0x151)]['FLOAT'],'normalize':![],'offsetInBytes':0x0,'strideInBytes':_0x3cdd81,'instanceDivisor':0x1}),_0x5ab32b[_0x890d1a(0x161)]=_0x588433++,_0x4c5ecf[_0x890d1a(0x147)]({'index':_0x5ab32b[_0x890d1a(0x161)],'componentsPerAttribute':0x4,'componentDatatype':Cesium[_0x890d1a(0x151)][_0x890d1a(0x155)],'normalize':![],'offsetInBytes':0x4*Float32Array[_0x890d1a(0x142)],'strideInBytes':_0x3cdd81,'instanceDivisor':0x1}),_0x5ab32b[_0x890d1a(0x153)]=_0x588433++,_0x4c5ecf[_0x890d1a(0x147)]({'index':_0x5ab32b[_0x890d1a(0x153)],'componentsPerAttribute':0x4,'componentDatatype':Cesium['ComponentDatatype'][_0x890d1a(0x155)],'normalize':![],'offsetInBytes':0x8*Float32Array['BYTES_PER_ELEMENT'],'strideInBytes':_0x3cdd81,'instanceDivisor':0x1}),_0x5ab32b[_0x890d1a(0x16b)]=_0x588433++,_0x4c5ecf[_0x890d1a(0x147)]({'index':_0x5ab32b[_0x890d1a(0x16b)],'componentsPerAttribute':0x4,'componentDatatype':Cesium[_0x890d1a(0x151)]['FLOAT'],'normalize':![],'offsetInBytes':0xc*Float32Array[_0x890d1a(0x142)],'strideInBytes':_0x3cdd81,'instanceDivisor':0x1}),_0x5ab32b[_0x890d1a(0x119)]=_0x588433++,_0x4c5ecf['push']({'index':_0x5ab32b[_0x890d1a(0x119)],'componentsPerAttribute':0x4,'componentDatatype':Cesium[_0x890d1a(0x151)]['FLOAT'],'normalize':![],'offsetInBytes':0x10*Float32Array['BYTES_PER_ELEMENT'],'strideInBytes':_0x3cdd81,'instanceDivisor':0x1});else _0x4ed2b0===0x23&&(_0x3cdd81=Float32Array[_0x890d1a(0x142)]*0x23,_0x5ab32b[_0x890d1a(0x12c)]=_0x588433++,_0x4c5ecf[_0x890d1a(0x147)]({'index':_0x5ab32b[_0x890d1a(0x12c)],'componentsPerAttribute':0x4,'componentDatatype':Cesium['ComponentDatatype'][_0x890d1a(0x155)],'normalize':![],'offsetInBytes':0x0,'strideInBytes':_0x3cdd81,'instanceDivisor':0x1,'byteLength':_0x5c9e12}),_0x5ab32b['uv2']=_0x588433++,_0x4c5ecf[_0x890d1a(0x147)]({'index':_0x5ab32b[_0x890d1a(0x113)],'componentsPerAttribute':0x4,'componentDatatype':Cesium['ComponentDatatype'][_0x890d1a(0x155)],'normalize':![],'offsetInBytes':0x4*Float32Array[_0x890d1a(0x142)],'strideInBytes':_0x3cdd81,'instanceDivisor':0x1}),_0x5ab32b[_0x890d1a(0x161)]=_0x588433++,_0x4c5ecf[_0x890d1a(0x147)]({'index':_0x5ab32b['uv3'],'componentsPerAttribute':0x4,'componentDatatype':Cesium[_0x890d1a(0x151)][_0x890d1a(0x155)],'normalize':![],'offsetInBytes':0x8*Float32Array[_0x890d1a(0x142)],'strideInBytes':_0x3cdd81,'instanceDivisor':0x1}),_0x5ab32b['uv4']=_0x588433++,_0x4c5ecf['push']({'index':_0x5ab32b[_0x890d1a(0x153)],'componentsPerAttribute':0x4,'componentDatatype':Cesium[_0x890d1a(0x151)][_0x890d1a(0x155)],'normalize':![],'offsetInBytes':0xc*Float32Array[_0x890d1a(0x142)],'strideInBytes':_0x3cdd81,'instanceDivisor':0x1}),_0x5ab32b[_0x890d1a(0x15a)]=_0x588433++,_0x4c5ecf[_0x890d1a(0x147)]({'index':_0x5ab32b[_0x890d1a(0x15a)],'componentsPerAttribute':0x4,'componentDatatype':Cesium['ComponentDatatype'][_0x890d1a(0x155)],'normalize':![],'offsetInBytes':0x10*Float32Array[_0x890d1a(0x142)],'strideInBytes':_0x3cdd81,'instanceDivisor':0x1}),_0x5ab32b['uv6']=_0x588433++,_0x4c5ecf[_0x890d1a(0x147)]({'index':_0x5ab32b[_0x890d1a(0x119)],'componentsPerAttribute':0x4,'componentDatatype':Cesium[_0x890d1a(0x151)]['FLOAT'],'normalize':![],'offsetInBytes':0x14*Float32Array['BYTES_PER_ELEMENT'],'strideInBytes':_0x3cdd81,'instanceDivisor':0x1}),_0x5ab32b[_0x890d1a(0x17c)]=_0x588433++,_0x4c5ecf[_0x890d1a(0x147)]({'index':_0x5ab32b['uv7'],'componentsPerAttribute':0x3,'componentDatatype':Cesium['ComponentDatatype'][_0x890d1a(0x155)],'normalize':![],'offsetInBytes':0x18*Float32Array['BYTES_PER_ELEMENT'],'strideInBytes':_0x3cdd81,'instanceDivisor':0x1}),_0x5ab32b[_0x890d1a(0x16b)]=_0x588433++,_0x4c5ecf[_0x890d1a(0x147)]({'index':_0x5ab32b['secondary_colour'],'componentsPerAttribute':0x4,'componentDatatype':Cesium[_0x890d1a(0x151)]['FLOAT'],'normalize':![],'offsetInBytes':0x1b*Float32Array[_0x890d1a(0x142)],'strideInBytes':_0x3cdd81,'instanceDivisor':0x1}),_0x5ab32b[_0x890d1a(0x158)]=_0x588433++,_0x4c5ecf['push']({'index':_0x5ab32b[_0x890d1a(0x158)],'componentsPerAttribute':0x4,'componentDatatype':Cesium[_0x890d1a(0x151)][_0x890d1a(0x155)],'normalize':![],'offsetInBytes':0x1f*Float32Array['BYTES_PER_ELEMENT'],'strideInBytes':_0x3cdd81,'instanceDivisor':0x1}));}else{if(_0x435a53!==-0x1)_0x2b198a[_0x890d1a(0x118)]=new Float32Array(_0x34c3b7['buffer'],_0x2d8bd6,_0x413d8d*_0x4ed2b0);else{let _0x100e5d=_0x890d1a(0x14e)+_0x3e1f7f;_0x5ab32b[_0x100e5d]=_0x588433++,_0x4c5ecf['push']({'index':_0x5ab32b[_0x100e5d],'typedArray':_0x50eb44,'componentsPerAttribute':_0x4ed2b0,'componentDatatype':Cesium[_0x890d1a(0x151)][_0x890d1a(0x155)],'offsetInBytes':0x0,'strideInBytes':_0x4ed2b0*Float32Array[_0x890d1a(0x142)],'normalize':![]});}}_0x2d8bd6+=_0x5c9e12;}_0x2b198a[_0x890d1a(0x12f)]=_0x21adaf,_0x2b198a['instanceIndex']=_0x435a53;let _0x58aedd=_0x57730d['getUint32'](_0x2d8bd6,!![]);_0x2d8bd6+=Uint32Array[_0x890d1a(0x142)];let _0x2b7024=[];for(let _0x5b919a=0x0;_0x5b919a<_0x58aedd;_0x5b919a++){let _0x2c0762={},_0x2be631=_0x57730d[_0x890d1a(0x12a)](_0x2d8bd6,!![]);_0x2d8bd6+=Uint32Array['BYTES_PER_ELEMENT'];let _0x44feb3=_0x57730d[_0x890d1a(0x10f)](_0x2d8bd6,!![]);_0x2d8bd6+=Uint8Array[_0x890d1a(0x142)];let _0x3a792b=_0x57730d['getUint8'](_0x2d8bd6,!![]);_0x2d8bd6+=Uint8Array['BYTES_PER_ELEMENT'];let _0x2027c0=_0x57730d['getUint8'](_0x2d8bd6,!![]);_0x2d8bd6+=Uint8Array['BYTES_PER_ELEMENT'],_0x2d8bd6+=0x1,_0x2c0762[_0x890d1a(0x15b)]=_0x2be631,_0x2c0762[_0x890d1a(0x17e)]=_0x44feb3,_0x2c0762[_0x890d1a(0x115)]=_0x2027c0;let _0x55bedc=_0x2d8bd6;_0x2be631>0x0&&(_0x44feb3===0x0?(_0x5c9e12=_0x2be631*Uint16Array[_0x890d1a(0x142)],_0x2d8bd6+=_0x5c9e12,_0x2be631%0x2===0x1&&(_0x2d8bd6+=0x2)):(_0x5c9e12=_0x2be631*0x4,_0x2d8bd6+=_0x5c9e12));_0x2c0762['indicesTypedArray']=_0x34c3b7['subarray'](_0x55bedc,_0x55bedc+_0x5c9e12);let _0x42bf4a=_0x57730d[_0x890d1a(0x12a)](_0x2d8bd6,!![]);_0x2d8bd6+=Uint32Array['BYTES_PER_ELEMENT'];let _0x4a760f=_0x57730d['getUint32'](_0x2d8bd6,!![]);_0x2d8bd6+=Uint32Array[_0x890d1a(0x142)]*_0x42bf4a,_0x2c0762[_0x890d1a(0x14f)]=_0x4a760f,_0x2b7024[_0x890d1a(0x147)](_0x2c0762);}return _0x9e628f[_0x2c8ab9]={'vertexPackage':_0x2b198a,'arrIndexPackage':_0x2b7024},_0x2d8bd6;}function createBatchIdAttribute(_0x3a5f1c,_0x5020db,_0x2c1896){const _0x2ba0fc=_0x572f;let _0x5213fa=_0x3a5f1c['vertexAttributes'],_0xfcc758=_0x3a5f1c[_0x2ba0fc(0x129)],_0x1dcf33=_0x5213fa['length'],_0x54d14d=_0x2c1896===0x1?'instanceId':_0x2ba0fc(0x14b);_0xfcc758[_0x54d14d]=_0x1dcf33,_0x5213fa[_0x2ba0fc(0x147)]({'index':_0x1dcf33,'typedArray':_0x5020db,'componentsPerAttribute':0x1,'componentDatatype':Cesium[_0x2ba0fc(0x151)][_0x2ba0fc(0x155)],'offsetInBytes':0x0,'strideInBytes':0x0,'instanceDivisor':_0x2c1896});}function createGroupAndMaterialNode(_0x5d3467,_0x3d916c,_0x353035){const _0x2612bb=_0x572f;let _0x4de73d=_0x281e14[_0x2612bb(0x149)](_0x5d3467),_0x1bc2c3=_0x4de73d[_0x2612bb(0x11b)],_0x56a079=_0x1bc2c3[_0x2612bb(0x12b)];_0x353035[_0x2612bb(0x143)]=[];let _0x58a049=_0x281e14[_0x2612bb(0x162)](_0x1bc2c3,_0x2612bb(0x168),_0x56a079),_0x3ec375=_0x281e14[_0x2612bb(0x128)](_0x58a049,'material',_0x56a079);for(let _0x112c54=0x0,_0x2339d8=_0x3ec375['length'];_0x112c54<_0x2339d8;_0x112c54++){let _0x585cc5={},_0x5743bf=_0x3ec375[_0x112c54];_0x585cc5['id']=_0x281e14[_0x2612bb(0x154)](_0x5743bf,_0x2612bb(0x145),_0x56a079);let _0x3ca6d6=_0x281e14['queryFirstNode'](_0x5743bf,_0x2612bb(0x17f),_0x56a079),_0x57172d=Cesium[_0x2612bb(0x17b)](_0x281e14[_0x2612bb(0x13b)](_0x3ca6d6,_0x2612bb(0x15e),_0x56a079),0x1),_0x3b5e2c=Cesium[_0x2612bb(0x17b)](_0x281e14['queryNumericValue'](_0x3ca6d6,_0x2612bb(0x179),_0x56a079),0x1),_0x43f424=Cesium['defaultValue'](_0x281e14['queryNumericValue'](_0x3ca6d6,_0x2612bb(0x125),_0x56a079),0x1),_0x49b8ae=Cesium['defaultValue'](_0x281e14['queryNumericValue'](_0x3ca6d6,_0x2612bb(0x135),_0x56a079),0x1);_0x585cc5[_0x2612bb(0x144)]={'r':_0x57172d,'g':_0x3b5e2c,'b':_0x43f424,'a':_0x49b8ae};let _0x11a89b=_0x281e14[_0x2612bb(0x162)](_0x5743bf,_0x2612bb(0x13f),_0x56a079);_0x57172d=Cesium['defaultValue'](_0x281e14[_0x2612bb(0x13b)](_0x11a89b,_0x2612bb(0x116),_0x56a079),0x1),_0x3b5e2c=Cesium[_0x2612bb(0x17b)](_0x281e14[_0x2612bb(0x13b)](_0x11a89b,_0x2612bb(0x11f),_0x56a079),0x1),_0x43f424=Cesium[_0x2612bb(0x17b)](_0x281e14[_0x2612bb(0x13b)](_0x11a89b,'DiffuseB',_0x56a079),0x1),_0x49b8ae=Cesium[_0x2612bb(0x17b)](_0x281e14['queryNumericValue'](_0x11a89b,_0x2612bb(0x132),_0x56a079),0x1),_0x585cc5[_0x2612bb(0x112)]={'r':_0x57172d,'g':_0x3b5e2c,'b':_0x43f424,'a':_0x49b8ae};let _0xbea14e=_0x281e14[_0x2612bb(0x162)](_0x5743bf,_0x2612bb(0x111),_0x56a079);_0x57172d=Cesium[_0x2612bb(0x17b)](_0x281e14[_0x2612bb(0x13b)](_0xbea14e,'SpecularR',_0x56a079),0x0),_0x3b5e2c=Cesium[_0x2612bb(0x17b)](_0x281e14['queryNumericValue'](_0xbea14e,_0x2612bb(0x182),_0x56a079),0x0),_0x43f424=Cesium[_0x2612bb(0x17b)](_0x281e14[_0x2612bb(0x13b)](_0xbea14e,'SpecularB',_0x56a079),0x0),_0x49b8ae=Cesium[_0x2612bb(0x17b)](_0x281e14['queryNumericValue'](_0xbea14e,_0x2612bb(0x15c),_0x56a079),0x0),_0x585cc5[_0x2612bb(0x13e)]={'r':_0x57172d,'g':_0x3b5e2c,'b':_0x43f424,'a':_0x49b8ae},_0x585cc5[_0x2612bb(0x148)]=_0x281e14[_0x2612bb(0x13b)](_0x5743bf,_0x2612bb(0x15d),_0x56a079),_0x585cc5[_0x2612bb(0x16f)]=_0x281e14['queryBooleanValue'](_0x5743bf,'TransparentSorting',_0x56a079),_0x585cc5['textureunitstates']=[];let _0x1f5b30=_0x281e14['queryChildNodes'](_0x5743bf,_0x2612bb(0x159),_0x56a079);for(let _0xf4858=0x0;_0xf4858<_0x1f5b30[_0x2612bb(0x170)];_0xf4858++){let _0x7f2c02={},_0x497c8b=_0x1f5b30[_0xf4858],_0x37f118=_0x281e14[_0x2612bb(0x154)](_0x497c8b,_0x2612bb(0x145),_0x56a079),_0xa5881c=_0x281e14[_0x2612bb(0x154)](_0x497c8b,_0x2612bb(0x174),_0x56a079),_0x3f35f4=_0x281e14[_0x2612bb(0x162)](_0x497c8b,_0x2612bb(0x17d),_0x56a079),_0x43fb79=_0x281e14[_0x2612bb(0x154)](_0x3f35f4,'u',_0x56a079),_0x5e12=_0x43fb79==='TAM_WRAP'?0x0:0x1,_0x1aa7ea=_0x281e14['queryStringValue'](_0x3f35f4,'v',_0x56a079),_0x4f2a36=_0x1aa7ea===_0x2612bb(0x122)?0x0:0x1,_0x251178=_0x281e14[_0x2612bb(0x154)](_0x497c8b,_0x2612bb(0x164),_0x56a079)['split'](','),_0x12c081=0x10;while(_0x12c081--){_0x251178[_0x12c081]=parseFloat(_0x251178[_0x12c081]);}_0x7f2c02[_0x2612bb(0x11c)]={'u':_0x5e12,'v':_0x4f2a36,'w':0x0},_0x7f2c02[_0x2612bb(0x160)]=0x20202020,_0x7f2c02[_0x2612bb(0x173)]=0x2,_0x7f2c02[_0x2612bb(0x181)]=0x2,_0x7f2c02['id']=_0x37f118,_0x7f2c02[_0x2612bb(0x134)]=_0x251178,_0x7f2c02[_0x2612bb(0x131)]='',_0x585cc5[_0x2612bb(0x152)]['push']({'textureunitstate':_0x7f2c02});}_0x353035['material'][_0x2612bb(0x147)]({'material':_0x585cc5});}let _0x1677d4=_0x281e14[_0x2612bb(0x162)](_0x1bc2c3,_0x2612bb(0x130),_0x56a079),_0x1dd5ad=_0x281e14[_0x2612bb(0x128)](_0x1677d4,_0x2612bb(0x120),_0x56a079);_0x3d916c[_0x2612bb(0x126)]=[];if(_0x1dd5ad['length']>0x0)for(let _0x39cff4=0x0,_0x7e0488=_0x1dd5ad[_0x2612bb(0x170)];_0x39cff4<_0x7e0488;_0x39cff4++){let _0x65c172=_0x1dd5ad[_0x39cff4],_0x254e6d=_0x281e14[_0x2612bb(0x154)](_0x65c172,_0x2612bb(0x11e),_0x56a079);_0x254e6d?_0x254e6d=_0x254e6d[_0x2612bb(0x171)](/.osgb$/,'.s3m'):_0x254e6d='';let _0x28a2a7=_0x281e14['queryStringValue'](_0x65c172,'RangeMode',_0x56a079),_0x18d0a=_0x281e14[_0x2612bb(0x13b)](_0x65c172,_0x2612bb(0x137),_0x56a079),_0x278f4c=_0x281e14[_0x2612bb(0x162)](_0x65c172,_0x2612bb(0x13a),_0x56a079),_0x2bdd9f=_0x281e14[_0x2612bb(0x13b)](_0x278f4c,'x',_0x56a079),_0x2c7ba9=_0x281e14[_0x2612bb(0x13b)](_0x278f4c,'y',_0x56a079),_0x524ead=_0x281e14[_0x2612bb(0x13b)](_0x278f4c,'z',_0x56a079),_0x2db09a=_0x281e14[_0x2612bb(0x13b)](_0x278f4c,_0x2612bb(0x178),_0x56a079),_0x3fbd21={'boundingSphere':{'center':{'x':_0x2bdd9f,'y':_0x2c7ba9,'z':_0x524ead},'radius':_0x2db09a},'childTile':_0x254e6d,'geodes':[],'rangeList':_0x18d0a,'rangeMode':_0x28a2a7==='DISTANCE_FROM_EYE_POINT'?_0x1b9a03[_0x2612bb(0x150)]:_0x1b9a03[_0x2612bb(0x177)]};_0x3fbd21[_0x2612bb(0x139)]=[];let _0x215f4a=_0x281e14[_0x2612bb(0x128)](_0x65c172,_0x2612bb(0x156),_0x56a079);for(let _0x1ecb87=0x0;_0x1ecb87<_0x215f4a[_0x2612bb(0x170)];_0x1ecb87++){let _0xff7082={},_0x20c6b5=_0x215f4a[_0x1ecb87],_0x5d1c5c=_0x281e14['queryStringValue'](_0x20c6b5,_0x2612bb(0x127),_0x56a079)[_0x2612bb(0x13d)](',');for(let _0x146363=0x0;_0x146363<0x10;_0x146363++){_0x5d1c5c[_0x146363]=parseFloat(_0x5d1c5c[_0x146363]);}_0xff7082['matrix']=_0x5d1c5c;let _0x1c53df=_0x281e14[_0x2612bb(0x128)](_0x20c6b5,_0x2612bb(0x11d));_0xff7082[_0x2612bb(0x175)]=[];for(let _0x4fca1a=0x0;_0x4fca1a<_0x1c53df[_0x2612bb(0x170)];_0x4fca1a++){let _0x4ccf79=_0x1c53df[_0x4fca1a][_0x2612bb(0x12d)][_0x2612bb(0x138)]();_0xff7082['skeletonNames'][_0x2612bb(0x147)](_0x4ccf79);}_0x3fbd21[_0x2612bb(0x139)][_0x2612bb(0x147)](_0xff7082);}_0x3d916c[_0x2612bb(0x126)][_0x2612bb(0x147)](_0x3fbd21);}else{let _0x324208=_0x281e14[_0x2612bb(0x128)](_0x1677d4,_0x2612bb(0x156),_0x56a079);if(_0x324208[_0x2612bb(0x170)]>0x0){let _0x2883a0={'boundingSphere':{'center':{'x':0x0,'y':0x0,'z':0x0},'radius':0x615299},'childTile':'','geodes':[],'rangeList':0x0,'rangeMode':_0x1b9a03['Pixel']};for(let _0x279760=0x0,_0x25e05a=_0x324208[_0x2612bb(0x170)];_0x279760<_0x25e05a;_0x279760++){let _0x504e2f={},_0x18663d=_0x324208[_0x279760],_0x56ab6b=_0x281e14[_0x2612bb(0x154)](_0x18663d,_0x2612bb(0x127),_0x56a079)[_0x2612bb(0x13d)](',');for(let _0x24bc09=0x0;_0x24bc09<0x10;_0x24bc09++){_0x56ab6b[_0x24bc09]=parseFloat(_0x56ab6b[_0x24bc09]);}_0x504e2f['matrix']=_0x56ab6b;let _0x4c5f99=_0x281e14[_0x2612bb(0x128)](_0x18663d,'GeoName',_0x56a079);_0x504e2f[_0x2612bb(0x175)]=[];for(let _0xa66c3c=0x0;_0xa66c3c<_0x4c5f99[_0x2612bb(0x170)];_0xa66c3c++){let _0x457a56=_0x4c5f99[_0xa66c3c][_0x2612bb(0x12d)]['trim']();_0x504e2f[_0x2612bb(0x175)]['push'](_0x457a56);}_0x2883a0[_0x2612bb(0x139)][_0x2612bb(0x147)](_0x504e2f);}_0x3d916c[_0x2612bb(0x126)][_0x2612bb(0x147)](_0x2883a0);}}return _0x3d916c;}function unZip(_0x1b4c34,_0x481ae1){const _0x428a7c=_0x572f;let _0x30fef5=new Uint8Array(_0x1b4c34,_0x481ae1);return _0x179bfe[_0x428a7c(0x11a)](_0x30fef5)[_0x428a7c(0x16d)];}function S3ModelOldParser(){}function _0x572f(_0x43ba59,_0x2993ce){_0x43ba59=_0x43ba59-0x10f;let _0x52a946=_0x52a9[_0x43ba59];return _0x52a946;}S3ModelOldParser['parseBuffer']=function(_0x574a2e){const _0x4ea674=_0x572f;let _0x5f01b6=0x0,_0x250f08={'groupNode':{},'geoPackage':{},'materials':{},'texturePackage':{}},_0x40447f=new Uint8Array(_0x574a2e,0x0,0x4);if(_0x40447f[0x0]!==0x73||_0x40447f[0x1]!==0x33||_0x40447f[0x2]!==0x6d)return{'result':![]};let _0x5244e=_0x40447f[0x3];_0x5f01b6+=0x4;let _0x4b6b5a=unZip(_0x574a2e,_0x5f01b6),_0x574418=new Uint8Array(_0x4b6b5a),_0x41066f=new DataView(_0x4b6b5a);_0x5f01b6=0x0;let _0x304311=_0x41066f[_0x4ea674(0x12a)](_0x5f01b6,!![]);_0x5f01b6+=Uint32Array['BYTES_PER_ELEMENT'];let _0x18349f=new Uint8Array(_0x4b6b5a,_0x5f01b6,_0x304311),_0x55e32f=_0x304311%0x4;_0x55e32f&&(_0x55e32f=0x4-_0x55e32f);_0x5f01b6+=_0x304311+_0x55e32f;let _0x483564=Cesium[_0x4ea674(0x12e)](_0x18349f,undefined,undefined,_0x4ea674(0x169));createGroupAndMaterialNode(_0x483564,_0x250f08[_0x4ea674(0x180)],_0x250f08['materials']);let _0x18f127=_0x41066f[_0x4ea674(0x12a)](_0x5f01b6,!![]);_0x5f01b6+=Uint32Array[_0x4ea674(0x142)];let _0x4b8c07=_0x41066f[_0x4ea674(0x12a)](_0x5f01b6,!![]);_0x5f01b6+=Uint32Array['BYTES_PER_ELEMENT'];let _0x5e29b4=_0x250f08[_0x4ea674(0x117)];for(let _0x5b7aef=0x0;_0x5b7aef<_0x4b8c07;_0x5b7aef++){_0x5f01b6=parseGeoPackage(_0x5e29b4,_0x574418,_0x41066f,_0x5f01b6);}let _0x364ef3=_0x41066f[_0x4ea674(0x12a)](_0x5f01b6,!![]);_0x5f01b6+=Uint32Array[_0x4ea674(0x142)];let _0x28decb=_0x41066f['getUint32'](_0x5f01b6,!![]);_0x5f01b6+=Uint32Array['BYTES_PER_ELEMENT'];for(let _0x49ddac=0x0;_0x49ddac<_0x28decb;_0x49ddac++){let _0x8e980e=_0x41066f[_0x4ea674(0x12a)](_0x5f01b6,!![]);_0x5f01b6+=Uint32Array[_0x4ea674(0x142)];let _0x20aa9e=_0x41066f['getUint32'](_0x5f01b6,!![]);_0x5f01b6+=Uint32Array[_0x4ea674(0x142)];let _0x140d47={},_0x371e29=_0x5e29b4[_0x8e980e]['vertexPackage'][_0x4ea674(0x167)];if(_0x371e29===-0x1){let _0x14e73b=new Float32Array(_0x5e29b4[_0x8e980e][_0x4ea674(0x141)]['verticesCount']);for(let _0x5f522d=0x0;_0x5f522d<_0x20aa9e;_0x5f522d++){let _0x4c117b=_0x41066f['getUint32'](_0x5f01b6,!![]);_0x5f01b6+=Uint32Array[_0x4ea674(0x142)];let _0x285379=_0x41066f[_0x4ea674(0x12a)](_0x5f01b6,!![]);_0x5f01b6+=Uint32Array[_0x4ea674(0x142)];let _0x46d92e=0x0,_0x1a09a5=0x0;_0x140d47[_0x4c117b]=[];for(let _0x200d32=0x0;_0x200d32<_0x285379;_0x200d32++){_0x1a09a5=_0x41066f[_0x4ea674(0x12a)](_0x5f01b6,!![]),_0x5f01b6+=Uint32Array[_0x4ea674(0x142)],_0x46d92e=_0x41066f[_0x4ea674(0x12a)](_0x5f01b6,!![]),_0x5f01b6+=Uint32Array[_0x4ea674(0x142)];if(_0x14e73b[_0x4ea674(0x172)])_0x14e73b[_0x4ea674(0x172)](_0x5f522d,_0x1a09a5,_0x1a09a5+_0x46d92e);else{let _0x41fe01=_0x1a09a5+_0x1a09a5;for(let _0x19d9f9=_0x1a09a5;_0x19d9f9<_0x41fe01;_0x19d9f9++){_0x14e73b[_0x19d9f9]=_0x5f522d;}}_0x140d47[_0x4c117b][_0x4ea674(0x147)]({'vertexColorOffset':_0x1a09a5,'vertexColorCount':_0x46d92e,'batchId':_0x5f522d});}}createBatchIdAttribute(_0x5e29b4[_0x8e980e][_0x4ea674(0x141)],_0x14e73b,undefined);}else{let _0x25b10e=_0x5e29b4[_0x8e980e]['vertexPackage']['instanceCount'],_0x556a70=_0x5e29b4[_0x8e980e][_0x4ea674(0x141)][_0x4ea674(0x123)],_0x2ab915=_0x5e29b4[_0x8e980e][_0x4ea674(0x141)][_0x4ea674(0x14d)],_0x52ad38=new Float32Array(_0x25b10e),_0x21ab2b=0x0;for(let _0x5c32b7=0x0;_0x5c32b7<_0x20aa9e;_0x5c32b7++){let _0x1f32ab=_0x41066f[_0x4ea674(0x12a)](_0x5f01b6,!![]);_0x5f01b6+=Uint32Array[_0x4ea674(0x142)];let _0x31cae2=_0x41066f[_0x4ea674(0x12a)](_0x5f01b6,!![]);_0x5f01b6+=Uint32Array[_0x4ea674(0x142)],_0x140d47[_0x1f32ab]=[];for(let _0x27c07d=0x0;_0x27c07d<_0x31cae2;_0x27c07d++){let _0x5b08b8=_0x41066f[_0x4ea674(0x12a)](_0x5f01b6,!![]);_0x5f01b6+=Uint32Array[_0x4ea674(0x142)],_0x52ad38[_0x21ab2b]=_0x21ab2b,_0x140d47[_0x1f32ab]===undefined&&(_0x140d47[_0x1f32ab]=[{'vertexColorCount':0x1,'instanceIds':[],'vertexColorOffset':_0x21ab2b}]),_0x140d47[_0x1f32ab][_0x4ea674(0x121)][_0x4ea674(0x147)](_0x5b08b8),_0x21ab2b++;}}createBatchIdAttribute(_0x5e29b4[_0x8e980e][_0x4ea674(0x141)],_0x52ad38,0x1);}_0x5e29b4[_0x8e980e][_0x4ea674(0x176)]=_0x140d47;}let _0x21f149=_0x41066f[_0x4ea674(0x12a)](_0x5f01b6,!![]);_0x5f01b6+=Uint32Array[_0x4ea674(0x142)];let _0x42fa38=_0x41066f['getUint32'](_0x5f01b6,!![]);_0x5f01b6+=Uint32Array['BYTES_PER_ELEMENT'];let _0x29baab={};for(let _0x1cfdb7=0x0;_0x1cfdb7<_0x42fa38;_0x1cfdb7++){let _0x23e017=_0x41066f[_0x4ea674(0x12a)](_0x5f01b6,!![]);_0x5f01b6+=Uint32Array[_0x4ea674(0x142)];let _0xba9438=_0x41066f[_0x4ea674(0x12a)](_0x5f01b6,!![]);_0x5f01b6+=Uint32Array[_0x4ea674(0x142)];let _0x196488=_0x41066f[_0x4ea674(0x12a)](_0x5f01b6,!![]);_0x5f01b6+=Uint32Array[_0x4ea674(0x142)];let _0x3b7ecc=_0x41066f[_0x4ea674(0x12a)](_0x5f01b6,!![]);_0x5f01b6+=Uint32Array[_0x4ea674(0x142)];let _0x4d5886=_0x41066f['getUint32'](_0x5f01b6,!![]);_0x5f01b6+=Uint32Array[_0x4ea674(0x142)];let _0x2e0b80=_0x41066f[_0x4ea674(0x12a)](_0x5f01b6,!![]);_0x5f01b6+=Uint32Array[_0x4ea674(0x142)];let _0x2c72dc=_0x2e0b80===_0x479a8e['RGB']||_0x2e0b80===_0x479a8e[_0x4ea674(0x14a)]?Cesium['PixelFormat']['RGB_DXT1']:Cesium[_0x4ea674(0x14c)]['RGBA_DXT5'],_0x500ff9=new Uint8Array(_0x4b6b5a,_0x5f01b6,_0x4d5886);_0x29baab[_0x23e017]={'id':_0x23e017,'width':_0xba9438,'height':_0x196488,'compressType':_0x3b7ecc,'nFormat':_0x2e0b80,'arrayBufferView':_0x500ff9,'internalFormat':_0x2c72dc},_0x5f01b6+=_0x4d5886;}return _0x250f08[_0x4ea674(0x165)]=_0x29baab,_0x250f08;};export default S3ModelOldParser;