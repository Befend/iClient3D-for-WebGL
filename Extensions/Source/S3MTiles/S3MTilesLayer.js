const _0x42bb=['radius','fetchJson','constType','_updateEdgeDistanceFalloffFactor','textureWidth','multiple','_createRasterRegion','ONLY_KEEP_LINE','_selections','_removeObjsOperationType','_oriClipPlane','regions','prePassesUpdate','BoundingBox','_updateAllObjsVisible','Name','_objsColorList','the\x20index\x20is\x200~3','postPassesUpdate','8OCIHPY','execute','GpuProgramParameters','CLIP_BEHIND_ANY_PLANE','resolve','eastNorthUpToFixedFrame','update','max\x20visible\x20distance','9934OPSoiG','.water','heightOffset','pitch','Files','defineProperties','setting','removeObjsColor','rss','_edgeCurrentTotalLength','s3m:FileType','MaxZ','boundingVolume','setVisibleInViewport','MaxHeight','addWaterPlane','_minVisibleAltitude','_updateObjsColor','positionCartographic','renderTexture','isArray','analysisMode','isRootTile','set\x20Objs\x20Operation\x20ids','CategoryRange','isUpdate','namespace','reset','maxVisibleDistance','13171btTBVB','WaterEffect','uniformMap','_position','_objsVisibleList','_isS3MBlock','hypsometricSetting','isReal','name','_maxWValue','SELECTED','releaseSelection','context','range','_clipPlane','BoundingSphere','inverse','setOnlyObjsVisible\x20ids','ready','13RvuWHK','clone','options.context','PhysicalIndex','getDerivedResource','RESET','_selectedTiles','_edgeCurrentCount','_updateFlattenFramebuffer','Transforms','indexOf','HIDE','position','generateBuffer','_flattenPar','remove','MinZ','setObjsColor\x20color','_rootTiles','_cache','replace','Multiple','set','processRequests','style3D','blockKey','_basePath','MinX','Radius','elementCount','_objsHideList','values','headingPitchRollToFixedFrame','fromDegrees','fbo','free','setObjsColor','MinHeight','CenterX','_minWValue','unpack','3122DkjOIs','brdfLutGenerator','all','_maxCategory','getBaseUri','setSelection','ParamType','isUseHypColorTable','queryNumericValue','firstChild','max','_tranverseRenderEntity','fileType','_updateObjsOperation','createIfNeeded','RGBA','clip_behind_any_plane','_visibleViewport','_minCategory','width','createCommand','OUTSIDE','set\x20layer\x20lod\x20range\x20scale','_style3D','_hypsometric','setObjsVisible','Version','data/path/','atuoConstants','MaxY','65BjUefL','invModelMatrix','curDis','isS3MB','visible','push','bounds','_waterPlanes','ColorTable','751oMnChR','flatten','_swipeRegion','min\x20visible\x20distance','multiplyByVector','camera','_materialManager','CLIP_NOTHING','children','_hash','setOnlyObjsVisible','loadConfig','_enableClip','_isS3MB','setCustomClipPlane','AnalysisRegionMode','region','texture','positionWC','normalize','timeVal','defaultValue','updateGeometry','BoundingRectangle','_maxVisibleAltitude','CenterY','OSGFiles','_subTextureManager','clipMode','AssociativeArray','framebuffer','_visibleDistanceMin','Check','_enableClipPlane','dot','data','removeAll','add','subtract','concat','Float','_clipMode','min','createGeometry','_edgeDistanceFalloffFactor','wDescript','Authentication\x20error','IsReal','MAX_VALUE','planePos','DeveloperError','ids','length','map','_objsOperationList','gpuProgramParameters','Texture','renderEntityMap','FileName','swipeRegion\x20must\x20be\x20a\x20instance\x20of\x20BoundingRectangle.','url','queryStringValue','EMPTY_OBJECT','MinCategory','Color','_visible','18LqSXCv','HeadingPitchRoll','WGS84','contains','Data','tiles','bool','setLodRangeScale','GpuConstants','GpuConstantDefinition','modelMatrix','fromCache','FData','_rectangle','getSingleInstance','Left','center','TRANSPARENT','priority','queryBooleanValue','index','dimensions\x20position\x20is\x20required\x20to\x20create\x20CustomClipBox','heightRange','_visibleDistanceMax','Position','typeOf','472prftgz','gpuConstants','449FycomL','realspace','fromDegreesArrayHeights','setSelection\x20ids','PixelFormat','queryNodes','_baseResource','geoBounds','_setObjsOperationType','averageHeight','_objsVisibleMap','_swipeEnabled','_blockCache','_totalMemoryUsageInBytes','_schuduler','maxVisibleAltitude','extensions','left','computeVisibility','MinY','when','updateGeoBounds','updateAllObjsVisible','Index','minVisibleAltitude','Cartesian2','destroy','CLIP_BEHIND_ALL_PLANE','cross','_selectEnabled','right','physicalIndex','Matrix4','multiViewportIndex','_selectedColor','ARM_NONE','hypsometric','unloadTiles','ClearCommand','Bottom','_lodRangeScale','_readyPromise','otherwise','248raQQWU','arraySize','number','_url','s3mblock','.s3m','abs','sort','keys','_maxHeight','height','distance','flattening','_allObjsHide','SetColor','planeNormal','defer','Cartesian4','ElementCount','heading','addFlattenRegion','_minHeight','Top','HeightRange','_maximumMemoryUsage','bottom','_waterParameters','roll','command','dimensions','createGuid','_multiChoose','queryFirstNode','defined','fetchXML','AverageHeight','arrayFloat','Cartesian3','get','textureHeight','123506AexVdS','only_keep_line','_processTiles','_Water','23GwWkJP','then','prototype','_requestTiles','PolygonGeometry','pop','_addRenderedEdge','setObjsColor\x20ids'];const _0x3a6ce5=_0x1f9c;(function(_0x4809c9,_0x1a00b0){const _0x25f151=_0x1f9c;while(!![]){try{const _0x562f91=parseInt(_0x25f151(0x200))*parseInt(_0x25f151(0x213))+parseInt(_0x25f151(0x25a))*parseInt(_0x25f151(0x1c0))+-parseInt(_0x25f151(0x167))*parseInt(_0x25f151(0x263))+-parseInt(_0x25f151(0x169))*-parseInt(_0x25f151(0x194))+parseInt(_0x25f151(0x1bc))+parseInt(_0x25f151(0x1e3))*parseInt(_0x25f151(0x2a5))+-parseInt(_0x25f151(0x1db))*parseInt(_0x25f151(0x23c));if(_0x562f91===_0x1a00b0)break;else _0x4809c9['push'](_0x4809c9['shift']());}catch(_0x390f6d){_0x4809c9['push'](_0x4809c9['shift']());}}}(_0x42bb,0x3285c));import _0x5c0c86 from'./S3MTile.js';import _0x2220b9 from'./S3MLayerScheduler.js';import _0x3c53e3 from'./S3MLayerCache.js';import _0x5596a0 from'./Enum/OperationType.js';import _0x51cae0 from'./Enum/PLANECLIPMODE.js';import _0x49c87f from'./Hypsometric.js';import _0x28eb66 from'./HypsometricSetting.js';import _0x1ce498 from'./Enum/HypsometricSettingEnum.js';import _0x3ef5fd from'./Parameter/Flatten.js';import _0x1ac5fc from'./RasterRegion.js';import _0x65173b from'../Ext/XmlParser.js';import _0x1c0385 from'./Style3D.js';import _0x77c3dc from'./S3MBlockCache.js';function S3MTilesLayer(_0x3b107d){const _0x4cfed2=_0x1f9c;_0x3b107d=Cesium[_0x4cfed2(0x278)](_0x3b107d,Cesium[_0x4cfed2(0x278)][_0x4cfed2(0x2a1)]),Cesium[_0x4cfed2(0x283)][_0x4cfed2(0x1b5)](_0x4cfed2(0x215),_0x3b107d[_0x4cfed2(0x20c)]),Cesium[_0x4cfed2(0x283)][_0x4cfed2(0x1b5)](_0x4cfed2(0x291),_0x3b107d[_0x4cfed2(0x1eb)]),this['id']=Cesium[_0x4cfed2(0x1b2)](),this['name']=_0x3b107d[_0x4cfed2(0x208)],this['context']=_0x3b107d[_0x4cfed2(0x20c)],this[_0x4cfed2(0x270)]=Cesium[_0x4cfed2(0x278)](_0x3b107d[_0x4cfed2(0x25d)],!![]),this[_0x4cfed2(0x205)]=Cesium[_0x4cfed2(0x278)](_0x3b107d['isS3MBlock'],![]),this[_0x4cfed2(0x197)]=undefined,this[_0x4cfed2(0x22d)]=undefined,this[_0x4cfed2(0x16f)]=undefined,this['modelMatrix']=new Cesium[(_0x4cfed2(0x189))](),this[_0x4cfed2(0x25b)]=new Cesium['Matrix4'](),this[_0x4cfed2(0x248)]=undefined,this[_0x4cfed2(0x203)]=undefined,this[_0x4cfed2(0x2b2)]=undefined,this[_0x4cfed2(0x225)]=[],this['_schuduler']=new _0x2220b9(),this[_0x4cfed2(0x1c3)]=[],this[_0x4cfed2(0x1be)]=[],this['_selectedTiles']=[],this['_cache']=new _0x3c53e3(),this[_0x4cfed2(0x1ac)]=-0x1,this['_totalMemoryUsageInBytes']=0x0,this['_maximumPriority']={'foveatedFactor':-Number['MAX_VALUE'],'depth':-Number['MAX_VALUE'],'distance':-Number[_0x4cfed2(0x293)],'pixel':-Number[_0x4cfed2(0x293)]},this['_minimumPriority']={'foveatedFactor':Number[_0x4cfed2(0x293)],'depth':Number['MAX_VALUE'],'distance':Number[_0x4cfed2(0x293)],'pixel':Number[_0x4cfed2(0x293)]},this['_readyPromise']=Cesium['when'][_0x4cfed2(0x1a4)](),this[_0x4cfed2(0x186)]=!![],this[_0x4cfed2(0x1b3)]=![],this[_0x4cfed2(0x1d0)]=[],this[_0x4cfed2(0x18b)]=new Cesium[(_0x4cfed2(0x2a3))](0.7,0.7,0x1,0x1),this['_objsOperationList']=new Cesium[(_0x4cfed2(0x280))](),this['_objsVisibleList']=new Cesium[(_0x4cfed2(0x280))](),this[_0x4cfed2(0x231)]=new Cesium[(_0x4cfed2(0x280))](),this[_0x4cfed2(0x173)]={},this[_0x4cfed2(0x1d8)]={},this['_allObjsHide']=![],this[_0x4cfed2(0x28c)]=_0x51cae0[_0x4cfed2(0x26a)],this['_enableClip']=![],this['_enableClipPlane']=![],this['_clipPlane']=[new Cesium[(_0x4cfed2(0x1a5))](0x0,0x0,0x0,0x0),new Cesium[(_0x4cfed2(0x1a5))](0x0,0x0,0x0,0x0),new Cesium[(_0x4cfed2(0x1a5))](0x0,0x0,0x0,0x0),new Cesium[(_0x4cfed2(0x1a5))](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium[(_0x4cfed2(0x1a5))](0x0,0x0,0x0,0x0)],this[_0x4cfed2(0x1d2)]=[new Cesium[(_0x4cfed2(0x1a5))](0x0,0x0,0x0,0x0),new Cesium[(_0x4cfed2(0x1a5))](0x0,0x0,0x0,0x0),new Cesium[(_0x4cfed2(0x1a5))](0x0,0x0,0x0,0x0),new Cesium[(_0x4cfed2(0x1a5))](0x0,0x0,0x0,0x0),new Cesium[(_0x4cfed2(0x1a5))](0x0,0x0,0x0,0x0),new Cesium[(_0x4cfed2(0x1a5))](0x0,0x0,0x0,0x0)],this['_hypsometric']=new _0x49c87f({}),this[_0x4cfed2(0x221)]=new _0x3ef5fd(),this[_0x4cfed2(0x24e)]=0x0,this[_0x4cfed2(0x23f)]=0x0,this[_0x4cfed2(0x1a9)]=0x0,this[_0x4cfed2(0x19d)]=0x0,this[_0x4cfed2(0x265)]=new Cesium[(_0x4cfed2(0x1a5))](0x0,0x0,0x1,0x1),this[_0x4cfed2(0x174)]=![],this[_0x4cfed2(0x164)]=Cesium['defaultValue'](_0x3b107d[_0x4cfed2(0x1ff)],Number[_0x4cfed2(0x293)]),this[_0x4cfed2(0x282)]=Cesium[_0x4cfed2(0x278)](_0x3b107d['minVisibleDistance'],0x0),this[_0x4cfed2(0x1f3)]=Cesium[_0x4cfed2(0x278)](_0x3b107d[_0x4cfed2(0x181)],0x0),this[_0x4cfed2(0x27b)]=Cesium[_0x4cfed2(0x278)](_0x3b107d[_0x4cfed2(0x178)],Number[_0x4cfed2(0x293)]),this[_0x4cfed2(0x191)]=Cesium['defaultValue'](_0x3b107d['lodRangeScale'],0x1),this[_0x4cfed2(0x2a4)]=Cesium[_0x4cfed2(0x278)](_0x3b107d[_0x4cfed2(0x25e)],!![]),this['_style3D']=Cesium[_0x4cfed2(0x278)](_0x3b107d[_0x4cfed2(0x22b)],new _0x1c0385()),this['_visibleViewport']=0xfff,this[_0x4cfed2(0x1ae)]=undefined,this[_0x4cfed2(0x261)]=undefined,this[_0x4cfed2(0x28f)]=0x0,this[_0x4cfed2(0x1ec)]=0x0,this[_0x4cfed2(0x21a)]=0x0,this[_0x4cfed2(0x175)]=_0x77c3dc[_0x4cfed2(0x2b3)](),this[_0x4cfed2(0x269)]=undefined,this[_0x4cfed2(0x27e)]=undefined,this[_0x4cfed2(0x26e)](_0x3b107d[_0x4cfed2(0x29f)]);}Object[_0x3a6ce5(0x1e8)](S3MTilesLayer['prototype'],{'ready':{'get':function(){const _0x219b8f=_0x3a6ce5;if(this['fileType']==='OSGBCacheFile_Water')return this[_0x219b8f(0x1ae)]!==undefined&&this[_0x219b8f(0x225)][_0x219b8f(0x297)]>0x0;return this['_rootTiles'][_0x219b8f(0x297)]>0x0;}},'readyPromise':{'get':function(){const _0x143f30=_0x3a6ce5;return this[_0x143f30(0x192)];}},'visible':{'get':function(){return this['_visible'];},'set':function(_0x3fe4cf){const _0x567c00=_0x3a6ce5;this[_0x567c00(0x2a4)]=_0x3fe4cf;}},'style3D':{'get':function(){const _0x4126a3=_0x3a6ce5;return this[_0x4126a3(0x253)];}},'rectangle':{'get':function(){return this['_rectangle'];}},'totalMemoryUsageInBytes':{'get':function(){const _0x5dc1e8=_0x3a6ce5;return this[_0x5dc1e8(0x176)];},'set':function(_0x3e9d7c){const _0xc2698e=_0x3a6ce5;this[_0xc2698e(0x176)]=_0x3e9d7c;}},'maximumMemoryUsage':{'get':function(){return this['_maximumMemoryUsage'];},'set':function(_0x5df752){const _0x16bed5=_0x3a6ce5;this[_0x16bed5(0x1ac)]=_0x5df752;}},'lodRangeScale':{'get':function(){const _0x2ecd35=_0x3a6ce5;return this[_0x2ecd35(0x191)];},'set':function(_0x3e1df8){const _0x548bbf=_0x3a6ce5;Cesium['Check'][_0x548bbf(0x166)][_0x548bbf(0x196)](_0x548bbf(0x252),_0x3e1df8),this[_0x548bbf(0x191)]=_0x3e1df8;}},'selectedColor':{'get':function(){const _0x4d4778=_0x3a6ce5;return this[_0x4d4778(0x18b)];},'set':function(_0x41c0e0){const _0x35ecd3=_0x3a6ce5;Cesium[_0x35ecd3(0x2a3)][_0x35ecd3(0x214)](_0x41c0e0,this[_0x35ecd3(0x18b)]);}},'dataMinValue':{'get':function(){const _0x1ccfa2=_0x3a6ce5;return Cesium[_0x1ccfa2(0x278)](this[_0x1ccfa2(0x24e)],this['_minHeight']);}},'dataMaxValue':{'get':function(){const _0x2f85b8=_0x3a6ce5;return Cesium[_0x2f85b8(0x278)](this[_0x2f85b8(0x23f)],this[_0x2f85b8(0x19d)]);}},'swipeRegion':{'get':function(){const _0x4179ee=_0x3a6ce5;return new Cesium[(_0x4179ee(0x27a))](this['_swipeRegion']['x'],this[_0x4179ee(0x265)]['y'],this[_0x4179ee(0x265)]['z']-this['_swipeRegion']['x'],this[_0x4179ee(0x265)]['w']-this[_0x4179ee(0x265)]['y']);},'set':function(_0x1892b0){const _0x5cd143=_0x3a6ce5;if(!_0x1892b0)return;if(!(_0x1892b0 instanceof Cesium[_0x5cd143(0x27a)]))throw new Cesium[(_0x5cd143(0x295))](_0x5cd143(0x29e));Cesium[_0x5cd143(0x1a5)]['fromElements'](_0x1892b0['x'],_0x1892b0['y'],_0x1892b0['x']+_0x1892b0[_0x5cd143(0x24f)],_0x1892b0['y']+_0x1892b0['height'],this[_0x5cd143(0x265)]);}},'swipeEnabled':{'get':function(){const _0xab55e9=_0x3a6ce5;return this[_0xab55e9(0x174)];},'set':function(_0x43f018){const _0x176eeb=_0x3a6ce5;if(_0x43f018===this[_0x176eeb(0x174)])return;!_0x43f018&&Cesium[_0x176eeb(0x1a5)]['fromElements'](0x0,0x0,0x1,0x1,this[_0x176eeb(0x265)]),this[_0x176eeb(0x174)]=_0x43f018,this[_0x176eeb(0x247)]({'enable':_0x43f018},swipeCallback);}},'visibleDistanceMax':{'get':function(){const _0x10e474=_0x3a6ce5;return this[_0x10e474(0x164)];},'set':function(_0x4b76a5){const _0x250665=_0x3a6ce5;Cesium[_0x250665(0x283)][_0x250665(0x166)][_0x250665(0x196)](_0x250665(0x1e2),_0x4b76a5),this[_0x250665(0x164)]=_0x4b76a5;}},'visibleDistanceMin':{'get':function(){const _0x595b55=_0x3a6ce5;return this[_0x595b55(0x282)];},'set':function(_0xe519d8){const _0x29fb4d=_0x3a6ce5;Cesium['Check']['typeOf'][_0x29fb4d(0x196)](_0x29fb4d(0x266),_0xe519d8),this[_0x29fb4d(0x282)]=_0xe519d8;}},'minVisibleAltitude':{'get':function(){return this['_minVisibleAltitude'];},'set':function(_0x1b7c28){const _0x2306d0=_0x3a6ce5;Cesium[_0x2306d0(0x283)][_0x2306d0(0x166)][_0x2306d0(0x196)]('min\x20visible\x20altitude',_0x1b7c28),this['_minVisibleAltitude']=_0x1b7c28;}},'maxVisibleAltitude':{'get':function(){const _0x52ed59=_0x3a6ce5;return this[_0x52ed59(0x27b)];},'set':function(_0x59db3f){const _0x186934=_0x3a6ce5;Cesium[_0x186934(0x283)][_0x186934(0x166)][_0x186934(0x196)]('max\x20visible\x20altitude',_0x59db3f),this['_maxVisibleAltitude']=_0x59db3f;}},'hypsometricSetting':{'get':function(){const _0x17e3f6=_0x3a6ce5;return{'hypsometricSetting':this[_0x17e3f6(0x254)][_0x17e3f6(0x1e9)],'analysisMode':this[_0x17e3f6(0x254)][_0x17e3f6(0x1f8)]};},'set':function(_0x1cbe4c){const _0x40bdea=_0x3a6ce5;let _0x71e046=this[_0x40bdea(0x254)];if(!_0x1cbe4c||!_0x1cbe4c[_0x40bdea(0x206)]){_0x71e046[_0x40bdea(0x243)]=![],_0x71e046[_0x40bdea(0x1e9)]=_0x71e046[_0x40bdea(0x1e9)]&&_0x71e046['setting'][_0x40bdea(0x183)](),this[_0x40bdea(0x247)]({'enable':![]},hypsometricCallback);return;}_0x71e046[_0x40bdea(0x273)]=_0x71e046[_0x40bdea(0x273)]&&_0x71e046[_0x40bdea(0x273)][_0x40bdea(0x183)](),!_0x71e046[_0x40bdea(0x1f6)]&&(_0x71e046['renderTexture']=new Cesium[(_0x40bdea(0x29b))]({'context':this['context'],'width':0x400,'height':0x400,'pixelFormat':Cesium[_0x40bdea(0x16d)][_0x40bdea(0x24b)]})),!_0x71e046['texture']&&(_0x71e046[_0x40bdea(0x274)]=new Cesium[(_0x40bdea(0x29b))]({'context':this['context'],'width':0x400,'height':0x40,'pixelFormat':Cesium['PixelFormat']['RGBA'],'flipY':![]})),_0x71e046[_0x40bdea(0x1f8)]=Cesium[_0x40bdea(0x278)](_0x1cbe4c[_0x40bdea(0x1f8)],_0x71e046[_0x40bdea(0x1f8)]),_0x71e046[_0x40bdea(0x1e9)]=_0x28eb66[_0x40bdea(0x214)](_0x1cbe4c[_0x40bdea(0x206)],_0x71e046[_0x40bdea(0x1e9)]),_0x71e046[_0x40bdea(0x1e9)]['ColorTable']&&(_0x71e046[_0x40bdea(0x1e9)][_0x40bdea(0x262)][_0x40bdea(0x220)](),this['_hypsometric'][_0x40bdea(0x274)]&&this[_0x40bdea(0x254)]['texture']['copyFrom']({'width':0x400,'height':0x40,'arrayBufferView':_0x71e046[_0x40bdea(0x1e9)][_0x40bdea(0x262)]['_imageBuffer']})),_0x71e046[_0x40bdea(0x243)]=_0x71e046['analysisMode']!==_0x1ce498[_0x40bdea(0x272)][_0x40bdea(0x18c)],this[_0x40bdea(0x247)]({'enable':_0x71e046[_0x40bdea(0x243)]},hypsometricCallback);}}});function getWaterEffect(_0x7804a9){const _0x5ec120=_0x3a6ce5;let _0x2fdf77={},_0x41073f=_0x7804a9[_0x5ec120(0x245)];_0x2fdf77['version']=_0x65173b['queryStringValue'](_0x41073f,_0x5ec120(0x256)),_0x2fdf77[_0x5ec120(0x248)]=_0x65173b['queryStringValue'](_0x41073f,'FileType');let _0x1eef8f=_0x65173b['queryFirstNode'](_0x41073f,_0x5ec120(0x201));_0x2fdf77['averageHeight']=_0x65173b[_0x5ec120(0x244)](_0x1eef8f,_0x5ec120(0x1b7));let _0x2972f7=_0x65173b[_0x5ec120(0x16e)](_0x1eef8f,_0x5ec120(0x1dd));_0x2fdf77[_0x5ec120(0x29a)]=[];for(let _0x27c8dd=0x0,_0x2734a6=_0x2972f7[_0x5ec120(0x297)];_0x27c8dd<_0x2734a6;_0x27c8dd++){let _0x1f9e36={};_0x1f9e36['gpuConstants']=[],_0x1f9e36[_0x5ec120(0x258)]=[];let _0x402d99=_0x2972f7[_0x27c8dd],_0x5eab12=_0x65173b[_0x5ec120(0x1b4)](_0x402d99,_0x5ec120(0x2ad));if(_0x5eab12){let _0x505aa3=_0x65173b[_0x5ec120(0x16e)](_0x5eab12,_0x5ec120(0x2ae));for(let _0x3f0b98=0x0,_0x2316f8=_0x505aa3[_0x5ec120(0x297)];_0x3f0b98<_0x2316f8;_0x3f0b98++){let _0x420d4e={},_0x27f5d0=_0x505aa3[_0x3f0b98];_0x420d4e[_0x5ec120(0x1ca)]=_0x65173b['queryNumericValue'](_0x27f5d0,'ConstType'),_0x420d4e[_0x5ec120(0x161)]=_0x65173b['queryNumericValue'](_0x27f5d0,_0x5ec120(0x180)),_0x420d4e[_0x5ec120(0x208)]=_0x65173b[_0x5ec120(0x2a0)](_0x27f5d0,_0x5ec120(0x1d7)),_0x420d4e[_0x5ec120(0x195)]=_0x65173b[_0x5ec120(0x244)](_0x27f5d0,'ArraySize'),_0x420d4e[_0x5ec120(0x1cd)]=_0x65173b['queryNumericValue'](_0x27f5d0,_0x5ec120(0x228));let _0x2ff16a=_0x65173b[_0x5ec120(0x1b4)](_0x27f5d0,'ArrayFloat');_0x420d4e[_0x5ec120(0x1b8)]=[];if(_0x2ff16a){let _0x30ccfc=_0x65173b[_0x5ec120(0x16e)](_0x2ff16a,_0x5ec120(0x28b)),_0x283f4e=0x0;while(_0x283f4e<_0x420d4e[_0x5ec120(0x195)]){let _0x56c5e8=parseFloat(_0x30ccfc[_0x283f4e]['textContent']);_0x420d4e[_0x5ec120(0x1b8)][_0x5ec120(0x25f)](_0x56c5e8),_0x283f4e++;}}_0x1f9e36[_0x5ec120(0x168)][_0x5ec120(0x25f)](_0x420d4e);}}let _0x429b87=_0x65173b[_0x5ec120(0x1b4)](_0x402d99,'AutoConstants');if(_0x429b87){let _0x1b699e=_0x65173b[_0x5ec120(0x16e)](_0x429b87,'AutoConstantEntry');for(let _0x2cc4f4=0x0,_0x372e8a=_0x1b699e[_0x5ec120(0x297)];_0x2cc4f4<_0x372e8a;_0x2cc4f4++){let _0x5730e7={},_0x42fa97=_0x1b699e[_0x2cc4f4];_0x5730e7['paramType']=_0x65173b[_0x5ec120(0x244)](_0x42fa97,_0x5ec120(0x242)),_0x5730e7['name']=_0x65173b[_0x5ec120(0x2a0)](_0x42fa97,_0x5ec120(0x1d7)),_0x5730e7[_0x5ec120(0x188)]=_0x65173b[_0x5ec120(0x244)](_0x42fa97,_0x5ec120(0x216)),_0x5730e7[_0x5ec120(0x230)]=_0x65173b['queryNumericValue'](_0x42fa97,_0x5ec120(0x1a6)),_0x5730e7[_0x5ec120(0x286)]=_0x65173b[_0x5ec120(0x244)](_0x42fa97,_0x5ec120(0x2a9)),_0x5730e7['fData']=_0x65173b[_0x5ec120(0x244)](_0x42fa97,_0x5ec120(0x2b1)),_0x5730e7[_0x5ec120(0x207)]=_0x65173b[_0x5ec120(0x160)](_0x42fa97,_0x5ec120(0x292)),_0x1f9e36[_0x5ec120(0x258)]['push'](_0x5730e7);}}_0x2fdf77[_0x5ec120(0x29a)][_0x5ec120(0x25f)](_0x1f9e36);}return _0x2fdf77;}function getUrl(_0x8c2078,_0x49de14){const _0x1fffa5=_0x3a6ce5;let _0x2f771c=_0x49de14[_0x1fffa5(0x22d)],_0x6ae650=_0x49de14[_0x1fffa5(0x22d)][_0x1fffa5(0x21d)](_0x1fffa5(0x16a))>-0x1;if(!_0x6ae650)return _0x8c2078;let _0x2ae7a4=_0x2f771c['replace'](/(.*realspace)/,''),_0x145df3=_0x2f771c['replace'](/\/rest\/realspace/g,'')[_0x1fffa5(0x227)](_0x2ae7a4,'');return _0x145df3+'/rest/realspace'+_0x2ae7a4+_0x1fffa5(0x257)+_0x8c2078[_0x1fffa5(0x227)](/^\.*/,'')['replace'](/^\//,'')[_0x1fffa5(0x227)](/\/$/,'');}function parseWaterParameters(_0x46d246,_0x48cb7e){const _0x4c8ce5=_0x3a6ce5;let _0x34ffab=_0x48cb7e[_0x4c8ce5(0x179)];if(!_0x34ffab||!_0x34ffab['attachFiles'])return;let _0x23679b=_0x34ffab['attachFiles'],_0xd41a7e=[],_0x56b7b8=_0x46d246[_0x4c8ce5(0x22d)],_0x4e1581=![];for(let _0x273cab=0x0,_0x973df4=_0x23679b[_0x4c8ce5(0x297)];_0x273cab<_0x973df4;_0x273cab++){let _0x53ebbe=_0x23679b[_0x273cab]['attachFile'];if(_0x53ebbe[_0x4c8ce5(0x21d)](_0x4c8ce5(0x1e4))>0x0){let _0x5624e1=getUrl(_0x53ebbe,_0x46d246),_0x5024da=_0x46d246['_baseResource'][_0x4c8ce5(0x217)]({'url':_0x5624e1});_0xd41a7e[_0x4c8ce5(0x25f)](_0x5024da[_0x4c8ce5(0x1b6)]()),_0x4e1581=!![];}}if(!_0xd41a7e[_0x4c8ce5(0x297)])return;Cesium[_0x4c8ce5(0x17d)][_0x4c8ce5(0x23e)](_0xd41a7e,_0x2c84d9=>{const _0x9ebf4b=_0x4c8ce5;let _0x3954ce=[];for(let _0x2586f2=0x0,_0x388d10=_0x2c84d9[_0x9ebf4b(0x297)];_0x2586f2<_0x388d10;_0x2586f2++){let _0xdb6a8=_0x2c84d9[_0x2586f2];if(!_0xdb6a8)break;let _0x8988e=getWaterEffect(_0xdb6a8);_0x3954ce[_0x9ebf4b(0x25f)](_0x8988e);}_0x46d246['_waterPlanes']=new Cesium[(_0x9ebf4b(0x280))](),_0x46d246[_0x9ebf4b(0x1ae)]={};let _0x2a6344=_0x3954ce[0x0];_0x46d246['_waterParameters'][_0x9ebf4b(0x172)]=_0x2a6344['averageHeight'];for(let _0x694109=0x0;_0x694109<_0x2a6344[_0x9ebf4b(0x29a)][_0x9ebf4b(0x297)];_0x694109++){let _0x1760a0=_0x2a6344[_0x9ebf4b(0x29a)][_0x694109];for(let _0x58bc6b=0x0;_0x58bc6b<_0x1760a0[_0x9ebf4b(0x258)][_0x9ebf4b(0x297)];_0x58bc6b++){let _0x40ec48=_0x1760a0[_0x9ebf4b(0x258)][_0x58bc6b];if(_0x40ec48[_0x9ebf4b(0x208)]===_0x9ebf4b(0x277)){_0x46d246[_0x9ebf4b(0x1ae)][_0x40ec48['name']]=_0x40ec48['fData'];break;}}for(let _0x492f01=0x0;_0x492f01<_0x1760a0[_0x9ebf4b(0x168)][_0x9ebf4b(0x297)];_0x492f01++){let _0x345e1d=_0x1760a0[_0x9ebf4b(0x168)][_0x492f01],_0x4017e6=null;switch(_0x345e1d[_0x9ebf4b(0x195)]){case 0x1:_0x4017e6=_0x345e1d[_0x9ebf4b(0x1b8)][0x0];break;case 0x2:_0x4017e6=new Cesium['Cartesian2'](),Cesium[_0x9ebf4b(0x182)]['unpack'](_0x345e1d['arrayFloat'],0x0,_0x4017e6);break;case 0x3:_0x4017e6=new Cesium[(_0x9ebf4b(0x1b9))](),Cesium['Cartesian3'][_0x9ebf4b(0x23b)](_0x345e1d['arrayFloat'],0x0,_0x4017e6);break;case 0x4:_0x4017e6=new Cesium[(_0x9ebf4b(0x1a5))](),Cesium[_0x9ebf4b(0x1a5)][_0x9ebf4b(0x23b)](_0x345e1d['arrayFloat'],0x0,_0x4017e6);break;default:break;}if(!_0x4017e6)continue;_0x46d246[_0x9ebf4b(0x1ae)][_0x345e1d[_0x9ebf4b(0x208)]]=_0x4017e6;}}_0x46d246[_0x9ebf4b(0x248)]+=_0x9ebf4b(0x1bf);});}S3MTilesLayer[_0x3a6ce5(0x1c2)][_0x3a6ce5(0x26e)]=function(_0x71f93b){const _0x53a224=_0x3a6ce5;let _0x2f29c0=this;Cesium[_0x53a224(0x17d)](_0x71f93b)[_0x53a224(0x1c1)](function(_0x226ff5){const _0xc0b70d=_0x53a224;let _0x3a061e,_0x31d25e=Cesium['Resource'][_0xc0b70d(0x24a)](_0x226ff5);_0x3a061e=_0x31d25e[_0xc0b70d(0x240)](!![]),_0x2f29c0[_0xc0b70d(0x197)]=_0x31d25e[_0xc0b70d(0x29f)],_0x2f29c0[_0xc0b70d(0x22d)]=_0x3a061e,_0x2f29c0['_baseResource']=_0x31d25e;if(_0x2f29c0[_0xc0b70d(0x270)]||_0x2f29c0[_0xc0b70d(0x205)])return _0x31d25e[_0xc0b70d(0x1c9)]();return _0x31d25e[_0xc0b70d(0x1b6)]();})[_0x53a224(0x1c1)](function(_0x3fafb1){const _0x5d20a5=_0x53a224;if(_0x2f29c0[_0x5d20a5(0x270)]||_0x2f29c0[_0x5d20a5(0x205)]){let _0x55d0ba=_0x3fafb1['extensions'];_0x2f29c0[_0x5d20a5(0x248)]=_0x55d0ba[_0x5d20a5(0x1ed)];let _0x2b0a42=_0x3fafb1[_0x5d20a5(0x21f)]['x'],_0x28dd4e=_0x3fafb1[_0x5d20a5(0x21f)]['y'],_0x2258eb=_0x3fafb1[_0x5d20a5(0x21f)]['z'];_0x2f29c0[_0x5d20a5(0x203)]=Cesium['Cartesian3']['fromDegrees'](_0x2b0a42,_0x28dd4e,_0x2258eb),_0x2f29c0[_0x5d20a5(0x2af)]=Cesium[_0x5d20a5(0x21c)][_0x5d20a5(0x1e0)](_0x2f29c0['_position']),_0x2f29c0[_0x5d20a5(0x25b)]=Cesium[_0x5d20a5(0x189)][_0x5d20a5(0x210)](_0x2f29c0[_0x5d20a5(0x2af)],_0x2f29c0[_0x5d20a5(0x25b)]),_0x2f29c0[_0x5d20a5(0x2b2)]=Cesium['Rectangle'][_0x5d20a5(0x234)](_0x3fafb1[_0x5d20a5(0x170)][_0x5d20a5(0x17a)],_0x3fafb1[_0x5d20a5(0x170)][_0x5d20a5(0x1ad)],_0x3fafb1['geoBounds'][_0x5d20a5(0x187)],_0x3fafb1[_0x5d20a5(0x170)]['top']);_0x3fafb1[_0x5d20a5(0x163)]&&(_0x2f29c0[_0x5d20a5(0x1a9)]=_0x3fafb1[_0x5d20a5(0x163)][_0x5d20a5(0x28d)],_0x2f29c0[_0x5d20a5(0x19d)]=_0x3fafb1[_0x5d20a5(0x163)][_0x5d20a5(0x246)]);if(_0x3fafb1['wDescript']){let _0x507c6e=_0x3fafb1[_0x5d20a5(0x290)][_0x5d20a5(0x20d)];_0x2f29c0[_0x5d20a5(0x23a)]=_0x507c6e[_0x5d20a5(0x28d)],_0x2f29c0[_0x5d20a5(0x209)]=_0x507c6e[_0x5d20a5(0x246)];}if(_0x3fafb1[_0x5d20a5(0x2aa)][_0x5d20a5(0x297)]>0x0){let _0x4ea86c=Cesium['getExtensionFromUri'](_0x3fafb1[_0x5d20a5(0x2aa)][0x0]['url']);_0x4ea86c===_0x5d20a5(0x198)&&(_0x2f29c0[_0x5d20a5(0x205)]=!![]);}for(let _0x4841a8=0x0,_0x52817c=_0x3fafb1['tiles'][_0x5d20a5(0x297)];_0x4841a8<_0x52817c;_0x4841a8++){let _0x1b7f3f=_0x3fafb1[_0x5d20a5(0x2aa)][_0x4841a8][_0x5d20a5(0x29f)],_0x7fda4c={'box':_0x3fafb1[_0x5d20a5(0x2aa)][_0x4841a8]['boundingbox']},_0x3c8a64=new _0x5c0c86(_0x2f29c0,undefined,_0x7fda4c,_0x1b7f3f);_0x3c8a64[_0x5d20a5(0x1f9)]=!![],_0x3c8a64[_0x5d20a5(0x22c)]=_0x1b7f3f,_0x2f29c0[_0x5d20a5(0x226)][_0x5d20a5(0x288)](_0x3c8a64),_0x2f29c0[_0x5d20a5(0x225)]['push'](_0x3c8a64);}parseWaterParameters(_0x2f29c0,_0x3fafb1);}else{let _0x5d29b7=_0x3fafb1[_0x5d20a5(0x245)],_0x64d3bc=_0x5d29b7[_0x5d20a5(0x1fd)];_0x2f29c0[_0x5d20a5(0x248)]=_0x65173b[_0x5d20a5(0x2a0)](_0x5d29b7,'FileType',_0x64d3bc);let _0x50636c=_0x65173b[_0x5d20a5(0x1b4)](_0x5d29b7,_0x5d20a5(0x165),_0x64d3bc),_0x570676=_0x65173b[_0x5d20a5(0x244)](_0x50636c,'X',_0x64d3bc),_0x2c65fa=_0x65173b[_0x5d20a5(0x244)](_0x50636c,'Y',_0x64d3bc),_0x52fb91=_0x65173b['queryNumericValue'](_0x50636c,'Z',_0x64d3bc);_0x2f29c0['_position']=Cesium['Cartesian3']['fromDegrees'](_0x570676,_0x2c65fa,_0x52fb91),_0x2f29c0['modelMatrix']=Cesium[_0x5d20a5(0x21c)][_0x5d20a5(0x1e0)](_0x2f29c0[_0x5d20a5(0x203)]),_0x2f29c0['invModelMatrix']=Cesium[_0x5d20a5(0x189)][_0x5d20a5(0x210)](_0x2f29c0[_0x5d20a5(0x2af)],_0x2f29c0[_0x5d20a5(0x25b)]);let _0x3dde87=_0x65173b[_0x5d20a5(0x1b4)](_0x5d29b7,'Bounds',_0x64d3bc),_0x2184ff=_0x65173b[_0x5d20a5(0x1b4)](_0x5d29b7,_0x5d20a5(0x1d5),_0x64d3bc);if(_0x3dde87){let _0x32d60b=_0x65173b['queryNumericValue'](_0x3dde87,_0x5d20a5(0x2b4),_0x64d3bc),_0x2a07ef=_0x65173b[_0x5d20a5(0x244)](_0x3dde87,_0x5d20a5(0x1aa),_0x64d3bc),_0x26bf42=_0x65173b[_0x5d20a5(0x244)](_0x3dde87,'Right',_0x64d3bc),_0x12258a=_0x65173b[_0x5d20a5(0x244)](_0x3dde87,_0x5d20a5(0x190),_0x64d3bc);_0x2f29c0[_0x5d20a5(0x2b2)]=Cesium['Rectangle'][_0x5d20a5(0x234)](_0x32d60b,_0x12258a,_0x26bf42,_0x2a07ef);}else{if(_0x2184ff){let _0x6f7ab0=_0x65173b[_0x5d20a5(0x244)](_0x2184ff,_0x5d20a5(0x22e),_0x64d3bc),_0x4f584c=_0x65173b[_0x5d20a5(0x244)](_0x2184ff,_0x5d20a5(0x17c),_0x64d3bc),_0x2e90e6=_0x65173b[_0x5d20a5(0x244)](_0x2184ff,_0x5d20a5(0x223),_0x64d3bc),_0x1445e6=_0x65173b[_0x5d20a5(0x244)](_0x2184ff,'MaxX',_0x64d3bc),_0x3a8bf5=_0x65173b[_0x5d20a5(0x244)](_0x2184ff,_0x5d20a5(0x259),_0x64d3bc),_0x3508d1=_0x65173b[_0x5d20a5(0x244)](_0x2184ff,_0x5d20a5(0x1ee),_0x64d3bc);_0x6f7ab0=0xb4*Math[_0x5d20a5(0x19a)](_0x6f7ab0)/(Math['PI']*0x615299),_0x4f584c=0xb4*Math['abs'](_0x4f584c)/(Math['PI']*0x615299),_0x1445e6=0xb4*Math[_0x5d20a5(0x19a)](_0x1445e6)/(Math['PI']*0x615299),_0x3a8bf5=0xb4*Math[_0x5d20a5(0x19a)](_0x3a8bf5)/(Math['PI']*0x615299),_0x2f29c0['_rectangle']=Cesium['Rectangle'][_0x5d20a5(0x234)](_0x570676-_0x6f7ab0,_0x2c65fa-_0x4f584c,_0x570676+_0x1445e6,_0x2c65fa+_0x3a8bf5);}}let _0x512b27=_0x65173b['queryFirstNode'](_0x5d29b7,_0x5d20a5(0x1ab),_0x64d3bc);_0x512b27&&(_0x2f29c0[_0x5d20a5(0x1a9)]=_0x65173b['queryNumericValue'](_0x512b27,_0x5d20a5(0x238),_0x64d3bc),_0x2f29c0[_0x5d20a5(0x19d)]=_0x65173b[_0x5d20a5(0x244)](_0x512b27,_0x5d20a5(0x1f1),_0x64d3bc));let _0x5a9cc2=_0x65173b[_0x5d20a5(0x1b4)](_0x5d29b7,_0x5d20a5(0x1fb),_0x64d3bc);_0x5a9cc2&&(_0x2f29c0[_0x5d20a5(0x209)]=_0x65173b[_0x5d20a5(0x244)](_0x5a9cc2,'MaxCategory',_0x64d3bc),_0x2f29c0[_0x5d20a5(0x23a)]=_0x65173b[_0x5d20a5(0x244)](_0x5a9cc2,_0x5d20a5(0x2a2),_0x64d3bc));let _0x290473=/\\+/g,_0x4378c6=_0x65173b[_0x5d20a5(0x1b4)](_0x5d29b7,_0x5d20a5(0x27d),_0x64d3bc),_0x2b0ac2=_0x65173b[_0x5d20a5(0x16e)](_0x4378c6,_0x5d20a5(0x1e7),_0x64d3bc);if(_0x2b0ac2[_0x5d20a5(0x297)]>0x0)for(let _0xbb9a74=0x0,_0x9e6d45=_0x2b0ac2[_0x5d20a5(0x297)];_0xbb9a74<_0x9e6d45;_0xbb9a74++){let _0x187afe=_0x2b0ac2[_0xbb9a74],_0x2d82ef=_0x65173b[_0x5d20a5(0x2a0)](_0x187afe,_0x5d20a5(0x29d),_0x64d3bc);_0x2d82ef=_0x2d82ef[_0x5d20a5(0x227)](_0x290473,'/'),_0x2d82ef=_0x2d82ef[_0x5d20a5(0x227)](/(\.osgb)/gi,_0x5d20a5(0x199));let _0x506285=_0x65173b[_0x5d20a5(0x1b4)](_0x187afe,_0x5d20a5(0x20f),_0x64d3bc),_0x59b544={'sphere':{'center':{'x':0x0,'y':0x0,'z':0x0},'radius':0x615299}};if(_0x506285&&_0x506285['childNodes'][_0x5d20a5(0x297)]){let _0x56749b=_0x65173b[_0x5d20a5(0x244)](_0x506285,_0x5d20a5(0x239),_0x64d3bc),_0x549795=_0x65173b[_0x5d20a5(0x244)](_0x506285,_0x5d20a5(0x27c),_0x64d3bc),_0x1cec8b=_0x65173b[_0x5d20a5(0x244)](_0x506285,'CenterZ',_0x64d3bc),_0x57a79d=_0x65173b[_0x5d20a5(0x244)](_0x506285,_0x5d20a5(0x22f),_0x64d3bc);_0x59b544={'sphere':{'center':{'x':_0x56749b,'y':_0x549795,'z':_0x1cec8b},'radius':_0x57a79d}};}let _0xf9f6c2=new _0x5c0c86(_0x2f29c0,undefined,_0x59b544,_0x2d82ef);_0xf9f6c2[_0x5d20a5(0x1f9)]=!![],_0x2f29c0[_0x5d20a5(0x226)][_0x5d20a5(0x288)](_0xf9f6c2),_0x2f29c0[_0x5d20a5(0x225)][_0x5d20a5(0x25f)](_0xf9f6c2);}else{let _0x13555c=_0x65173b[_0x5d20a5(0x16e)](_0x4378c6,_0x5d20a5(0x29d),_0x64d3bc);for(let _0x32a320=0x0,_0x5a8d6c=_0x13555c['length'];_0x32a320<_0x5a8d6c;_0x32a320++){let _0x3127a2=_0x13555c[_0x32a320]['textContent'];_0x3127a2=_0x3127a2['replace'](_0x290473,'/'),_0x3127a2=_0x3127a2['replace'](/(\.osgb)/gi,_0x5d20a5(0x199));let _0x1f6942={'sphere':{'center':{'x':0x0,'y':0x0,'z':0x0},'radius':0x615299}},_0x24991a=new _0x5c0c86(_0x2f29c0,undefined,_0x1f6942,_0x3127a2);_0x24991a[_0x5d20a5(0x1f9)]=!![],_0x2f29c0[_0x5d20a5(0x226)][_0x5d20a5(0x288)](_0x24991a),_0x2f29c0[_0x5d20a5(0x225)]['push'](_0x24991a);}}}_0x2f29c0[_0x5d20a5(0x192)][_0x5d20a5(0x1df)](_0x2f29c0);})[_0x53a224(0x193)](function(_0x283dd8){const _0x2afb87=_0x53a224;_0x2f29c0[_0x2afb87(0x192)]['reject'](_0x283dd8);});};function sortRequestByPriority(_0x2f2227,_0x57cbf5){const _0x24d95f=_0x3a6ce5;return _0x2f2227[_0x24d95f(0x15f)]-_0x57cbf5[_0x24d95f(0x15f)];}function requestTiles(_0x37e0b3){const _0x5bc348=_0x3a6ce5;let _0x2b6596=_0x37e0b3[_0x5bc348(0x1c3)],_0xfc3d22=_0x2b6596[_0x5bc348(0x297)];_0x2b6596[_0x5bc348(0x19b)](sortRequestByPriority);for(let _0x1d700f=0x0;_0x1d700f<_0xfc3d22;++_0x1d700f){let _0x22a939=_0x2b6596[_0x1d700f];_0x22a939['requestContent']();}}function processTiles(_0x59b3d1,_0x1c65b5){const _0x17585d=_0x3a6ce5;let _0x2dd30b=_0x59b3d1[_0x17585d(0x1be)],_0x1c0b06=_0x2dd30b[_0x17585d(0x297)];for(let _0x782880=0x0;_0x782880<_0x1c0b06;++_0x782880){let _0x4904ff=_0x2dd30b[_0x782880];_0x4904ff[_0x17585d(0x1e1)](_0x1c65b5,_0x59b3d1);}}function updateTiles(_0x3983b5,_0x51bb57){const _0x4eb0ff=_0x3a6ce5;let _0x195df1=_0x3983b5[_0x4eb0ff(0x219)],_0x5eeac8=_0x195df1[_0x4eb0ff(0x297)];for(let _0x29be75=0x0;_0x29be75<_0x5eeac8;_0x29be75++){_0x195df1[_0x29be75][_0x4eb0ff(0x1e1)](_0x51bb57,_0x3983b5);}}function unloadTile(_0x1b5622,_0x392a67){const _0x1d3f1d=_0x3a6ce5;_0x392a67[_0x1d3f1d(0x236)]();}function freeResource(_0x33a194){const _0x57919c=_0x3a6ce5;_0x33a194['_cache'][_0x57919c(0x18e)](_0x33a194,unloadTile);}function _0x1f9c(_0x43087d,_0x32f07c){_0x43087d=_0x43087d-0x15e;let _0x42bbf8=_0x42bb[_0x43087d];return _0x42bbf8;}S3MTilesLayer[_0x3a6ce5(0x1c2)][_0x3a6ce5(0x20b)]=function(){const _0x15e4d9=_0x3a6ce5;if(this[_0x15e4d9(0x1d0)][_0x15e4d9(0x297)]<0x1)return;this[_0x15e4d9(0x1d1)](this['_selections'],_0x5596a0[_0x15e4d9(0x20a)]),this[_0x15e4d9(0x1d0)][_0x15e4d9(0x297)]=0x0;},S3MTilesLayer[_0x3a6ce5(0x1c2)][_0x3a6ce5(0x2ac)]=function(_0x506028){const _0x41fd7f=_0x3a6ce5;this[_0x41fd7f(0x191)]=_0x506028;},S3MTilesLayer[_0x3a6ce5(0x1c2)][_0x3a6ce5(0x241)]=function(_0x33d29b){const _0x2914bc=_0x3a6ce5;Cesium['Check']['defined'](_0x2914bc(0x16c),_0x33d29b);if(!this[_0x2914bc(0x186)])return;!Array[_0x2914bc(0x1f7)](_0x33d29b)&&(_0x33d29b=[_0x33d29b]),!this['_multiChoose']&&this[_0x2914bc(0x20b)](),this[_0x2914bc(0x1d0)]=this[_0x2914bc(0x1d0)][_0x2914bc(0x28a)](_0x33d29b),this[_0x2914bc(0x171)](_0x33d29b,_0x5596a0[_0x2914bc(0x20a)]);},S3MTilesLayer[_0x3a6ce5(0x1c2)]['getSelection']=function(){const _0x41f08f=_0x3a6ce5;return[][_0x41f08f(0x28a)](this[_0x41f08f(0x1d0)]);},S3MTilesLayer[_0x3a6ce5(0x1c2)][_0x3a6ce5(0x237)]=function(_0x11d714,_0x4c44ec){const _0x101eb3=_0x3a6ce5;Cesium[_0x101eb3(0x283)][_0x101eb3(0x1b5)](_0x101eb3(0x1c7),_0x11d714),Cesium['Check']['defined'](_0x101eb3(0x224),_0x4c44ec),Cesium[_0x101eb3(0x283)][_0x101eb3(0x166)]['object'](_0x101eb3(0x224),_0x4c44ec);!Array[_0x101eb3(0x1f7)](_0x11d714)&&(_0x11d714=[_0x11d714]);let _0xa20aa8={};for(let _0x381951=0x0,_0x20b7cc=_0x11d714[_0x101eb3(0x297)];_0x381951<_0x20b7cc;_0x381951++){let _0x5dadba=_0x11d714[_0x381951]+'';if(!Cesium[_0x101eb3(0x1b5)](_0x5dadba))continue;this[_0x101eb3(0x1d8)][_0x5dadba]=_0x4c44ec,_0xa20aa8[_0x5dadba]=_0x4c44ec;}this['_updateObjsColor'](_0xa20aa8);},S3MTilesLayer[_0x3a6ce5(0x1c2)][_0x3a6ce5(0x1ea)]=function(_0x4ead5d){const _0x349989=_0x3a6ce5;Cesium[_0x349989(0x283)][_0x349989(0x1b5)]('removeObjsColor\x20ids',_0x4ead5d);!Array[_0x349989(0x1f7)](_0x4ead5d)&&(_0x4ead5d=[_0x4ead5d]);let _0x15f12b={};for(let _0x105604=0x0,_0x49b5d8=_0x4ead5d[_0x349989(0x297)];_0x105604<_0x49b5d8;_0x105604++){let _0x5cbd22=_0x4ead5d[_0x105604];Cesium[_0x349989(0x1b5)](this['_objsColorList'][_0x5cbd22])&&(_0x15f12b[_0x5cbd22]=Cesium[_0x349989(0x2a3)][_0x349989(0x15e)],delete this[_0x349989(0x1d8)][_0x5cbd22]);}this['_removeObjsOperationType'](_0x4ead5d,_0x5596a0[_0x349989(0x1a2)]),this['_updateObjsColor'](_0x15f12b);},S3MTilesLayer[_0x3a6ce5(0x1c2)][_0x3a6ce5(0x26d)]=function(_0x5b29ce,_0x5a3467){const _0x135f72=_0x3a6ce5;Cesium[_0x135f72(0x283)][_0x135f72(0x1b5)](_0x135f72(0x211),_0x5b29ce),Cesium[_0x135f72(0x283)][_0x135f72(0x166)][_0x135f72(0x2ab)]('setOnlyObjsVisible\x20isVisible',_0x5a3467);!Array[_0x135f72(0x1f7)](_0x5b29ce)&&(_0x5b29ce=[_0x5b29ce]);if(_0x5b29ce[_0x135f72(0x297)]===0x0){this[_0x135f72(0x1a1)]=_0x5a3467,this['_objsVisibleList'][_0x135f72(0x287)]();let _0x1038e1=Object[_0x135f72(0x19c)](this[_0x135f72(0x231)]['_hash']);this[_0x135f72(0x1d1)](_0x1038e1,_0x5596a0[_0x135f72(0x21e)]),this[_0x135f72(0x231)][_0x135f72(0x287)](),this[_0x135f72(0x1d6)](!_0x5a3467);return;}let _0x1756e3=this[_0x135f72(0x204)],_0x59974b=this['_objsHideList'],_0x1404f8=this[_0x135f72(0x173)];!_0x5a3467?(_0x5b29ce[_0x135f72(0x298)](function(_0x938d2d){const _0x208b30=_0x135f72;_0x1756e3['remove'](_0x938d2d),_0x59974b[_0x208b30(0x229)](_0x938d2d,!![]);}),this['_setObjsOperationType'](_0x5b29ce,_0x5596a0[_0x135f72(0x21e)])):(_0x5b29ce[_0x135f72(0x298)](function(_0x47e895){const _0x490856=_0x135f72;_0x1756e3[_0x490856(0x229)](_0x47e895,!![]),_0x59974b[_0x490856(0x222)](_0x47e895);}),this[_0x135f72(0x1d1)](_0x5b29ce,_0x5596a0[_0x135f72(0x21e)]));},S3MTilesLayer[_0x3a6ce5(0x1c2)][_0x3a6ce5(0x255)]=function(_0xbf2bbf,_0x4615f3){const _0x87da84=_0x3a6ce5;if(_0xbf2bbf[_0x87da84(0x297)]===0x0){this[_0x87da84(0x26d)]([],_0x4615f3);return;}this[_0x87da84(0x26d)]([],_0x4615f3),this[_0x87da84(0x26d)](_0xbf2bbf,_0x4615f3);};function createPlane(_0x232f86,_0x3ecb04,_0x5b3564){const _0x2b7e94=_0x3a6ce5;let _0x5a0ff9=new Cesium[(_0x2b7e94(0x1b9))](),_0x48d721=new Cesium[(_0x2b7e94(0x1b9))]();Cesium['Cartesian3']['subtract'](_0x3ecb04,_0x232f86,_0x5a0ff9),Cesium[_0x2b7e94(0x1b9)][_0x2b7e94(0x289)](_0x5b3564,_0x232f86,_0x48d721);let _0x2e4469=new Cesium[(_0x2b7e94(0x1b9))]();Cesium[_0x2b7e94(0x1b9)][_0x2b7e94(0x185)](_0x5a0ff9,_0x48d721,_0x2e4469),Cesium[_0x2b7e94(0x1b9)][_0x2b7e94(0x276)](_0x2e4469,_0x2e4469);let _0x4541be=-Cesium[_0x2b7e94(0x1b9)][_0x2b7e94(0x285)](_0x2e4469,_0x232f86);return new Cesium[(_0x2b7e94(0x1a5))](_0x2e4469['x'],_0x2e4469['y'],_0x2e4469['z'],_0x4541be);}function clipCallback(_0x45b682,_0x493823){_0x45b682['clip'](_0x493823);}S3MTilesLayer[_0x3a6ce5(0x1c2)][_0x3a6ce5(0x271)]=function(_0x2437a6,_0x2551e4,_0x2e770f,_0x1d9424){const _0x4b5581=_0x3a6ce5;this[_0x4b5581(0x1d2)][0x0]=createPlane(_0x2437a6,_0x2551e4,_0x2e770f),this[_0x4b5581(0x28c)]=Cesium[_0x4b5581(0x278)](_0x1d9424,_0x51cae0[_0x4b5581(0x184)]),this[_0x4b5581(0x284)]=!![],!this['_enableClip']&&this['_tranverseRenderEntity']({'enable':!![]},clipCallback),this[_0x4b5581(0x26f)]=!![];},S3MTilesLayer[_0x3a6ce5(0x1c2)]['setCustomClipBox']=function(_0x4e85e8){const _0x36211a=_0x3a6ce5;_0x4e85e8=_0x4e85e8||{};if((!_0x4e85e8[_0x36211a(0x1b1)]||!_0x4e85e8[_0x36211a(0x21f)])&&(!_0x4e85e8[_0x36211a(0x294)]||!_0x4e85e8['planeNormal']))throw new Cesium[(_0x36211a(0x295))](_0x36211a(0x162));this[_0x36211a(0x28c)]=_0x51cae0[_0x36211a(0x184)];if(Cesium['defined'](_0x4e85e8[_0x36211a(0x27f)]))switch(_0x4e85e8[_0x36211a(0x27f)]){case _0x36211a(0x24c):this[_0x36211a(0x28c)]=_0x51cae0[_0x36211a(0x1de)];break;case'clip_behind_all_plane':this[_0x36211a(0x28c)]=_0x51cae0[_0x36211a(0x184)];break;case _0x36211a(0x1bd):this[_0x36211a(0x28c)]=_0x51cae0[_0x36211a(0x1cf)];break;default:break;}if(_0x4e85e8[_0x36211a(0x1b1)]){let _0x58691b=new Cesium[(_0x36211a(0x189))](),_0x434aac=_0x4e85e8[_0x36211a(0x21f)],_0x291acc,_0x2c2062,_0x5c52ba;_0x291acc=_0x4e85e8[_0x36211a(0x1a7)]||0x0,_0x2c2062=_0x4e85e8[_0x36211a(0x1e6)]||0x0,_0x5c52ba=_0x4e85e8[_0x36211a(0x1af)]||0x0;let _0xc9a7c8=new Cesium[(_0x36211a(0x2a6))](_0x291acc,_0x2c2062,_0x5c52ba);_0x58691b=Cesium[_0x36211a(0x21c)][_0x36211a(0x233)](_0x434aac,_0xc9a7c8,Cesium['Ellipsoid'][_0x36211a(0x2a7)]);let _0x18788e=_0x4e85e8[_0x36211a(0x1b1)]['x']*0.5,_0x3ab6d5=_0x4e85e8[_0x36211a(0x1b1)]['y']*0.5,_0x4079fe=_0x4e85e8[_0x36211a(0x1b1)]['z']*0.5,_0x2dac67=[];_0x2dac67[0x0]=new Cesium[(_0x36211a(0x1a5))](-_0x18788e,_0x3ab6d5,_0x4079fe,0x1),_0x2dac67[0x1]=new Cesium[(_0x36211a(0x1a5))](_0x18788e,_0x3ab6d5,_0x4079fe,0x1),_0x2dac67[0x2]=new Cesium['Cartesian4'](_0x18788e,-_0x3ab6d5,_0x4079fe,0x1),_0x2dac67[0x3]=new Cesium['Cartesian4'](-_0x18788e,-_0x3ab6d5,_0x4079fe,0x1),_0x2dac67[0x4]=new Cesium['Cartesian4'](-_0x18788e,_0x3ab6d5,-_0x4079fe,0x1),_0x2dac67[0x5]=new Cesium['Cartesian4'](_0x18788e,_0x3ab6d5,-_0x4079fe,0x1),_0x2dac67[0x6]=new Cesium[(_0x36211a(0x1a5))](_0x18788e,-_0x3ab6d5,-_0x4079fe,0x1),_0x2dac67[0x7]=new Cesium[(_0x36211a(0x1a5))](-_0x18788e,-_0x3ab6d5,-_0x4079fe,0x1);for(let _0x267c23=0x0;_0x267c23<0x8;_0x267c23++){Cesium[_0x36211a(0x189)]['multiplyByVector'](_0x58691b,_0x2dac67[_0x267c23],_0x2dac67[_0x267c23]);}this[_0x36211a(0x1d2)][0x0]=Cesium[_0x36211a(0x1a5)][_0x36211a(0x214)](createPlane(_0x2dac67[0x0],_0x2dac67[0x1],_0x2dac67[0x2])),this[_0x36211a(0x1d2)][0x1]=Cesium['Cartesian4']['clone'](createPlane(_0x2dac67[0x0],_0x2dac67[0x4],_0x2dac67[0x1])),this[_0x36211a(0x1d2)][0x2]=Cesium[_0x36211a(0x1a5)][_0x36211a(0x214)](createPlane(_0x2dac67[0x0],_0x2dac67[0x3],_0x2dac67[0x4])),this[_0x36211a(0x1d2)][0x3]=Cesium[_0x36211a(0x1a5)][_0x36211a(0x214)](createPlane(_0x2dac67[0x6],_0x2dac67[0x2],_0x2dac67[0x5])),this[_0x36211a(0x1d2)][0x4]=Cesium[_0x36211a(0x1a5)][_0x36211a(0x214)](createPlane(_0x2dac67[0x6],_0x2dac67[0x7],_0x2dac67[0x2])),this[_0x36211a(0x1d2)][0x5]=Cesium[_0x36211a(0x1a5)]['clone'](createPlane(_0x2dac67[0x6],_0x2dac67[0x5],_0x2dac67[0x7]));}else for(let _0x325df1=0x0;_0x325df1<_0x4e85e8['planePos'][_0x36211a(0x297)];_0x325df1++){let _0x35e3ff=_0x4e85e8[_0x36211a(0x294)][_0x325df1],_0x5e4d45=_0x4e85e8[_0x36211a(0x1a3)][_0x325df1];this['_oriClipPlane'][_0x325df1]['x']=_0x5e4d45['x'],this[_0x36211a(0x1d2)][_0x325df1]['y']=_0x5e4d45['y'],this['_oriClipPlane'][_0x325df1]['z']=_0x5e4d45['z'],this[_0x36211a(0x1d2)][_0x325df1]['w']=-Cesium[_0x36211a(0x1b9)]['dot'](_0x35e3ff,_0x5e4d45);}!this[_0x36211a(0x26f)]&&this['_tranverseRenderEntity']({'enable':!![]},clipCallback),this[_0x36211a(0x26f)]=!![];},S3MTilesLayer['prototype']['clearCustomClipBox']=function(){const _0x3f94ed=_0x3a6ce5;this[_0x3f94ed(0x26f)]=![],this[_0x3f94ed(0x284)]=![],this[_0x3f94ed(0x247)]({'enable':![]},clipCallback);},S3MTilesLayer['prototype'][_0x3a6ce5(0x247)]=function(_0x236c62,_0x3a5cc0){const _0x5d0e61=_0x3a6ce5;let _0x3b5046=[];for(let _0x2cff55=0x0,_0x21175b=this[_0x5d0e61(0x225)][_0x5d0e61(0x297)];_0x2cff55<_0x21175b;_0x2cff55++){let _0x2a90c7=this[_0x5d0e61(0x225)][_0x2cff55];_0x3b5046[_0x5d0e61(0x25f)](_0x2a90c7);}while(_0x3b5046[_0x5d0e61(0x297)]){let _0x130e0=_0x3b5046[_0x5d0e61(0x1c5)]();if(Cesium[_0x5d0e61(0x1b5)](_0x130e0['renderEntityMap']))for(let _0x5d609b in _0x130e0[_0x5d0e61(0x29c)]){const _0x1ef161=_0x130e0[_0x5d0e61(0x29c)][_0x5d609b];_0x1ef161[_0x5d0e61(0x212)]&&_0x3a5cc0(_0x1ef161,_0x236c62);}for(let _0x25aada=0x0,_0x3f3ad8=_0x130e0[_0x5d0e61(0x26b)][_0x5d0e61(0x297)];_0x25aada<_0x3f3ad8;_0x25aada++){_0x3b5046[_0x5d0e61(0x25f)](_0x130e0[_0x5d0e61(0x26b)][_0x25aada]);}}};function updateObjsOperationCallback(_0x372088,_0x5cfbc3){const _0x44a6b7=_0x3a6ce5;_0x372088['updateObjsOperation'](_0x5cfbc3[_0x44a6b7(0x296)],_0x5cfbc3);}S3MTilesLayer[_0x3a6ce5(0x1c2)]['_updateObjsOperation']=function(_0x4a6632){const _0xcb8a68=_0x3a6ce5;this[_0xcb8a68(0x247)]({'ids':_0x4a6632},updateObjsOperationCallback);};function updateObjsColorCallback(_0x41bc13,_0x15fdee){_0x41bc13['updateObjsColor'](_0x15fdee['ids'],_0x15fdee);}S3MTilesLayer[_0x3a6ce5(0x1c2)][_0x3a6ce5(0x1f4)]=function(_0x20d5d3){const _0x259a46=_0x3a6ce5;this[_0x259a46(0x247)]({'ids':_0x20d5d3},updateObjsColorCallback);};function updateAllObjsVisibleCallback(_0x3d3a66,_0x11a834){const _0x2ef147=_0x3a6ce5;_0x3d3a66[_0x2ef147(0x17f)](_0x11a834['isVisible']);}S3MTilesLayer['prototype'][_0x3a6ce5(0x1d6)]=function(_0x25d260){const _0x21f145=_0x3a6ce5;this[_0x21f145(0x247)]({'isVisible':_0x25d260},updateAllObjsVisibleCallback);},S3MTilesLayer[_0x3a6ce5(0x1c2)][_0x3a6ce5(0x171)]=function(_0xdc8ec0,_0x1a1c09){const _0x4f9d0b=_0x3a6ce5;Cesium[_0x4f9d0b(0x283)][_0x4f9d0b(0x1b5)](_0x4f9d0b(0x1fa),_0xdc8ec0),Cesium['Check']['defined']('set\x20Objs\x20Operation\x20operationType',_0x1a1c09);!Array[_0x4f9d0b(0x1f7)](_0xdc8ec0)&&(_0xdc8ec0=[_0xdc8ec0]);let _0x198b39=new Cesium[(_0x4f9d0b(0x280))](),_0x4f3935;for(let _0x55dee0=0x0,_0x4dec49=_0xdc8ec0[_0x4f9d0b(0x297)];_0x55dee0<_0x4dec49;_0x55dee0++){_0x4f3935=_0xdc8ec0[_0x55dee0];if(!Cesium['defined'](_0x4f3935))continue;let _0x3d725c=Cesium['defaultValue'](this[_0x4f9d0b(0x299)][_0x4f9d0b(0x1ba)](_0x4f3935),0x0);if(_0x3d725c===_0x1a1c09)continue;_0x3d725c=_0x3d725c|_0x1a1c09,this[_0x4f9d0b(0x299)][_0x4f9d0b(0x229)](_0x4f3935,_0x3d725c),_0x198b39[_0x4f9d0b(0x229)](_0x4f3935,_0x3d725c);}_0x198b39[_0x4f9d0b(0x297)]>0x0&&this[_0x4f9d0b(0x249)](_0x198b39);},S3MTilesLayer[_0x3a6ce5(0x1c2)][_0x3a6ce5(0x1d1)]=function(_0x29845f,_0x518346){const _0x3a0f3c=_0x3a6ce5;Cesium['Check'][_0x3a0f3c(0x1b5)](_0x3a0f3c(0x1fa),_0x29845f);!Array[_0x3a0f3c(0x1f7)](_0x29845f)&&(_0x29845f=[_0x29845f]);let _0x2d8d65=_0x5596a0['ALL']^_0x518346,_0x5934cc=new Cesium[(_0x3a0f3c(0x280))](),_0x31441e;for(let _0x238010=0x0,_0x32717d=_0x29845f[_0x3a0f3c(0x297)];_0x238010<_0x32717d;_0x238010++){_0x31441e=_0x29845f[_0x238010];let _0x5bc10d=this['_objsOperationList'][_0x3a0f3c(0x1ba)](_0x31441e);if(!Cesium[_0x3a0f3c(0x1b5)](_0x5bc10d))continue;_0x5bc10d&=_0x2d8d65,_0x5bc10d===_0x5596a0[_0x3a0f3c(0x218)]?this[_0x3a0f3c(0x299)]['remove'](_0x31441e):this[_0x3a0f3c(0x299)][_0x3a0f3c(0x229)](_0x31441e,_0x5bc10d),_0x5934cc[_0x3a0f3c(0x229)](_0x31441e,_0x5bc10d);}_0x5934cc[_0x3a0f3c(0x297)]>0x0&&this[_0x3a0f3c(0x249)](_0x5934cc);},S3MTilesLayer[_0x3a6ce5(0x1c2)][_0x3a6ce5(0x1ce)]=function(_0x200c6f){const _0x2cc61b=_0x3a6ce5;let _0x3d2688=Cesium[_0x2cc61b(0x1b9)][_0x2cc61b(0x16b)](_0x200c6f),_0x4cfd4c=new Cesium[(_0x2cc61b(0x1c4))]({'polygonHierarchy':{'positions':_0x3d2688},'perPositionHeight':!![]}),_0x241b0e=Cesium[_0x2cc61b(0x1c4)][_0x2cc61b(0x28e)](_0x4cfd4c),_0x2f6f65=new _0x1ac5fc();return _0x2f6f65[_0x2cc61b(0x279)](_0x241b0e,this[_0x2cc61b(0x25b)]),_0x2f6f65[_0x2cc61b(0x17e)](_0x241b0e),_0x2f6f65;};function flattenCallback(_0x5bf0a6,_0x2efde4){const _0x4770b8=_0x3a6ce5;_0x5bf0a6[_0x4770b8(0x264)](_0x2efde4);}S3MTilesLayer[_0x3a6ce5(0x1c2)][_0x3a6ce5(0x1a8)]=function(_0x5d9141){const _0x4552c9=_0x3a6ce5;let _0x2894f4=_0x5d9141[_0x4552c9(0x208)],_0x2957c1=_0x5d9141[_0x4552c9(0x21f)];if(!_0x2894f4||!_0x2957c1)return;let _0x3631cb=this[_0x4552c9(0x221)],_0x25b2dd=_0x3631cb[_0x4552c9(0x1d3)];if(_0x25b2dd[_0x4552c9(0x2a8)](_0x2894f4))return;!_0x3631cb[_0x4552c9(0x274)]&&(_0x3631cb[_0x4552c9(0x274)]=new Cesium[(_0x4552c9(0x29b))]({'context':this[_0x4552c9(0x20c)],'width':_0x3631cb[_0x4552c9(0x1cc)],'height':_0x3631cb[_0x4552c9(0x1bb)],'pixelFormat':Cesium[_0x4552c9(0x16d)][_0x4552c9(0x24b)]}));let _0x5eb133=this['_createRasterRegion'](_0x2957c1);_0x25b2dd[_0x4552c9(0x229)](_0x2894f4,_0x5eb133),_0x3631cb[_0x4552c9(0x1fc)]=!![],_0x25b2dd['values'][_0x4552c9(0x297)]===0x1&&this['_tranverseRenderEntity']({'enable':!![]},flattenCallback);};function hypsometricCallback(_0x19cd27,_0x1f1ab6){const _0x118faa=_0x3a6ce5;_0x19cd27[_0x118faa(0x18d)](_0x1f1ab6);}function swipeCallback(_0x50c275,_0x43651e){_0x50c275['swipe'](_0x43651e);}function combineRegionBounds(_0x45954f){const _0x255e59=_0x3a6ce5;let _0x2aa06d=new Cesium[(_0x255e59(0x1a5))](Number[_0x255e59(0x293)],Number[_0x255e59(0x293)],-Number[_0x255e59(0x293)],-Number[_0x255e59(0x293)]);for(let _0x1c2a07=0x0;_0x1c2a07<_0x45954f['length'];_0x1c2a07++){const _0x4d94ab=_0x45954f[_0x1c2a07][_0x255e59(0x260)];_0x2aa06d['x']=Math['min'](_0x4d94ab['x'],_0x2aa06d['x']),_0x2aa06d['y']=Math['min'](_0x4d94ab['y'],_0x2aa06d['y']),_0x2aa06d['z']=Math[_0x255e59(0x246)](_0x4d94ab['z'],_0x2aa06d['z']),_0x2aa06d['w']=Math[_0x255e59(0x246)](_0x4d94ab['w'],_0x2aa06d['w']);}return _0x2aa06d;}S3MTilesLayer[_0x3a6ce5(0x1c2)]['_updateFlattenFramebuffer']=function(_0x51d2ff){const _0x146a95=_0x3a6ce5;let _0x549c3f=this[_0x146a95(0x221)];if(!_0x549c3f['isUpdate'])return;_0x549c3f[_0x146a95(0x1fc)]=![];let _0x36d7ac=_0x549c3f[_0x146a95(0x1d3)],_0x543fba=_0x36d7ac[_0x146a95(0x232)][_0x146a95(0x297)];_0x549c3f[_0x146a95(0x1a0)]=_0x543fba>0x0,_0x549c3f['bounds']=combineRegionBounds(_0x36d7ac[_0x146a95(0x232)]);let _0x238ae2=new Cesium[(_0x146a95(0x18f))]({'color':new Cesium['Color'](0x1,0x1,0x1,0x1),'depth':0x1});!_0x549c3f['texture']&&(_0x549c3f['texture']=new Cesium[(_0x146a95(0x29b))]({'context':this[_0x146a95(0x20c)],'width':_0x549c3f[_0x146a95(0x1cc)],'height':_0x549c3f[_0x146a95(0x1bb)],'pixelFormat':Cesium['PixelFormat'][_0x146a95(0x24b)]}));!_0x549c3f[_0x146a95(0x235)]&&(_0x549c3f['fbo']=new Cesium['Framebuffer']({'context':this[_0x146a95(0x20c)],'colorTextures':[_0x549c3f[_0x146a95(0x274)]],'destroyAttachments':![]}));_0x238ae2[_0x146a95(0x281)]=_0x549c3f[_0x146a95(0x235)],_0x238ae2['renderState']=Cesium['RenderState'][_0x146a95(0x2b0)](),_0x238ae2[_0x146a95(0x1dc)](this[_0x146a95(0x20c)]);for(let _0x2f1aae=0x0;_0x2f1aae<_0x543fba;_0x2f1aae++){let _0x576f77=_0x36d7ac[_0x146a95(0x232)][_0x2f1aae];_0x576f77[_0x146a95(0x250)](this[_0x146a95(0x20c)],_0x549c3f[_0x146a95(0x235)]),_0x576f77[_0x146a95(0x1b0)][_0x146a95(0x202)]={'uRect':function(){const _0x11357f=_0x146a95;return _0x549c3f[_0x11357f(0x260)];}},_0x576f77[_0x146a95(0x1b0)]['execute'](this['context']);}},S3MTilesLayer[_0x3a6ce5(0x1c2)][_0x3a6ce5(0x1f0)]=function(_0x4997c5,_0x38eec8){const _0x5add07=_0x3a6ce5;if(_0x4997c5>0x8)throw new Cesium[(_0x5add07(0x295))]('the\x20index\x20is\x200~8');_0x38eec8?this[_0x5add07(0x24d)]=0x1<<_0x4997c5|this['_visibleViewport']:this[_0x5add07(0x24d)]=~(0x1<<_0x4997c5)&this[_0x5add07(0x24d)];},S3MTilesLayer[_0x3a6ce5(0x1c2)]['getVisibleInViewport']=function(_0x1a0dd0){const _0x10b594=_0x3a6ce5;if(_0x1a0dd0>0x8)throw new Cesium['DeveloperError'](_0x10b594(0x1d9));return 0x1<<_0x1a0dd0&this[_0x10b594(0x24d)];},S3MTilesLayer[_0x3a6ce5(0x1c2)][_0x3a6ce5(0x1cb)]=function(){const _0x2b1221=_0x3a6ce5;if(this[_0x2b1221(0x21a)]===0x0){this[_0x2b1221(0x1ec)]=0x0;return;}this['_edgeDistanceFalloffFactor']=this[_0x2b1221(0x1ec)]/this['_edgeCurrentCount']*0x28,this['_edgeCurrentTotalLength']=0x0,this[_0x2b1221(0x21a)]=0x0;},S3MTilesLayer[_0x3a6ce5(0x1c2)][_0x3a6ce5(0x1c6)]=function(_0x2794b0,_0x2d910b){const _0x5ae157=_0x3a6ce5;this[_0x5ae157(0x1ec)]+=_0x2794b0,this[_0x5ae157(0x21a)]+=_0x2d910b;};function updateWaterPlane(_0x4aa5db,_0xe5db58){const _0x132009=_0x3a6ce5;if(!_0x4aa5db[_0x132009(0x261)])return;let _0x578fdf=_0x4aa5db[_0x132009(0x261)];_0xe5db58[_0x132009(0x25c)]===undefined&&(_0xe5db58[_0x132009(0x25c)]=0x615299);_0xe5db58['heightOffset']===undefined&&(_0xe5db58['heightOffset']=0x0);let _0x18657a=_0xe5db58[_0x132009(0x268)][_0x132009(0x275)];for(let _0xc14a64 in _0x578fdf[_0x132009(0x26c)]){if(_0x578fdf['_hash']['hasOwnProperty'](_0xc14a64)){let _0x218370=_0x578fdf[_0x132009(0x1ba)](_0xc14a64),_0x2ed9d4=_0x218370[_0x132009(0x1ef)];if(_0xe5db58['cullingVolume'][_0x132009(0x17b)](_0x2ed9d4)===Cesium['Intersect'][_0x132009(0x251)])continue;let _0x1a462c=Cesium[_0x132009(0x1b9)][_0x132009(0x19f)](_0x2ed9d4[_0x132009(0x2b5)],_0x18657a)-_0x2ed9d4[_0x132009(0x1c8)];_0x1a462c=_0x1a462c<0.01?0.01:_0x1a462c,_0x1a462c<_0xe5db58[_0x132009(0x25c)]&&(_0xe5db58['curDis']=_0x1a462c,_0xe5db58[_0x132009(0x1e5)]=_0x218370['distance']);}}}S3MTilesLayer['prototype'][_0x3a6ce5(0x1f2)]=function(_0x577d89){const _0x434bb0=_0x3a6ce5;let _0x5f2268=this[_0x434bb0(0x261)][_0x434bb0(0x297)];return this['_waterPlanes'][_0x434bb0(0x229)](_0x5f2268,_0x577d89),_0x5f2268;},S3MTilesLayer[_0x3a6ce5(0x1c2)]['removeWaterPlane']=function(_0x5f4885){this['_waterPlanes']['remove'](_0x5f4885);},S3MTilesLayer[_0x3a6ce5(0x1c2)][_0x3a6ce5(0x1d4)]=function(_0x104fc9){const _0x280010=_0x3a6ce5;if(!this[_0x280010(0x212)])return;_0x104fc9['newFrame']&&(this[_0x280010(0x226)][_0x280010(0x1fe)](),this['_requestTiles'][_0x280010(0x297)]=0x0,this[_0x280010(0x1be)]['length']=0x0,this[_0x280010(0x219)][_0x280010(0x297)]=0x0,Cesium['defined'](_0x104fc9[_0x280010(0x23d)])&&_0x104fc9[_0x280010(0x23d)][_0x280010(0x1e1)](_0x104fc9),updateWaterPlane(this,_0x104fc9));};let scratchtTransposeViewMatrix=new Cesium[(_0x3a6ce5(0x189))]();S3MTilesLayer[_0x3a6ce5(0x1c2)][_0x3a6ce5(0x1da)]=function(_0x2df0a7){const _0x52da90=_0x3a6ce5;if(!this['ready'])return;freeResource(this),this[_0x52da90(0x21b)](_0x2df0a7),this[_0x52da90(0x1cb)](),this[_0x52da90(0x27e)]&&this[_0x52da90(0x27e)][_0x52da90(0x22a)](this['id']);};function isLayerVisible(_0x10a7cc,_0x2f083e){const _0x51be99=_0x3a6ce5;let _0x5bf87c=_0x2f083e[_0x51be99(0x268)];if(_0x5bf87c['positionCartographic'][_0x51be99(0x19e)]<_0x10a7cc[_0x51be99(0x1f3)]||_0x5bf87c[_0x51be99(0x1f5)][_0x51be99(0x19e)]>_0x10a7cc['_maxVisibleAltitude'])return![];if(!_0x10a7cc['getVisibleInViewport'](_0x2f083e[_0x51be99(0x18a)]))return![];return _0x10a7cc[_0x51be99(0x25e)];}function updateClipPlanes(_0xbfc275,_0x1f056f){const _0x86677e=_0x3a6ce5;if(_0xbfc275[_0x86677e(0x26f)]){let _0x2ce585=_0x1f056f[_0x86677e(0x268)]['inverseViewMatrix'];Cesium['Matrix4']['transpose'](_0x2ce585,scratchtTransposeViewMatrix);for(let _0x437f7d=0x0;_0x437f7d<0x6;_0x437f7d++){Cesium[_0x86677e(0x189)][_0x86677e(0x267)](scratchtTransposeViewMatrix,_0xbfc275[_0x86677e(0x1d2)][_0x437f7d],_0xbfc275[_0x86677e(0x20e)][_0x437f7d]);}}}S3MTilesLayer['prototype'][_0x3a6ce5(0x1e1)]=function(_0x86895d){const _0x1ca1cc=_0x3a6ce5;if(!this[_0x1ca1cc(0x212)]||!isLayerVisible(this,_0x86895d))return;this[_0x1ca1cc(0x177)]['schedule'](this,_0x86895d),requestTiles(this),processTiles(this,_0x86895d),updateTiles(this,_0x86895d),updateClipPlanes(this,_0x86895d);};export default S3MTilesLayer;