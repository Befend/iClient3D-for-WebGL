const _0x24fe=['bReflect','pickInfo','initLayerSetting','tintColour','shaderProgramToCreate','scroll','fromCache','getFramebuffer','prototype','destroy','noise','470014TvyyLA','minFresnel','shaderProgram','799800UGLfTl','waterColour','createBatchTable','vertexAttributes','layer','3061481VCUSbT','maxFresnel','indexBufferToCreate','reflectFramebuffer','primitiveType','fresnelPower','733915AQpjVh','arrIndexPackage','isDestroyed','1hsrCNr','length','vertexPackage','style3D','DrawCommand','getUniformMapCallback','context','selectionInfoMap','create','drawingBufferWidth','bTransparentSorting','defined','updateBatchTableAttributes','selectedColor','TRANSLUCENT','getColorTexture','material','noiseScale','BoundingSphere','ready','494287cKeHPX','_waterParameters','removeWaterPlane','call','camera','addWaterPlane','bottomAltitude','OPAQUE','sceneFramebuffer','waterIndex','batchTable','Pass','drawingBufferHeight','_swipeRegion','BlendingState','commandList','ALPHA_BLEND','_clipPlane','defaultTexture','batchTableDirty','waterBrightness','649161HAylDf','347Kygedq','vertexBufferToCreate','2621Xtsejk','bumpSpeed','clone','Cartesian4','geoMatrix','createBuffers','colorCommand','vertexArray','averageHeight','push','createCommand','waterTime'];const _0x10f8de=_0x59db;(function(_0x28167f,_0x3cb357){const _0x1150c9=_0x59db;while(!![]){try{const _0x145f71=-parseInt(_0x1150c9(0x13c))+parseInt(_0x1150c9(0x16e))+parseInt(_0x1150c9(0x154))*-parseInt(_0x1150c9(0x152))+-parseInt(_0x1150c9(0x125))+parseInt(_0x1150c9(0x151))*-parseInt(_0x1150c9(0x128))+-parseInt(_0x1150c9(0x16b))+parseInt(_0x1150c9(0x11f));if(_0x145f71===_0x3cb357)break;else _0x28167f['push'](_0x28167f['shift']());}catch(_0x3124ce){_0x28167f['push'](_0x28167f['shift']());}}}(_0x24fe,0x93901));import _0x5c8c32 from'../Shaders/FresnelVp.js';function _0x59db(_0x3ad61a,_0x4fcd5a){_0x3ad61a=_0x3ad61a-0x11d;let _0x24fe9f=_0x24fe[_0x3ad61a];return _0x24fe9f;}import _0x593131 from'../Shaders/FresnelFp.js';import _0x501f98 from'./RenderEntity.js';function S3MWaterRenderEntity(_0x2c131d){const _0x8ce986=_0x59db;_0x501f98[_0x8ce986(0x13f)](this,_0x2c131d),this['vs']=_0x5c8c32,this['fs']=_0x593131,this[_0x8ce986(0x145)]=-0x1,this[_0x8ce986(0x15f)]=0x0;}S3MWaterRenderEntity[_0x10f8de(0x168)]=Object[_0x10f8de(0x130)](_0x501f98[_0x10f8de(0x168)]),S3MWaterRenderEntity[_0x10f8de(0x168)]['constructor']=_0x501f98;function getOpaqueRenderState(){const _0x25b26f=_0x10f8de;return Cesium['RenderState'][_0x25b26f(0x166)]({'cull':{'enabled':!![]},'depthTest':{'enabled':!![],'func':Cesium['DepthFunction']['LESS_OR_EQUAL']},'blending':Cesium[_0x25b26f(0x14a)][_0x25b26f(0x14c)]});}let swipRegionScratch=new Cesium[(_0x10f8de(0x157))]();function getUniformMap(_0x813b4e,_0x52207b,_0x3b0931){return{'uGeoMatrix':function(){const _0x204d0f=_0x59db;return _0x3b0931[_0x204d0f(0x158)];},'uFillForeColor':function(){return _0x52207b['style3D']['fillForeColor'];},'uSelectedColor':function(){const _0x18d0ff=_0x59db;return _0x52207b[_0x18d0ff(0x135)];},'uClipMode':function(){return _0x52207b['_clipMode'];},'uClipPlanes':function(){const _0x2577b3=_0x59db;return _0x52207b[_0x2577b3(0x14d)];},'uSwipeRegion':function(){const _0x391e0b=_0x59db,_0x1c7bd3=_0x52207b[_0x391e0b(0x12e)];return swipRegionScratch['x']=_0x52207b['_swipeRegion']['x']*_0x1c7bd3[_0x391e0b(0x131)],swipRegionScratch['y']=(0x1-_0x52207b[_0x391e0b(0x149)]['y'])*_0x1c7bd3[_0x391e0b(0x148)],swipRegionScratch['z']=_0x52207b[_0x391e0b(0x149)]['z']*_0x1c7bd3[_0x391e0b(0x131)],swipRegionScratch['w']=(0x1-_0x52207b[_0x391e0b(0x149)]['w'])*_0x1c7bd3[_0x391e0b(0x148)],swipRegionScratch;},'uReflectMap':function(){const _0x4a8b91=_0x59db;let _0x15bb9a=_0x52207b['context'][_0x4a8b91(0x122)][_0x4a8b91(0x144)][_0x4a8b91(0x167)]();if(!_0x15bb9a)return _0x52207b[_0x4a8b91(0x12e)][_0x4a8b91(0x14e)];return _0x15bb9a[_0x4a8b91(0x137)](0x0);},'uNoiseMap':function(){const _0x28c870=_0x59db;return _0x52207b[_0x28c870(0x12e)]['defaultTexture'];},'uTimeVal':function(){const _0x21e97a=_0x59db;let _0xde0dc7=_0x52207b[_0x21e97a(0x13d)]['timeVal']*0.01;return _0x3b0931['waterTime']=_0x3b0931[_0x21e97a(0x15f)]>0x1?_0xde0dc7:_0x3b0931['waterTime']+_0xde0dc7,_0x3b0931[_0x21e97a(0x15f)];},'uScale':function(){return _0x52207b['_waterParameters']['scale'];},'uScroll':function(){const _0x2cbcb1=_0x59db;return _0x52207b['_waterParameters'][_0x2cbcb1(0x165)];},'uNoise':function(){const _0x2e46f8=_0x59db;return _0x52207b[_0x2e46f8(0x13d)][_0x2e46f8(0x16a)];},'uBumpSpeed':function(){const _0x4128e2=_0x59db;return _0x52207b[_0x4128e2(0x13d)][_0x4128e2(0x155)];},'uFresnelPower':function(){const _0x328d07=_0x59db;return _0x52207b['_waterParameters'][_0x328d07(0x124)];},'uMinFresnel':function(){const _0x257625=_0x59db;return _0x52207b[_0x257625(0x13d)][_0x257625(0x16c)];},'uMaxFresnel':function(){const _0x10e267=_0x59db;return _0x52207b['_waterParameters'][_0x10e267(0x120)];},'uTintColour':function(){const _0x149f1e=_0x59db;return _0x52207b[_0x149f1e(0x13d)][_0x149f1e(0x163)];},'uNoiseScale':function(){const _0x267712=_0x59db;return _0x52207b[_0x267712(0x13d)][_0x267712(0x139)];},'uWaterColour':function(){const _0x77afab=_0x59db;return _0x52207b[_0x77afab(0x13d)][_0x77afab(0x16f)];},'uWaterBrightness':function(){const _0x5a89c5=_0x59db;return _0x52207b[_0x5a89c5(0x13d)][_0x5a89c5(0x150)];}};}S3MWaterRenderEntity[_0x10f8de(0x168)]['createCommand']=function(){const _0x234b6f=_0x10f8de;if(Cesium[_0x234b6f(0x133)](this[_0x234b6f(0x15a)])||this[_0x234b6f(0x153)]['length']!==0x0||this[_0x234b6f(0x121)][_0x234b6f(0x129)]!==0x0||this[_0x234b6f(0x164)][_0x234b6f(0x129)]!==0x0)return;let _0x5db6b0=this[_0x234b6f(0x11e)],_0x2e3a6c=_0x5db6b0['context'],_0x2b6dff=this[_0x234b6f(0x12a)],_0x3aa53e=this[_0x234b6f(0x126)],_0x2e0a05=_0x2b6dff[_0x234b6f(0x11d)];if(_0x3aa53e[_0x234b6f(0x129)]<0x1)return;let _0x39486e=_0x3aa53e[0x0],_0x3c0a05=this['material'];this[_0x234b6f(0x15b)]=new Cesium['VertexArray']({'context':_0x2e3a6c,'attributes':_0x2e0a05,'indexBuffer':_0x39486e['indexBuffer']}),this[_0x234b6f(0x15a)]=new Cesium[(_0x234b6f(0x12c))]({'primitiveType':_0x39486e[_0x234b6f(0x123)],'modelMatrix':this['modelMatrix'],'boundingVolume':Cesium[_0x234b6f(0x13a)][_0x234b6f(0x156)](this['boundingVolume']),'vertexArray':this[_0x234b6f(0x15b)],'shaderProgram':this[_0x234b6f(0x16d)],'pass':_0x3c0a05[_0x234b6f(0x132)]?Cesium[_0x234b6f(0x147)][_0x234b6f(0x136)]:Cesium[_0x234b6f(0x147)][_0x234b6f(0x143)],'renderState':_0x3c0a05[_0x234b6f(0x132)]?getTransparentRenderState():getOpaqueRenderState(),'instanceCount':_0x2b6dff['instanceCount']});let _0xc09a38=getUniformMap(_0x3c0a05,_0x5db6b0,this);this[_0x234b6f(0x15a)]['uniformMap']=this[_0x234b6f(0x146)][_0x234b6f(0x12d)]()(_0xc09a38),this['vertexPackage']=undefined,this[_0x234b6f(0x126)]=undefined,this['vs']=undefined,this['fs']=undefined,this[_0x234b6f(0x13b)]=!![];};function addWaterPlane(_0x4c1000,_0x158c5e){const _0x14db05=_0x10f8de;let _0x17babf={'boundingVolume':_0x4c1000['boundingVolume'],'distance':_0x158c5e[_0x14db05(0x12b)][_0x14db05(0x142)]+_0x158c5e[_0x14db05(0x13d)][_0x14db05(0x15c)]};_0x4c1000[_0x14db05(0x145)]=_0x158c5e[_0x14db05(0x141)](_0x17babf);}S3MWaterRenderEntity[_0x10f8de(0x168)]['update']=function(_0x54f5a8,_0x36b476){const _0x2f9225=_0x10f8de;if(_0x54f5a8[_0x2f9225(0x140)][_0x2f9225(0x160)])return;if(!this[_0x2f9225(0x13b)]){this[_0x2f9225(0x170)](_0x54f5a8),this['createPickIds'](),this[_0x2f9225(0x159)](_0x54f5a8),this['createShaderProgram'](_0x54f5a8),this[_0x2f9225(0x15e)](_0x54f5a8),this[_0x2f9225(0x162)](_0x36b476),addWaterPlane(this,_0x36b476);return;}this[_0x2f9225(0x14f)]&&(this[_0x2f9225(0x134)](),this[_0x2f9225(0x14f)]=![]),this[_0x2f9225(0x146)]['update'](_0x54f5a8),_0x54f5a8[_0x2f9225(0x14b)][_0x2f9225(0x15d)](this['colorCommand']);},S3MWaterRenderEntity[_0x10f8de(0x168)][_0x10f8de(0x127)]=function(){return![];},S3MWaterRenderEntity[_0x10f8de(0x168)][_0x10f8de(0x169)]=function(){const _0xa192c5=_0x10f8de;return this[_0xa192c5(0x16d)]=this[_0xa192c5(0x16d)]&&!this[_0xa192c5(0x16d)][_0xa192c5(0x127)]()&&this[_0xa192c5(0x16d)][_0xa192c5(0x169)](),this[_0xa192c5(0x15b)]=this[_0xa192c5(0x15b)]&&!this[_0xa192c5(0x15b)][_0xa192c5(0x127)]()&&this['vertexArray'][_0xa192c5(0x169)](),this[_0xa192c5(0x138)]=this[_0xa192c5(0x138)]&&!this[_0xa192c5(0x138)][_0xa192c5(0x127)]()&&this[_0xa192c5(0x138)][_0xa192c5(0x169)](),this[_0xa192c5(0x146)]=this[_0xa192c5(0x146)]&&!this[_0xa192c5(0x146)][_0xa192c5(0x127)]()&&this[_0xa192c5(0x146)][_0xa192c5(0x169)](),this[_0xa192c5(0x145)]>-0x1&&this[_0xa192c5(0x11e)][_0xa192c5(0x13e)](this['waterIndex']),this['colorCommand']=undefined,this[_0xa192c5(0x12a)]=null,this['arrIndexPackage']=null,this['modelMatrix']=undefined,this[_0xa192c5(0x161)]=undefined,this[_0xa192c5(0x12f)]=undefined,this['vs']=undefined,this['fs']=undefined,Cesium['destroyObject'](this);};export default S3MWaterRenderEntity;